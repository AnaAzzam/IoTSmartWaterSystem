Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
Bad Request: /api/register/
(0.017) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'Reda' LIMIT 21; args=('Reda',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'Reda' LIMIT 21; args=('Reda',); alias=default
Bad Request: /api/login/
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'Reda' LIMIT 21; args=('Reda',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'Reda' LIMIT 21; args=('Reda',); alias=default
Bad Request: /api/login/
Bad Request: /api/login/
(0.009) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '04d2b77483262ae52fb5fc4f9387921253575783' LIMIT 21; args=('04d2b77483262ae52fb5fc4f9387921253575783',); alias=default
(0.007) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE ("core_waterconsumption"."period" = 'daily' AND "core_waterconsumption"."user_id" = 12) ORDER BY "core_waterconsumption"."timestamp" DESC LIMIT 1; args=('daily', 12); alias=default
Not Found: /api/water-consumption/latest/daily/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '04d2b77483262ae52fb5fc4f9387921253575783' LIMIT 21; args=('04d2b77483262ae52fb5fc4f9387921253575783',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE ("core_waterconsumption"."period" = 'daily' AND "core_waterconsumption"."user_id" = 12) ORDER BY "core_waterconsumption"."timestamp" DESC LIMIT 1; args=('daily', 12); alias=default
Not Found: /api/water-consumption/latest/daily/
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '04d2b77483262ae52fb5fc4f9387921253575783' LIMIT 21; args=('04d2b77483262ae52fb5fc4f9387921253575783',); alias=default
(0.004) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE ("core_tankflowmetric"."metric_type" = 'main_flow_rate' AND "core_tankflowmetric"."user_id" = 12) ORDER BY "core_tankflowmetric"."timestamp" DESC LIMIT 1; args=('main_flow_rate', 12); alias=default
Not Found: /api/tank-flow/latest/main_flow_rate/
(0.015) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'e3ca0ad2b92014c241e466861f39722ed2fae4cf' LIMIT 21; args=('e3ca0ad2b92014c241e466861f39722ed2fae4cf',); alias=default
(0.021) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 1 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(1,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'e3ca0ad2b92014c241e466861f39722ed2fae4cf' LIMIT 21; args=('e3ca0ad2b92014c241e466861f39722ed2fae4cf',); alias=default
(0.003) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE ("core_waterconsumption"."period" = 'daily' AND "core_waterconsumption"."user_id" = 1) ORDER BY "core_waterconsumption"."timestamp" DESC LIMIT 1; args=('daily', 1); alias=default
(0.013) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:57:34.650253+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 57, 34, 650253, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.007) SELECT "django_admin_log"."id", "django_admin_log"."action_time", "django_admin_log"."user_id", "django_admin_log"."content_type_id", "django_admin_log"."object_id", "django_admin_log"."object_repr", "django_admin_log"."action_flag", "django_admin_log"."change_message", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at", "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_admin_log" INNER JOIN "core_customuser" ON ("django_admin_log"."user_id" = "core_customuser"."id") LEFT OUTER JOIN "django_content_type" ON ("django_admin_log"."content_type_id" = "django_content_type"."id") WHERE "django_admin_log"."user_id" = 1 ORDER BY "django_admin_log"."action_time" DESC LIMIT 10; args=(1,); alias=default
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLPattern 'api/login/' [name='login']>], [<URLPattern 'api/register/' [name='register']>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLPattern 'api/login/' [name='login']>], [<URLPattern 'api/register/' [name='register']>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLPattern 'api/login/' [name='login']>], [<URLPattern 'api/register/' [name='register']>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /favicon.ico
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:57:41.005918+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 57, 41, 5918, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.013) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.007) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC LIMIT 100; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:57:41.254551+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 57, 41, 254551, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:57:52.364265+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 57, 52, 364265, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.008) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC LIMIT 8 OFFSET 3800; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:57:52.509813+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 57, 52, 509813, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:57:55.231864+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 57, 55, 231864, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.008) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC LIMIT 100 OFFSET 3600; args=(); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:57:55.394488+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 57, 55, 394488, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:58:02.037238+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 58, 2, 37238, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 12; args=(12,); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") WHERE "core_waterconsumption"."user_id" = 12 ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC; args=(12,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:58:02.141841+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 58, 2, 141841, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:58:07.051133+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 58, 7, 51133, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.004) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'core' AND "django_content_type"."model" = 'waterconsumption') LIMIT 21; args=('core', 'waterconsumption'); alias=default
(0.001) COMMIT; args=None; alias=default
(0.004) DECLARE "_django_curs_125987480131264_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:58:07.196284+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 58, 7, 196284, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:58:15.461118+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 58, 15, 461118, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_125987496916672_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:58:15.567229+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 58, 15, 567229, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:58:19.578553+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 58, 19, 578553, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 12 LIMIT 21; args=(12,); alias=default
(0.000) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 12 LIMIT 1; args=(1, 12); alias=default
(0.015) INSERT INTO "core_waterconsumption" ("user_id", "consumption", "period", "timestamp", "sensor_id") VALUES (12, 50.0, 'daily', '2025-06-25T16:58:19.602909+00:00'::timestamptz, 'main_flow_sensor') RETURNING "core_waterconsumption"."id"; args=(12, 50.0, 'daily', datetime.datetime(2025, 6, 25, 16, 58, 19, 602909, tzinfo=datetime.timezone.utc), 'main_flow_sensor'); alias=default
(0.005) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-06-25T16:58:19.621025+00:00'::timestamptz, 1, 7, '3809', 'Daily Water Consumption for testuser41 at 2025-06-25 16:58:19.602909+00:00: 50.0L', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 6, 25, 16, 58, 19, 621025, tzinfo=datetime.timezone.utc), 1, 7, '3809', 'Daily Water Consumption for testuser41 at 2025-06-25 16:58:19.602909+00:00: 50.0L', 1, '[{"added": {}}]'); alias=default
(0.008) COMMIT; args=None; alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:58:19.656576+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 58, 19, 656576, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.002) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 12; args=(12,); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") WHERE "core_waterconsumption"."user_id" = 12 ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC; args=(12,); alias=default
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:58:19.761015+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 58, 19, 761015, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:58:21.727203+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 58, 21, 727203, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_125987463345856_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:58:21.828749+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 58, 21, 828749, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:58:34.824644+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 58, 34, 824644, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 12 LIMIT 21; args=(12,); alias=default
(0.000) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 12 LIMIT 1; args=(1, 12); alias=default
(0.001) INSERT INTO "core_waterconsumption" ("user_id", "consumption", "period", "timestamp", "sensor_id") VALUES (12, 80.0, 'total', '2025-06-25T16:58:34.850719+00:00'::timestamptz, 'tank_level_sensor') RETURNING "core_waterconsumption"."id"; args=(12, 80.0, 'total', datetime.datetime(2025, 6, 25, 16, 58, 34, 850719, tzinfo=datetime.timezone.utc), 'tank_level_sensor'); alias=default
(0.001) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-06-25T16:58:34.853415+00:00'::timestamptz, 1, 7, '3810', 'Total Water Consumption for testuser41 at 2025-06-25 16:58:34.850719+00:00: 80.0L', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 6, 25, 16, 58, 34, 853415, tzinfo=datetime.timezone.utc), 1, 7, '3810', 'Total Water Consumption for testuser41 at 2025-06-25 16:58:34.850719+00:00: 80.0L', 1, '[{"added": {}}]'); alias=default
(0.002) COMMIT; args=None; alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:58:34.879655+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 58, 34, 879655, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 12; args=(12,); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") WHERE "core_waterconsumption"."user_id" = 12 ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC; args=(12,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:58:35.005643+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 58, 35, 5643, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.011) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '04d2b77483262ae52fb5fc4f9387921253575783' LIMIT 21; args=('04d2b77483262ae52fb5fc4f9387921253575783',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 12 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(12,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:59:22.574336+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 59, 22, 574336, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_125987496916672_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:59:22.671318+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 59, 22, 671318, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:59:39.830127+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 59, 39, 830127, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 12 LIMIT 21; args=(12,); alias=default
(0.000) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 12 LIMIT 1; args=(1, 12); alias=default
(0.002) INSERT INTO "core_waterconsumption" ("user_id", "consumption", "period", "timestamp", "sensor_id") VALUES (12, 20.0, 'total', '2025-06-25T16:59:39.857482+00:00'::timestamptz, 'secondary_flow_sensor') RETURNING "core_waterconsumption"."id"; args=(12, 20.0, 'total', datetime.datetime(2025, 6, 25, 16, 59, 39, 857482, tzinfo=datetime.timezone.utc), 'secondary_flow_sensor'); alias=default
(0.001) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-06-25T16:59:39.860230+00:00'::timestamptz, 1, 7, '3811', 'Total Water Consumption for testuser41 at 2025-06-25 16:59:39.857482+00:00: 20.0L', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 6, 25, 16, 59, 39, 860230, tzinfo=datetime.timezone.utc), 1, 7, '3811', 'Total Water Consumption for testuser41 at 2025-06-25 16:59:39.857482+00:00: 20.0L', 1, '[{"added": {}}]'); alias=default
(0.005) COMMIT; args=None; alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:59:39.884274+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 59, 39, 884274, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 12; args=(12,); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") WHERE "core_waterconsumption"."user_id" = 12 ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC; args=(12,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:59:39.991629+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 59, 39, 991629, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:59:40.939095+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 59, 40, 939095, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_125987471738560_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:59:41.039088+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 59, 41, 39088, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:59:50.265187+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 59, 50, 265187, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 12 LIMIT 21; args=(12,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 12 LIMIT 1; args=(1, 12); alias=default
(0.002) INSERT INTO "core_waterconsumption" ("user_id", "consumption", "period", "timestamp", "sensor_id") VALUES (12, 90.0, 'weekly', '2025-06-25T16:59:50.300986+00:00'::timestamptz, 'secondary_flow_sensor') RETURNING "core_waterconsumption"."id"; args=(12, 90.0, 'weekly', datetime.datetime(2025, 6, 25, 16, 59, 50, 300986, tzinfo=datetime.timezone.utc), 'secondary_flow_sensor'); alias=default
(0.001) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-06-25T16:59:50.304212+00:00'::timestamptz, 1, 7, '3812', 'Weekly Water Consumption for testuser41 at 2025-06-25 16:59:50.300986+00:00: 90.0L', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 6, 25, 16, 59, 50, 304212, tzinfo=datetime.timezone.utc), 1, 7, '3812', 'Weekly Water Consumption for testuser41 at 2025-06-25 16:59:50.300986+00:00: 90.0L', 1, '[{"added": {}}]'); alias=default
(0.005) COMMIT; args=None; alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:59:50.328935+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 59, 50, 328935, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 12; args=(12,); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") WHERE "core_waterconsumption"."user_id" = 12 ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC; args=(12,); alias=default
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:59:50.442135+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 59, 50, 442135, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:59:51.604322+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 59, 51, 604322, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_125987745429184_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:59:51.710793+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 59, 51, 710793, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.004) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T16:59:58.642659+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 16, 59, 58, 642659, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 12 LIMIT 21; args=(12,); alias=default
(0.000) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 12 LIMIT 1; args=(1, 12); alias=default
(0.001) ROLLBACK; args=None; alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/contrib/admin/sites.py", line 241, in inner
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py", line 1961, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py", line 1865, in _changeform_view
    form_validated = form.is_valid()
                     ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/forms/forms.py", line 197, in is_valid
    return self.is_bound and not self.errors
                                 ^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/forms/forms.py", line 192, in errors
    self.full_clean()
  File "/usr/local/lib/python3.12/site-packages/django/forms/forms.py", line 327, in full_clean
    self._post_clean()
  File "/usr/local/lib/python3.12/site-packages/django/forms/models.py", line 498, in _post_clean
    self.instance.full_clean(exclude=exclude, validate_unique=False)
  File "/usr/local/lib/python3.12/site-packages/django/db/models/base.py", line 1626, in full_clean
    self.clean()
  File "/app/core/models/base.py", line 77, in clean
    if self.consumption < 0:
       ^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'NoneType' and 'int'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc455d00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('exc', 'TypeError("\'<\' not supported between instances of \'NoneType\' and \'int\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7295cfd5b530>>')], 'id': 125987702791424, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc456c40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7295cfd5b530>'), ('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('response', 'None'), ('callback', '<function ModelAdmin.add_view at 0x7295cdfee7a0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7295ced47200>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7295cedc06e0>')], 'id': 125987702795328, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc454cc0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py', 'function': 'wrapper', 'lineno': 718, 'vars': [('args', "(<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>,)"), ('kwargs', '{}'), ('self', "<WaterConsumptionAdmin: model=WaterConsumption site=AdminSite(name='admin')>"), ('view', "<bound method ModelAdmin.add_view of <WaterConsumptionAdmin: model=WaterConsumption site=AdminSite(name='admin')>>")], 'id': 125987702787264, 'pre_context': ['        return inline_instances', '', '    def get_urls(self):', '        from django.urls import path', '', '        def wrap(view):', '            def wrapper(*args, **kwargs):'], 'context_line': '                return self.admin_site.admin_view(view)(*args, **kwargs)', 'post_context': ['', '            wrapper.model_admin = self', '            return update_wrapper(wrapper, view)', '', '        info = self.opts.app_label, self.opts.model_name', ''], 'pre_context_lineno': 711, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc456a80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/utils/decorators.py', 'function': '_view_wrapper', 'lineno': 188, 'vars': [('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('args', '()'), ('kwargs', '{}'), ('result', 'None'), ('_post_process_request', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._post_process_request at 0x7295cc6d8ea0>'), ('_pre_process_request', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._pre_process_request at 0x7295cc6db380>'), ('_process_exception', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._process_exception at 0x7295cc6da340>'), ('view_func', '<function AdminSite.admin_view.<locals>.inner at 0x7295cc6daf20>')], 'id': 125987702794880, 'pre_context': ['                    result = _pre_process_request(request, *args, **kwargs)', '                    if result is not None:', '                        return result', '', '                    try:', '                        response = view_func(request, *args, **kwargs)', '                    except Exception as e:'], 'context_line': '                        result = _process_exception(request, e)', 'post_context': ['                        if result is not None:', '                            return result', '', '                    return _post_process_request(request, response)', '', '            return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 181, 'colno': '\n                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc456b80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/utils/decorators.py', 'function': '_view_wrapper', 'lineno': 186, 'vars': [('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('args', '()'), ('kwargs', '{}'), ('result', 'None'), ('_post_process_request', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._post_process_request at 0x7295cc6d8ea0>'), ('_pre_process_request', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._pre_process_request at 0x7295cc6db380>'), ('_process_exception', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._process_exception at 0x7295cc6da340>'), ('view_func', '<function AdminSite.admin_view.<locals>.inner at 0x7295cc6daf20>')], 'id': 125987702795136, 'pre_context': ['', '                def _view_wrapper(request, *args, **kwargs):', '                    result = _pre_process_request(request, *args, **kwargs)', '                    if result is not None:', '                        return result', '', '                    try:'], 'context_line': '                        response = view_func(request, *args, **kwargs)', 'post_context': ['                    except Exception as e:', '                        result = _process_exception(request, e)', '                        if result is not None:', '                            return result', '', '                    return _post_process_request(request, response)'], 'pre_context_lineno': 179, 'colno': '\n                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc456100>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/cache.py', 'function': '_view_wrapper', 'lineno': 80, 'vars': [('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function AdminSite.admin_view.<locals>.inner at 0x7295cc6d94e0>')], 'id': 125987702792448, 'pre_context': ['            add_never_cache_headers(response)', '            return response', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):', '            _check_request(request, "never_cache")'], 'context_line': '            response = view_func(request, *args, **kwargs)', 'post_context': ['            add_never_cache_headers(response)', '            return response', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 73, 'colno': '\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc454400>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/contrib/admin/sites.py', 'function': 'inner', 'lineno': 241, 'vars': [('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('args', '()'), ('kwargs', '{}'), ('self', "AdminSite(name='admin')"), ('view', "<bound method ModelAdmin.add_view of <WaterConsumptionAdmin: model=WaterConsumption site=AdminSite(name='admin')>>")], 'id': 125987702785024, 'pre_context': ['                # importing django.contrib.auth.models.User (unrelated model).', '                from django.contrib.auth.views import redirect_to_login', '', '                return redirect_to_login(', '                    request.get_full_path(),', '                    reverse("admin:login", current_app=self.name),', '                )'], 'context_line': '            return view(request, *args, **kwargs)', 'post_context': ['', '        if not cacheable:', '            inner = never_cache(inner)', '        # We add csrf_protect here so this function can be used as a utility', "        # function for any view, without having to repeat 'csrf_protect'.", '        if not getattr(view, "csrf_exempt", False):'], 'pre_context_lineno': 234, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc455900>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py', 'function': 'add_view', 'lineno': 1961, 'vars': [('self', "<WaterConsumptionAdmin: model=WaterConsumption site=AdminSite(name='admin')>"), ('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('form_url', "''"), ('extra_context', 'None')], 'id': 125987702790400, 'pre_context': ['        context.update(extra_context or {})', '', '        return self.render_change_form(', '            request, context, add=add, change=not add, obj=obj, form_url=form_url', '        )', '', '    def add_view(self, request, form_url="", extra_context=None):'], 'context_line': '        return self.changeform_view(request, None, form_url, extra_context)', 'post_context': ['', '    def change_view(self, request, object_id, form_url="", extra_context=None):', '        return self.changeform_view(request, object_id, form_url, extra_context)', '', '    def _get_edited_object_pks(self, request, prefix):', '        """Return POST data values of list_editable primary keys."""'], 'pre_context_lineno': 1954, 'colno': '\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc454900>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/utils/decorators.py', 'function': '_wrapper', 'lineno': 48, 'vars': [('self', "<WaterConsumptionAdmin: model=WaterConsumption site=AdminSite(name='admin')>"), ('args', "(<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>,\n None,\n '',\n None)"), ('kwargs', '{}'), ('bound_method', '<function ModelAdmin.changeform_view at 0x7295cc6d91c0>'), ('dec', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator at 0x7295d121d940>'), ('decorators', '[<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator at 0x7295d121d940>]'), ('method', '<function ModelAdmin.changeform_view at 0x7295d12213a0>')], 'id': 125987702786304, 'pre_context': ["        # bound_method has the signature that 'decorator' expects i.e. no", "        # 'self' argument, but it's a closure over self so it can call", "        # 'func'. Also, wrap method.__get__() in a function because new", "        # attributes can't be set on bound method objects, only on functions.", '        bound_method = wraps(method)(partial(method.__get__(self, type(self))))', '        for dec in decorators:', '            bound_method = dec(bound_method)'], 'context_line': '        return bound_method(*args, **kwargs)', 'post_context': ['', '    # Copy any attributes that a decorator adds to the function it decorates.', '    for dec in decorators:', '        _update_method_wrapper(_wrapper, dec)', "    # Preserve any existing attributes of 'method', including the name.", '    update_wrapper(_wrapper, method)'], 'pre_context_lineno': 41, 'colno': '\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc4542c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/utils/decorators.py', 'function': '_view_wrapper', 'lineno': 188, 'vars': [('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('args', "(None, '', None)"), ('kwargs', '{}'), ('result', 'None'), ('_post_process_request', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._post_process_request at 0x7295cc6db9c0>'), ('_pre_process_request', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._pre_process_request at 0x7295cc6d8720>'), ('_process_exception', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._process_exception at 0x7295cc6d9da0>'), ('view_func', "functools.partial(<bound method ModelAdmin.changeform_view of <WaterConsumptionAdmin: model=WaterConsumption site=AdminSite(name='admin')>>)")], 'id': 125987702784704, 'pre_context': ['                    result = _pre_process_request(request, *args, **kwargs)', '                    if result is not None:', '                        return result', '', '                    try:', '                        response = view_func(request, *args, **kwargs)', '                    except Exception as e:'], 'context_line': '                        result = _process_exception(request, e)', 'post_context': ['                        if result is not None:', '                            return result', '', '                    return _post_process_request(request, response)', '', '            return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 181, 'colno': '\n                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cca33400>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/utils/decorators.py', 'function': '_view_wrapper', 'lineno': 186, 'vars': [('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('args', "(None, '', None)"), ('kwargs', '{}'), ('result', 'None'), ('_post_process_request', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._post_process_request at 0x7295cc6db9c0>'), ('_pre_process_request', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._pre_process_request at 0x7295cc6d8720>'), ('_process_exception', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._process_exception at 0x7295cc6d9da0>'), ('view_func', "functools.partial(<bound method ModelAdmin.changeform_view of <WaterConsumptionAdmin: model=WaterConsumption site=AdminSite(name='admin')>>)")], 'id': 125987708941312, 'pre_context': ['', '                def _view_wrapper(request, *args, **kwargs):', '                    result = _pre_process_request(request, *args, **kwargs)', '                    if result is not None:', '                        return result', '', '                    try:'], 'context_line': '                        response = view_func(request, *args, **kwargs)', 'post_context': ['                    except Exception as e:', '                        result = _process_exception(request, e)', '                        if result is not None:', '                            return result', '', '                    return _post_process_request(request, response)'], 'pre_context_lineno': 179, 'colno': '\n                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc4543c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py', 'function': 'changeform_view', 'lineno': 1820, 'vars': [('self', "<WaterConsumptionAdmin: model=WaterConsumption site=AdminSite(name='admin')>"), ('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('object_id', 'None'), ('form_url', "''"), ('extra_context', 'None')], 'id': 125987702784960, 'pre_context': ['        self.message_user(request, msg, messages.WARNING)', '        url = reverse("admin:index", current_app=self.admin_site.name)', '        return HttpResponseRedirect(url)', '', '    @csrf_protect_m', '    def changeform_view(self, request, object_id=None, form_url="", extra_context=None):', '        with transaction.atomic(using=router.db_for_write(self.model)):'], 'context_line': '            return self._changeform_view(request, object_id, form_url, extra_context)', 'post_context': ['', '    def _changeform_view(self, request, object_id, form_url, extra_context):', '        to_field = request.POST.get(TO_FIELD_VAR, request.GET.get(TO_FIELD_VAR))', '        if to_field and not self.to_field_allowed(request, to_field):', '            raise DisallowedModelAdminToField(', '                "The field %s cannot be referenced." % to_field'], 'pre_context_lineno': 1813, 'colno': '\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc456740>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py', 'function': '_changeform_view', 'lineno': 1865, 'vars': [('self', "<WaterConsumptionAdmin: model=WaterConsumption site=AdminSite(name='admin')>"), ('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('object_id', 'None'), ('form_url', "''"), ('extra_context', 'None'), ('to_field', 'None'), ('add', 'True'), ('obj', 'None'), ('fieldsets', "[(None, {'fields': ['user', 'consumption', 'period', 'sensor_id']})]"), ('ModelForm', "<class 'django.forms.widgets.WaterConsumptionForm'>"), ('form', '<WaterConsumptionForm bound=True, valid=False, fields=(user;consumption;period;sensor_id)>'), ('formsets', '[]'), ('inline_instances', '[]')], 'id': 125987702794048, 'pre_context': ['        if request.method == "POST":', '            form = ModelForm(request.POST, request.FILES, instance=obj)', '            formsets, inline_instances = self._create_formsets(', '                request,', '                form.instance,', '                change=not add,', '            )'], 'context_line': '            form_validated = form.is_valid()', 'post_context': ['            if form_validated:', '                new_object = self.save_form(request, form, change=not add)', '            else:', '                new_object = form.instance', '            if all_valid(formsets) and form_validated:', '                self.save_model(request, new_object, form, not add)'], 'pre_context_lineno': 1858, 'colno': '\n                                   ^^^^^^^^^^^^^^^', 'tb_area_colno': '\n                     ^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc4548c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/forms/forms.py', 'function': 'is_valid', 'lineno': 197, 'vars': [('self', '<WaterConsumptionForm bound=True, valid=False, fields=(user;consumption;period;sensor_id)>')], 'id': 125987702786240, 'pre_context': ['        """Return an ErrorDict for the data provided for the form."""', '        if self._errors is None:', '            self.full_clean()', '        return self._errors', '', '    def is_valid(self):', '        """Return True if the form has no errors, or False otherwise."""'], 'context_line': '        return self.is_bound and not self.errors', 'post_context': ['', '    def add_prefix(self, field_name):', '        """', '        Return the field name with a prefix appended, if this Form has a', '        prefix set.', ''], 'pre_context_lineno': 190, 'colno': '\n                                          ^^^^^^^^^^^', 'tb_area_colno': '\n                                 ^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc338440>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/forms/forms.py', 'function': 'errors', 'lineno': 192, 'vars': [('self', '<WaterConsumptionForm bound=True, valid=False, fields=(user;consumption;period;sensor_id)>')], 'id': 125987701621824, 'pre_context': ['            self._bound_fields_cache[name] = field.get_bound_field(self, name)', '        return self._bound_fields_cache[name]', '', '    @property', '    def errors(self):', '        """Return an ErrorDict for the data provided for the form."""', '        if self._errors is None:'], 'context_line': '            self.full_clean()', 'post_context': ['        return self._errors', '', '    def is_valid(self):', '        """Return True if the form has no errors, or False otherwise."""', '        return self.is_bound and not self.errors', ''], 'pre_context_lineno': 185, 'colno': '\n                 ^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc437400>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/forms/forms.py', 'function': 'full_clean', 'lineno': 327, 'vars': [('self', '<WaterConsumptionForm bound=True, valid=False, fields=(user;consumption;period;sensor_id)>')], 'id': 125987702666240, 'pre_context': ['        # If the form is permitted to be empty, and none of the form data has', '        # changed from the initial data, short circuit any validation.', '        if self.empty_permitted and not self.has_changed():', '            return', '', '        self._clean_fields()', '        self._clean_form()'], 'context_line': '        self._post_clean()', 'post_context': ['', '    def _clean_fields(self):', '        for name, bf in self._bound_items():', '            field = bf.field', '            try:', '                self.cleaned_data[name] = field._clean_bound_field(bf)'], 'pre_context_lineno': 320, 'colno': '\n             ^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc4363c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/forms/models.py', 'function': '_post_clean', 'lineno': 498, 'vars': [('self', '<WaterConsumptionForm bound=True, valid=False, fields=(user;consumption;period;sensor_id)>'), ('opts', '<django.forms.models.ModelFormOptions object at 0x7295cc6c2780>'), ('exclude', "{'timestamp', 'id', 'consumption'}"), ('name', "'sensor_id'"), ('field', '<django.forms.fields.CharField object at 0x7295cc5c58b0>')], 'id': 125987702662080, 'pre_context': ['            self.instance = construct_instance(', '                self, self.instance, opts.fields, opts.exclude', '            )', '        except ValidationError as e:', '            self._update_errors(e)', '', '        try:'], 'context_line': '            self.instance.full_clean(exclude=exclude, validate_unique=False)', 'post_context': ['        except ValidationError as e:', '            self._update_errors(e)', '', '        # Validate uniqueness if needed.', '        if self._validate_unique:', '            self.validate_unique()'], 'pre_context_lineno': 491, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc8c2c40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/db/models/base.py', 'function': 'full_clean', 'lineno': 1626, 'vars': [('self', '<WaterConsumption: Monthly Water Consumption for testuser41 at None: NoneL>'), ('exclude', "{'timestamp', 'id', 'consumption'}"), ('validate_unique', 'False'), ('validate_constraints', 'True'), ('errors', '{}')], 'id': 125987707432000, 'pre_context': ['            self.clean_fields(exclude=exclude)', '        except ValidationError as e:', '            errors = e.update_error_dict(errors)', '', '        # Form.clean() is run even if other validation fails, so do the', '        # same with Model.clean() for consistency.', '        try:'], 'context_line': '            self.clean()', 'post_context': ['        except ValidationError as e:', '            errors = e.update_error_dict(errors)', '', '        # Run unique checks, but only for fields that passed validation.', '        if validate_unique:', '            for name in errors:'], 'pre_context_lineno': 1619, 'colno': '\n                  ^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cf9ab580>, 'type': 'user', 'filename': '/app/core/models/base.py', 'function': 'clean', 'lineno': 77, 'vars': [('self', '<WaterConsumption: Monthly Water Consumption for testuser41 at None: NoneL>')], 'id': 125987758716288, 'pre_context': ['    sensor_id = models.CharField(', '        max_length=50,', '        help_text="Unique identifier for the sensor (e.g., \'main_flow_sensor\')"', '    )', '    ', '    def clean(self):', '        # Validate consumption (non-negative)'], 'context_line': '        if self.consumption < 0:', 'post_context': ['            raise ValidationError("Water consumption cannot be negative")', '    ', '    def save(self, *args, **kwargs):', '        self.clean()', '        super().save(*args, **kwargs)', '    '], 'pre_context_lineno': 70, 'colno': '\n               ^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n       ^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '_changelist_filters=user__id__exact%3D12', 'SCRIPT_NAME': '', 'PATH_INFO': '/admin/core/waterconsumption/add/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 42948, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '127.0.0.1:8000', 'HTTP_CONNECTION': 'keep-alive', 'CONTENT_LENGTH': '163', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Brave";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Windows"', 'HTTP_ORIGIN': 'http://127.0.0.1:8000', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8', 'HTTP_SEC_GPC': '1', 'HTTP_ACCEPT_LANGUAGE': 'en-US,en;q=0.7', 'HTTP_SEC_FETCH_SITE': 'same-origin', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_REFERER': 'http://127.0.0.1:8000/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_COOKIE': '********************', 'CSRF_COOKIE': '51aPHFRln0r2umuBuh3KZ9ZFjk7b9ACy'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************'), ('sessionid', '********************')]), 'user_str': 'azzam', 'filtered_POST_items': [('csrfmiddlewaretoken', 'no3aqbjEPakwPPXsAciNYINeSyo8OTsMif3PXG0P20Bo91hTUjbnNHCJ1Il9NjUa'), ('user', '12'), ('consumption', ''), ('period', 'monthly'), ('sensor_id', 'secondary_flow_sensor'), ('_save', 'Save')], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOWED_ORIGINS': ['http://192.168.1.7:8000'], 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated']}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 25, 16, 59, 58, 724956, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7295cc63aa80>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7295cc63be00>, 'request_insecure_uri': 'http://127.0.0.1:8000/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12', 'raising_view_name': 'django.contrib.admin.options.add_view', 'exception_type': 'TypeError', 'exception_value': "'<' not supported between instances of 'NoneType' and 'int'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cf9ab580>, 'type': 'user', 'filename': '/app/core/models/base.py', 'function': 'clean', 'lineno': 77, 'vars': [('self', '<WaterConsumption: Monthly Water Consumption for testuser41 at None: NoneL>')], 'id': 125987758716288, 'pre_context': ['    sensor_id = models.CharField(', '        max_length=50,', '        help_text="Unique identifier for the sensor (e.g., \'main_flow_sensor\')"', '    )', '    ', '    def clean(self):', '        # Validate consumption (non-negative)'], 'context_line': '        if self.consumption < 0:', 'post_context': ['            raise ValidationError("Water consumption cannot be negative")', '    ', '    def save(self, *args, **kwargs):', '        self.clean()', '        super().save(*args, **kwargs)', '    '], 'pre_context_lineno': 70, 'colno': '\n               ^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n       ^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/contrib/admin/sites.py", line 241, in inner
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py", line 1961, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py", line 1865, in _changeform_view
    form_validated = form.is_valid()
                     ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/forms/forms.py", line 197, in is_valid
    return self.is_bound and not self.errors
                                 ^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/forms/forms.py", line 192, in errors
    self.full_clean()
  File "/usr/local/lib/python3.12/site-packages/django/forms/forms.py", line 327, in full_clean
    self._post_clean()
  File "/usr/local/lib/python3.12/site-packages/django/forms/models.py", line 498, in _post_clean
    self.instance.full_clean(exclude=exclude, validate_unique=False)
  File "/usr/local/lib/python3.12/site-packages/django/db/models/base.py", line 1626, in full_clean
    self.clean()
  File "/app/core/models/base.py", line 77, in clean
    if self.consumption < 0:
       ^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'NoneType' and 'int'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc455d00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('exc', 'TypeError("\'<\' not supported between instances of \'NoneType\' and \'int\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7295cfd5b530>>')], 'id': 125987702791424, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc456c40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7295cfd5b530>'), ('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('response', 'None'), ('callback', '<function ModelAdmin.add_view at 0x7295cdfee7a0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7295ced47200>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7295cedc06e0>')], 'id': 125987702795328, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc454cc0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py', 'function': 'wrapper', 'lineno': 718, 'vars': [('args', "(<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>,)"), ('kwargs', '{}'), ('self', "<WaterConsumptionAdmin: model=WaterConsumption site=AdminSite(name='admin')>"), ('view', "<bound method ModelAdmin.add_view of <WaterConsumptionAdmin: model=WaterConsumption site=AdminSite(name='admin')>>")], 'id': 125987702787264, 'pre_context': ['        return inline_instances', '', '    def get_urls(self):', '        from django.urls import path', '', '        def wrap(view):', '            def wrapper(*args, **kwargs):'], 'context_line': '                return self.admin_site.admin_view(view)(*args, **kwargs)', 'post_context': ['', '            wrapper.model_admin = self', '            return update_wrapper(wrapper, view)', '', '        info = self.opts.app_label, self.opts.model_name', ''], 'pre_context_lineno': 711, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc456a80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/utils/decorators.py', 'function': '_view_wrapper', 'lineno': 188, 'vars': [('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('args', '()'), ('kwargs', '{}'), ('result', 'None'), ('_post_process_request', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._post_process_request at 0x7295cc6d8ea0>'), ('_pre_process_request', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._pre_process_request at 0x7295cc6db380>'), ('_process_exception', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._process_exception at 0x7295cc6da340>'), ('view_func', '<function AdminSite.admin_view.<locals>.inner at 0x7295cc6daf20>')], 'id': 125987702794880, 'pre_context': ['                    result = _pre_process_request(request, *args, **kwargs)', '                    if result is not None:', '                        return result', '', '                    try:', '                        response = view_func(request, *args, **kwargs)', '                    except Exception as e:'], 'context_line': '                        result = _process_exception(request, e)', 'post_context': ['                        if result is not None:', '                            return result', '', '                    return _post_process_request(request, response)', '', '            return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 181, 'colno': '\n                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc456b80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/utils/decorators.py', 'function': '_view_wrapper', 'lineno': 186, 'vars': [('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('args', '()'), ('kwargs', '{}'), ('result', 'None'), ('_post_process_request', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._post_process_request at 0x7295cc6d8ea0>'), ('_pre_process_request', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._pre_process_request at 0x7295cc6db380>'), ('_process_exception', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._process_exception at 0x7295cc6da340>'), ('view_func', '<function AdminSite.admin_view.<locals>.inner at 0x7295cc6daf20>')], 'id': 125987702795136, 'pre_context': ['', '                def _view_wrapper(request, *args, **kwargs):', '                    result = _pre_process_request(request, *args, **kwargs)', '                    if result is not None:', '                        return result', '', '                    try:'], 'context_line': '                        response = view_func(request, *args, **kwargs)', 'post_context': ['                    except Exception as e:', '                        result = _process_exception(request, e)', '                        if result is not None:', '                            return result', '', '                    return _post_process_request(request, response)'], 'pre_context_lineno': 179, 'colno': '\n                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc456100>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/cache.py', 'function': '_view_wrapper', 'lineno': 80, 'vars': [('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function AdminSite.admin_view.<locals>.inner at 0x7295cc6d94e0>')], 'id': 125987702792448, 'pre_context': ['            add_never_cache_headers(response)', '            return response', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):', '            _check_request(request, "never_cache")'], 'context_line': '            response = view_func(request, *args, **kwargs)', 'post_context': ['            add_never_cache_headers(response)', '            return response', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 73, 'colno': '\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc454400>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/contrib/admin/sites.py', 'function': 'inner', 'lineno': 241, 'vars': [('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('args', '()'), ('kwargs', '{}'), ('self', "AdminSite(name='admin')"), ('view', "<bound method ModelAdmin.add_view of <WaterConsumptionAdmin: model=WaterConsumption site=AdminSite(name='admin')>>")], 'id': 125987702785024, 'pre_context': ['                # importing django.contrib.auth.models.User (unrelated model).', '                from django.contrib.auth.views import redirect_to_login', '', '                return redirect_to_login(', '                    request.get_full_path(),', '                    reverse("admin:login", current_app=self.name),', '                )'], 'context_line': '            return view(request, *args, **kwargs)', 'post_context': ['', '        if not cacheable:', '            inner = never_cache(inner)', '        # We add csrf_protect here so this function can be used as a utility', "        # function for any view, without having to repeat 'csrf_protect'.", '        if not getattr(view, "csrf_exempt", False):'], 'pre_context_lineno': 234, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc455900>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py', 'function': 'add_view', 'lineno': 1961, 'vars': [('self', "<WaterConsumptionAdmin: model=WaterConsumption site=AdminSite(name='admin')>"), ('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('form_url', "''"), ('extra_context', 'None')], 'id': 125987702790400, 'pre_context': ['        context.update(extra_context or {})', '', '        return self.render_change_form(', '            request, context, add=add, change=not add, obj=obj, form_url=form_url', '        )', '', '    def add_view(self, request, form_url="", extra_context=None):'], 'context_line': '        return self.changeform_view(request, None, form_url, extra_context)', 'post_context': ['', '    def change_view(self, request, object_id, form_url="", extra_context=None):', '        return self.changeform_view(request, object_id, form_url, extra_context)', '', '    def _get_edited_object_pks(self, request, prefix):', '        """Return POST data values of list_editable primary keys."""'], 'pre_context_lineno': 1954, 'colno': '\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc454900>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/utils/decorators.py', 'function': '_wrapper', 'lineno': 48, 'vars': [('self', "<WaterConsumptionAdmin: model=WaterConsumption site=AdminSite(name='admin')>"), ('args', "(<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>,\n None,\n '',\n None)"), ('kwargs', '{}'), ('bound_method', '<function ModelAdmin.changeform_view at 0x7295cc6d91c0>'), ('dec', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator at 0x7295d121d940>'), ('decorators', '[<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator at 0x7295d121d940>]'), ('method', '<function ModelAdmin.changeform_view at 0x7295d12213a0>')], 'id': 125987702786304, 'pre_context': ["        # bound_method has the signature that 'decorator' expects i.e. no", "        # 'self' argument, but it's a closure over self so it can call", "        # 'func'. Also, wrap method.__get__() in a function because new", "        # attributes can't be set on bound method objects, only on functions.", '        bound_method = wraps(method)(partial(method.__get__(self, type(self))))', '        for dec in decorators:', '            bound_method = dec(bound_method)'], 'context_line': '        return bound_method(*args, **kwargs)', 'post_context': ['', '    # Copy any attributes that a decorator adds to the function it decorates.', '    for dec in decorators:', '        _update_method_wrapper(_wrapper, dec)', "    # Preserve any existing attributes of 'method', including the name.", '    update_wrapper(_wrapper, method)'], 'pre_context_lineno': 41, 'colno': '\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc4542c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/utils/decorators.py', 'function': '_view_wrapper', 'lineno': 188, 'vars': [('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('args', "(None, '', None)"), ('kwargs', '{}'), ('result', 'None'), ('_post_process_request', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._post_process_request at 0x7295cc6db9c0>'), ('_pre_process_request', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._pre_process_request at 0x7295cc6d8720>'), ('_process_exception', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._process_exception at 0x7295cc6d9da0>'), ('view_func', "functools.partial(<bound method ModelAdmin.changeform_view of <WaterConsumptionAdmin: model=WaterConsumption site=AdminSite(name='admin')>>)")], 'id': 125987702784704, 'pre_context': ['                    result = _pre_process_request(request, *args, **kwargs)', '                    if result is not None:', '                        return result', '', '                    try:', '                        response = view_func(request, *args, **kwargs)', '                    except Exception as e:'], 'context_line': '                        result = _process_exception(request, e)', 'post_context': ['                        if result is not None:', '                            return result', '', '                    return _post_process_request(request, response)', '', '            return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 181, 'colno': '\n                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cca33400>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/utils/decorators.py', 'function': '_view_wrapper', 'lineno': 186, 'vars': [('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('args', "(None, '', None)"), ('kwargs', '{}'), ('result', 'None'), ('_post_process_request', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._post_process_request at 0x7295cc6db9c0>'), ('_pre_process_request', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._pre_process_request at 0x7295cc6d8720>'), ('_process_exception', '<function make_middleware_decorator.<locals>._make_decorator.<locals>._decorator.<locals>._process_exception at 0x7295cc6d9da0>'), ('view_func', "functools.partial(<bound method ModelAdmin.changeform_view of <WaterConsumptionAdmin: model=WaterConsumption site=AdminSite(name='admin')>>)")], 'id': 125987708941312, 'pre_context': ['', '                def _view_wrapper(request, *args, **kwargs):', '                    result = _pre_process_request(request, *args, **kwargs)', '                    if result is not None:', '                        return result', '', '                    try:'], 'context_line': '                        response = view_func(request, *args, **kwargs)', 'post_context': ['                    except Exception as e:', '                        result = _process_exception(request, e)', '                        if result is not None:', '                            return result', '', '                    return _post_process_request(request, response)'], 'pre_context_lineno': 179, 'colno': '\n                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc4543c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py', 'function': 'changeform_view', 'lineno': 1820, 'vars': [('self', "<WaterConsumptionAdmin: model=WaterConsumption site=AdminSite(name='admin')>"), ('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('object_id', 'None'), ('form_url', "''"), ('extra_context', 'None')], 'id': 125987702784960, 'pre_context': ['        self.message_user(request, msg, messages.WARNING)', '        url = reverse("admin:index", current_app=self.admin_site.name)', '        return HttpResponseRedirect(url)', '', '    @csrf_protect_m', '    def changeform_view(self, request, object_id=None, form_url="", extra_context=None):', '        with transaction.atomic(using=router.db_for_write(self.model)):'], 'context_line': '            return self._changeform_view(request, object_id, form_url, extra_context)', 'post_context': ['', '    def _changeform_view(self, request, object_id, form_url, extra_context):', '        to_field = request.POST.get(TO_FIELD_VAR, request.GET.get(TO_FIELD_VAR))', '        if to_field and not self.to_field_allowed(request, to_field):', '            raise DisallowedModelAdminToField(', '                "The field %s cannot be referenced." % to_field'], 'pre_context_lineno': 1813, 'colno': '\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc456740>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py', 'function': '_changeform_view', 'lineno': 1865, 'vars': [('self', "<WaterConsumptionAdmin: model=WaterConsumption site=AdminSite(name='admin')>"), ('request', "<ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>"), ('object_id', 'None'), ('form_url', "''"), ('extra_context', 'None'), ('to_field', 'None'), ('add', 'True'), ('obj', 'None'), ('fieldsets', "[(None, {'fields': ['user', 'consumption', 'period', 'sensor_id']})]"), ('ModelForm', "<class 'django.forms.widgets.WaterConsumptionForm'>"), ('form', '<WaterConsumptionForm bound=True, valid=False, fields=(user;consumption;period;sensor_id)>'), ('formsets', '[]'), ('inline_instances', '[]')], 'id': 125987702794048, 'pre_context': ['        if request.method == "POST":', '            form = ModelForm(request.POST, request.FILES, instance=obj)', '            formsets, inline_instances = self._create_formsets(', '                request,', '                form.instance,', '                change=not add,', '            )'], 'context_line': '            form_validated = form.is_valid()', 'post_context': ['            if form_validated:', '                new_object = self.save_form(request, form, change=not add)', '            else:', '                new_object = form.instance', '            if all_valid(formsets) and form_validated:', '                self.save_model(request, new_object, form, not add)'], 'pre_context_lineno': 1858, 'colno': '\n                                   ^^^^^^^^^^^^^^^', 'tb_area_colno': '\n                     ^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc4548c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/forms/forms.py', 'function': 'is_valid', 'lineno': 197, 'vars': [('self', '<WaterConsumptionForm bound=True, valid=False, fields=(user;consumption;period;sensor_id)>')], 'id': 125987702786240, 'pre_context': ['        """Return an ErrorDict for the data provided for the form."""', '        if self._errors is None:', '            self.full_clean()', '        return self._errors', '', '    def is_valid(self):', '        """Return True if the form has no errors, or False otherwise."""'], 'context_line': '        return self.is_bound and not self.errors', 'post_context': ['', '    def add_prefix(self, field_name):', '        """', '        Return the field name with a prefix appended, if this Form has a', '        prefix set.', ''], 'pre_context_lineno': 190, 'colno': '\n                                          ^^^^^^^^^^^', 'tb_area_colno': '\n                                 ^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc338440>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/forms/forms.py', 'function': 'errors', 'lineno': 192, 'vars': [('self', '<WaterConsumptionForm bound=True, valid=False, fields=(user;consumption;period;sensor_id)>')], 'id': 125987701621824, 'pre_context': ['            self._bound_fields_cache[name] = field.get_bound_field(self, name)', '        return self._bound_fields_cache[name]', '', '    @property', '    def errors(self):', '        """Return an ErrorDict for the data provided for the form."""', '        if self._errors is None:'], 'context_line': '            self.full_clean()', 'post_context': ['        return self._errors', '', '    def is_valid(self):', '        """Return True if the form has no errors, or False otherwise."""', '        return self.is_bound and not self.errors', ''], 'pre_context_lineno': 185, 'colno': '\n                 ^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc437400>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/forms/forms.py', 'function': 'full_clean', 'lineno': 327, 'vars': [('self', '<WaterConsumptionForm bound=True, valid=False, fields=(user;consumption;period;sensor_id)>')], 'id': 125987702666240, 'pre_context': ['        # If the form is permitted to be empty, and none of the form data has', '        # changed from the initial data, short circuit any validation.', '        if self.empty_permitted and not self.has_changed():', '            return', '', '        self._clean_fields()', '        self._clean_form()'], 'context_line': '        self._post_clean()', 'post_context': ['', '    def _clean_fields(self):', '        for name, bf in self._bound_items():', '            field = bf.field', '            try:', '                self.cleaned_data[name] = field._clean_bound_field(bf)'], 'pre_context_lineno': 320, 'colno': '\n             ^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc4363c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/forms/models.py', 'function': '_post_clean', 'lineno': 498, 'vars': [('self', '<WaterConsumptionForm bound=True, valid=False, fields=(user;consumption;period;sensor_id)>'), ('opts', '<django.forms.models.ModelFormOptions object at 0x7295cc6c2780>'), ('exclude', "{'timestamp', 'id', 'consumption'}"), ('name', "'sensor_id'"), ('field', '<django.forms.fields.CharField object at 0x7295cc5c58b0>')], 'id': 125987702662080, 'pre_context': ['            self.instance = construct_instance(', '                self, self.instance, opts.fields, opts.exclude', '            )', '        except ValidationError as e:', '            self._update_errors(e)', '', '        try:'], 'context_line': '            self.instance.full_clean(exclude=exclude, validate_unique=False)', 'post_context': ['        except ValidationError as e:', '            self._update_errors(e)', '', '        # Validate uniqueness if needed.', '        if self._validate_unique:', '            self.validate_unique()'], 'pre_context_lineno': 491, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cc8c2c40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/db/models/base.py', 'function': 'full_clean', 'lineno': 1626, 'vars': [('self', '<WaterConsumption: Monthly Water Consumption for testuser41 at None: NoneL>'), ('exclude', "{'timestamp', 'id', 'consumption'}"), ('validate_unique', 'False'), ('validate_constraints', 'True'), ('errors', '{}')], 'id': 125987707432000, 'pre_context': ['            self.clean_fields(exclude=exclude)', '        except ValidationError as e:', '            errors = e.update_error_dict(errors)', '', '        # Form.clean() is run even if other validation fails, so do the', '        # same with Model.clean() for consistency.', '        try:'], 'context_line': '            self.clean()', 'post_context': ['        except ValidationError as e:', '            errors = e.update_error_dict(errors)', '', '        # Run unique checks, but only for fields that passed validation.', '        if validate_unique:', '            for name in errors:'], 'pre_context_lineno': 1619, 'colno': '\n                  ^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cf9ab580>, 'type': 'user', 'filename': '/app/core/models/base.py', 'function': 'clean', 'lineno': 77, 'vars': [('self', '<WaterConsumption: Monthly Water Consumption for testuser41 at None: NoneL>')], 'id': 125987758716288, 'pre_context': ['    sensor_id = models.CharField(', '        max_length=50,', '        help_text="Unique identifier for the sensor (e.g., \'main_flow_sensor\')"', '    )', '    ', '    def clean(self):', '        # Validate consumption (non-negative)'], 'context_line': '        if self.consumption < 0:', 'post_context': ['            raise ValidationError("Water consumption cannot be negative")', '    ', '    def save(self, *args, **kwargs):', '        self.clean()', '        super().save(*args, **kwargs)', '    '], 'pre_context_lineno': 70, 'colno': '\n               ^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n       ^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '_changelist_filters=user__id__exact%3D12', 'SCRIPT_NAME': '', 'PATH_INFO': '/admin/core/waterconsumption/add/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 42948, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '127.0.0.1:8000', 'HTTP_CONNECTION': 'keep-alive', 'CONTENT_LENGTH': '163', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Brave";v="137", "Chromium";v="137", "Not/A)Brand";v="24"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Windows"', 'HTTP_ORIGIN': 'http://127.0.0.1:8000', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8', 'HTTP_SEC_GPC': '1', 'HTTP_ACCEPT_LANGUAGE': 'en-US,en;q=0.7', 'HTTP_SEC_FETCH_SITE': 'same-origin', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_REFERER': 'http://127.0.0.1:8000/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_COOKIE': '********************', 'CSRF_COOKIE': '51aPHFRln0r2umuBuh3KZ9ZFjk7b9ACy'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************'), ('sessionid', '********************')]), 'user_str': 'azzam', 'filtered_POST_items': [('csrfmiddlewaretoken', 'no3aqbjEPakwPPXsAciNYINeSyo8OTsMif3PXG0P20Bo91hTUjbnNHCJ1Il9NjUa'), ('user', '12'), ('consumption', ''), ('period', 'monthly'), ('sensor_id', 'secondary_flow_sensor'), ('_save', 'Save')], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOWED_ORIGINS': ['http://192.168.1.7:8000'], 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated']}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 25, 16, 59, 58, 724956, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7295cc63aa80>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7295cc63be00>, 'request_insecure_uri': 'http://127.0.0.1:8000/admin/core/waterconsumption/add/?_changelist_filters=user__id__exact%3D12', 'raising_view_name': 'django.contrib.admin.options.add_view', 'exception_type': 'TypeError', 'exception_value': "'<' not supported between instances of 'NoneType' and 'int'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7295cf9ab580>, 'type': 'user', 'filename': '/app/core/models/base.py', 'function': 'clean', 'lineno': 77, 'vars': [('self', '<WaterConsumption: Monthly Water Consumption for testuser41 at None: NoneL>')], 'id': 125987758716288, 'pre_context': ['    sensor_id = models.CharField(', '        max_length=50,', '        help_text="Unique identifier for the sensor (e.g., \'main_flow_sensor\')"', '    )', '    ', '    def clean(self):', '        # Validate consumption (non-negative)'], 'context_line': '        if self.consumption < 0:', 'post_context': ['            raise ValidationError("Water consumption cannot be negative")', '    ', '    def save(self, *args, **kwargs):', '        self.clean()', '        super().save(*args, **kwargs)', '    '], 'pre_context_lineno': 70, 'colno': '\n               ^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n       ^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /admin/core/waterconsumption/add/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py", line 718, in wrapper
    return self.admin_site.admin_view(view)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/cache.py", line 80, in _view_wrapper
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/contrib/admin/sites.py", line 241, in inner
    return view(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py", line 1961, in add_view
    return self.changeform_view(request, None, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/decorators.py", line 48, in _wrapper
    return bound_method(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/decorators.py", line 188, in _view_wrapper
    result = _process_exception(request, e)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/utils/decorators.py", line 186, in _view_wrapper
    response = view_func(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py", line 1820, in changeform_view
    return self._changeform_view(request, object_id, form_url, extra_context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/contrib/admin/options.py", line 1865, in _changeform_view
    form_validated = form.is_valid()
                     ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/forms/forms.py", line 197, in is_valid
    return self.is_bound and not self.errors
                                 ^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/forms/forms.py", line 192, in errors
    self.full_clean()
  File "/usr/local/lib/python3.12/site-packages/django/forms/forms.py", line 327, in full_clean
    self._post_clean()
  File "/usr/local/lib/python3.12/site-packages/django/forms/models.py", line 498, in _post_clean
    self.instance.full_clean(exclude=exclude, validate_unique=False)
  File "/usr/local/lib/python3.12/site-packages/django/db/models/base.py", line 1626, in full_clean
    self.clean()
  File "/app/core/models/base.py", line 77, in clean
    if self.consumption < 0:
       ^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'NoneType' and 'int'
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T17:00:02.549377+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 17, 0, 2, 549377, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_125987471738560_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T17:00:07.149752+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 17, 0, 7, 149752, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 12 LIMIT 21; args=(12,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 12 LIMIT 1; args=(1, 12); alias=default
(0.001) INSERT INTO "core_waterconsumption" ("user_id", "consumption", "period", "timestamp", "sensor_id") VALUES (12, 90.5, 'monthly', '2025-06-25T17:00:07.171050+00:00'::timestamptz, 'secondary_flow_sensor') RETURNING "core_waterconsumption"."id"; args=(12, 90.5, 'monthly', datetime.datetime(2025, 6, 25, 17, 0, 7, 171050, tzinfo=datetime.timezone.utc), 'secondary_flow_sensor'); alias=default
(0.001) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-06-25T17:00:07.172891+00:00'::timestamptz, 1, 7, '3813', 'Monthly Water Consumption for testuser41 at 2025-06-25 17:00:07.171050+00:00: 90.5L', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 6, 25, 17, 0, 7, 172891, tzinfo=datetime.timezone.utc), 1, 7, '3813', 'Monthly Water Consumption for testuser41 at 2025-06-25 17:00:07.171050+00:00: 90.5L', 1, '[{"added": {}}]'); alias=default
(0.002) COMMIT; args=None; alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T17:00:07.191102+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 17, 0, 7, 191102, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 12; args=(12,); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.005) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") WHERE "core_waterconsumption"."user_id" = 12 ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC; args=(12,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-25T17:00:07.305530+00:00'::timestamptz AND "django_session"."session_key" = 'ltu3g4jo7htse5rkswniqytd4lz51p7u') LIMIT 21; args=(datetime.datetime(2025, 6, 25, 17, 0, 7, 305530, tzinfo=datetime.timezone.utc), 'ltu3g4jo7htse5rkswniqytd4lz51p7u'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '04d2b77483262ae52fb5fc4f9387921253575783' LIMIT 21; args=('04d2b77483262ae52fb5fc4f9387921253575783',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 12 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(12,); alias=default
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
(0.017) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam' LIMIT 21; args=('azzam',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 3 LIMIT 21; args=(3,); alias=default
Unauthorized: /api/logout/
Unauthorized: /api/logout/
(0.008) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '7febe171c0b12cc99c7a43b6a4d9c91264348435' LIMIT 21; args=('7febe171c0b12cc99c7a43b6a4d9c91264348435',); alias=default
Method Not Allowed: /api/logout/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '7febe171c0b12cc99c7a43b6a4d9c91264348435' LIMIT 21; args=('7febe171c0b12cc99c7a43b6a4d9c91264348435',); alias=default
(0.003) DELETE FROM "authtoken_token" WHERE "authtoken_token"."key" IN ('7febe171c0b12cc99c7a43b6a4d9c91264348435'); args=('7febe171c0b12cc99c7a43b6a4d9c91264348435',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '7febe171c0b12cc99c7a43b6a4d9c91264348435' LIMIT 21; args=('7febe171c0b12cc99c7a43b6a4d9c91264348435',); alias=default
Unauthorized: /api/logout/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '7febe171c0b12cc99c7a43b6a4d9c91264348435' LIMIT 21; args=('7febe171c0b12cc99c7a43b6a4d9c91264348435',); alias=default
Unauthorized: /api/logout/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '7febe171c0b12cc99c7a43b6a4d9c91264348435' LIMIT 21; args=('7febe171c0b12cc99c7a43b6a4d9c91264348435',); alias=default
Unauthorized: /api/profile/
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam' LIMIT 21; args=('azzam',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.003) INSERT INTO "authtoken_token" ("key", "user_id", "created") VALUES ('18cb6c7abca31556ac73ac0a26515cab3aa7a4ef', 3, '2025-06-29T03:20:52.462699+00:00'::timestamptz); args=('18cb6c7abca31556ac73ac0a26515cab3aa7a4ef', 3, datetime.datetime(2025, 6, 29, 3, 20, 52, 462699, tzinfo=datetime.timezone.utc)); alias=default
(0.004) COMMIT; args=None; alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '18cb6c7abca31556ac73ac0a26515cab3aa7a4ef' LIMIT 21; args=('18cb6c7abca31556ac73ac0a26515cab3aa7a4ef',); alias=default
(0.001) DELETE FROM "authtoken_token" WHERE "authtoken_token"."key" IN ('18cb6c7abca31556ac73ac0a26515cab3aa7a4ef'); args=('18cb6c7abca31556ac73ac0a26515cab3aa7a4ef',); alias=default
(0.012) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '18cb6c7abca31556ac73ac0a26515cab3aa7a4ef' LIMIT 21; args=('18cb6c7abca31556ac73ac0a26515cab3aa7a4ef',); alias=default
Unauthorized: /api/logout/
(0.012) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '7febe171c0b12cc99c7a43b6a4d9c91264348435' LIMIT 21; args=('7febe171c0b12cc99c7a43b6a4d9c91264348435',); alias=default
Unauthorized: /api/control-device/
(0.004) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '503f18fafd45ce68ba25604f091af71c6df18c62' LIMIT 21; args=('503f18fafd45ce68ba25604f091af71c6df18c62',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '503f18fafd45ce68ba25604f091af71c6df18c62' LIMIT 21; args=('503f18fafd45ce68ba25604f091af71c6df18c62',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/core/views/mqtt.py", line 138, in post
    for command in serializer.validated_data['commands']:
                   ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'commands'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1ca8300>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('exc', "KeyError('commands')"), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7f06f5a18da0>>')], 'id': 139667803112192, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1cdf6c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7f06f5a18da0>'), ('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7f06f2613380>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7f06f393fad0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7f06f1ca00e0>')], 'id': 139667803338432, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1ca8c40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function View.as_view.<locals>.view at 0x7f06f26132e0>')], 'id': 139667803114560, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1cc54c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<core.views.mqtt.BulkControlView object at 0x7f06f39b5250>'), ('cls', "<class 'core.views.mqtt.BulkControlView'>"), ('initkwargs', '{}')], 'id': 139667803231424, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1ca8c00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f39b5250>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method BulkControlView.post of <core.views.mqtt.BulkControlView object at 0x7f06f39b5250>>')], 'id': 139667803114496, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1ca9240>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f39b5250>'), ('exc', "KeyError('commands')"), ('exception_handler', '<function exception_handler at 0x7f06f27e7380>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: POST '/api/bulk-control/'>,\n 'view': <core.views.mqtt.BulkControlView object at 0x7f06f39b5250>}"), ('response', 'None')], 'id': 139667803116096, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1ca8b80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f39b5250>'), ('exc', "KeyError('commands')"), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 139667803114368, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1ca92c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f39b5250>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method BulkControlView.post of <core.views.mqtt.BulkControlView object at 0x7f06f39b5250>>')], 'id': 139667803116224, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1cded40>, 'type': 'user', 'filename': '/app/core/views/mqtt.py', 'function': 'post', 'lineno': 138, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f39b5250>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('serializer', "BulkControlSerializer(data={'commands': [{'topic': 'home/tankRoom/motor', 'value': True}, {'topic': 'home/tankRoom/automode', 'value': False}]}):"), ('valid_topics', "['home/tankRoom/motor',\n 'home/tankRoom/tankValve',\n 'home/tankRoom/mainValve',\n 'home/tankRoom/cadoValve',\n 'home/tankRoom/automode']"), ('results', '[]')], 'id': 139667803336000, 'pre_context': ['        ', '        valid_topics = [', "            'home/tankRoom/motor', 'home/tankRoom/tankValve',", "            'home/tankRoom/mainValve', 'home/tankRoom/cadoValve',", "            'home/tankRoom/automode'", '        ]', '        results = []'], 'context_line': "        for command in serializer.validated_data['commands']:", 'post_context': ["            topic = command['topic']", "            value = command['value']", '            if topic not in valid_topics:', "                results.append({'topic': topic, 'status': 'error', 'message': 'Invalid topic'})", '                continue', '            if not isinstance(value, bool):'], 'pre_context_lineno': 131, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/bulk-control/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/bulk-control/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 59168, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '8299-197-134-78-134.ngrok-free.app', 'HTTP_USER_AGENT': 'PostmanRuntime/7.44.0', 'CONTENT_LENGTH': '187', 'HTTP_ACCEPT': '*/*', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br', 'HTTP_AUTHORIZATION': 'Token 503f18fafd45ce68ba25604f091af71c6df18c62', 'HTTP_CACHE_CONTROL': 'no-cache', 'CONTENT_TYPE': 'application/json', 'HTTP_POSTMAN_TOKEN': '********************', 'HTTP_X_FORWARDED_FOR': '217.55.242.209', 'HTTP_X_FORWARDED_HOST': '8299-197-134-78-134.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'azzam1', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://8299-197-134-78-134.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 29, 6, 51, 3, 1649, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7f06f1c77370>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7f06f1c77030>, 'request_insecure_uri': 'http://8299-197-134-78-134.ngrok-free.app/api/bulk-control/', 'raising_view_name': 'core.views.mqtt.BulkControlView', 'exception_type': 'KeyError', 'exception_value': "'commands'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1cded40>, 'type': 'user', 'filename': '/app/core/views/mqtt.py', 'function': 'post', 'lineno': 138, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f39b5250>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('serializer', "BulkControlSerializer(data={'commands': [{'topic': 'home/tankRoom/motor', 'value': True}, {'topic': 'home/tankRoom/automode', 'value': False}]}):"), ('valid_topics', "['home/tankRoom/motor',\n 'home/tankRoom/tankValve',\n 'home/tankRoom/mainValve',\n 'home/tankRoom/cadoValve',\n 'home/tankRoom/automode']"), ('results', '[]')], 'id': 139667803336000, 'pre_context': ['        ', '        valid_topics = [', "            'home/tankRoom/motor', 'home/tankRoom/tankValve',", "            'home/tankRoom/mainValve', 'home/tankRoom/cadoValve',", "            'home/tankRoom/automode'", '        ]', '        results = []'], 'context_line': "        for command in serializer.validated_data['commands']:", 'post_context': ["            topic = command['topic']", "            value = command['value']", '            if topic not in valid_topics:', "                results.append({'topic': topic, 'status': 'error', 'message': 'Invalid topic'})", '                continue', '            if not isinstance(value, bool):'], 'pre_context_lineno': 131, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/core/views/mqtt.py", line 138, in post
    for command in serializer.validated_data['commands']:
                   ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'commands'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1ca8300>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('exc', "KeyError('commands')"), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7f06f5a18da0>>')], 'id': 139667803112192, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1cdf6c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7f06f5a18da0>'), ('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7f06f2613380>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7f06f393fad0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7f06f1ca00e0>')], 'id': 139667803338432, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1ca8c40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function View.as_view.<locals>.view at 0x7f06f26132e0>')], 'id': 139667803114560, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1cc54c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<core.views.mqtt.BulkControlView object at 0x7f06f39b5250>'), ('cls', "<class 'core.views.mqtt.BulkControlView'>"), ('initkwargs', '{}')], 'id': 139667803231424, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1ca8c00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f39b5250>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method BulkControlView.post of <core.views.mqtt.BulkControlView object at 0x7f06f39b5250>>')], 'id': 139667803114496, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1ca9240>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f39b5250>'), ('exc', "KeyError('commands')"), ('exception_handler', '<function exception_handler at 0x7f06f27e7380>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: POST '/api/bulk-control/'>,\n 'view': <core.views.mqtt.BulkControlView object at 0x7f06f39b5250>}"), ('response', 'None')], 'id': 139667803116096, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1ca8b80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f39b5250>'), ('exc', "KeyError('commands')"), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 139667803114368, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1ca92c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f39b5250>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method BulkControlView.post of <core.views.mqtt.BulkControlView object at 0x7f06f39b5250>>')], 'id': 139667803116224, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1cded40>, 'type': 'user', 'filename': '/app/core/views/mqtt.py', 'function': 'post', 'lineno': 138, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f39b5250>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('serializer', "BulkControlSerializer(data={'commands': [{'topic': 'home/tankRoom/motor', 'value': True}, {'topic': 'home/tankRoom/automode', 'value': False}]}):"), ('valid_topics', "['home/tankRoom/motor',\n 'home/tankRoom/tankValve',\n 'home/tankRoom/mainValve',\n 'home/tankRoom/cadoValve',\n 'home/tankRoom/automode']"), ('results', '[]')], 'id': 139667803336000, 'pre_context': ['        ', '        valid_topics = [', "            'home/tankRoom/motor', 'home/tankRoom/tankValve',", "            'home/tankRoom/mainValve', 'home/tankRoom/cadoValve',", "            'home/tankRoom/automode'", '        ]', '        results = []'], 'context_line': "        for command in serializer.validated_data['commands']:", 'post_context': ["            topic = command['topic']", "            value = command['value']", '            if topic not in valid_topics:', "                results.append({'topic': topic, 'status': 'error', 'message': 'Invalid topic'})", '                continue', '            if not isinstance(value, bool):'], 'pre_context_lineno': 131, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/bulk-control/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/bulk-control/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 59168, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '8299-197-134-78-134.ngrok-free.app', 'HTTP_USER_AGENT': 'PostmanRuntime/7.44.0', 'CONTENT_LENGTH': '187', 'HTTP_ACCEPT': '*/*', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br', 'HTTP_AUTHORIZATION': 'Token 503f18fafd45ce68ba25604f091af71c6df18c62', 'HTTP_CACHE_CONTROL': 'no-cache', 'CONTENT_TYPE': 'application/json', 'HTTP_POSTMAN_TOKEN': '********************', 'HTTP_X_FORWARDED_FOR': '217.55.242.209', 'HTTP_X_FORWARDED_HOST': '8299-197-134-78-134.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'azzam1', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://8299-197-134-78-134.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 29, 6, 51, 3, 1649, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7f06f1c77370>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7f06f1c77030>, 'request_insecure_uri': 'http://8299-197-134-78-134.ngrok-free.app/api/bulk-control/', 'raising_view_name': 'core.views.mqtt.BulkControlView', 'exception_type': 'KeyError', 'exception_value': "'commands'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1cded40>, 'type': 'user', 'filename': '/app/core/views/mqtt.py', 'function': 'post', 'lineno': 138, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f39b5250>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('serializer', "BulkControlSerializer(data={'commands': [{'topic': 'home/tankRoom/motor', 'value': True}, {'topic': 'home/tankRoom/automode', 'value': False}]}):"), ('valid_topics', "['home/tankRoom/motor',\n 'home/tankRoom/tankValve',\n 'home/tankRoom/mainValve',\n 'home/tankRoom/cadoValve',\n 'home/tankRoom/automode']"), ('results', '[]')], 'id': 139667803336000, 'pre_context': ['        ', '        valid_topics = [', "            'home/tankRoom/motor', 'home/tankRoom/tankValve',", "            'home/tankRoom/mainValve', 'home/tankRoom/cadoValve',", "            'home/tankRoom/automode'", '        ]', '        results = []'], 'context_line': "        for command in serializer.validated_data['commands']:", 'post_context': ["            topic = command['topic']", "            value = command['value']", '            if topic not in valid_topics:', "                results.append({'topic': topic, 'status': 'error', 'message': 'Invalid topic'})", '                continue', '            if not isinstance(value, bool):'], 'pre_context_lineno': 131, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/bulk-control/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/core/views/mqtt.py", line 138, in post
    for command in serializer.validated_data['commands']:
                   ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'commands'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '503f18fafd45ce68ba25604f091af71c6df18c62' LIMIT 21; args=('503f18fafd45ce68ba25604f091af71c6df18c62',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/core/views/mqtt.py", line 138, in post
    for command in serializer.validated_data['commands']:
                   ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'commands'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1d01d00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('exc', "KeyError('commands')"), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7f06f5a18da0>>')], 'id': 139667803479296, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f39be3c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7f06f5a18da0>'), ('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7f06f2613380>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7f06f393fad0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7f06f1ce9460>')], 'id': 139667833611200, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1d01c80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function View.as_view.<locals>.view at 0x7f06f26132e0>')], 'id': 139667803479168, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f39be5c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>'), ('cls', "<class 'core.views.mqtt.BulkControlView'>"), ('initkwargs', '{}')], 'id': 139667833611712, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1d01f00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method BulkControlView.post of <core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>>')], 'id': 139667803479808, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1d01dc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>'), ('exc', "KeyError('commands')"), ('exception_handler', '<function exception_handler at 0x7f06f27e7380>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: POST '/api/bulk-control/'>,\n 'view': <core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>}"), ('response', 'None')], 'id': 139667803479488, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1d00b40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>'), ('exc', "KeyError('commands')"), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 139667803474752, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1d01e80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method BulkControlView.post of <core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>>')], 'id': 139667803479680, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1d01680>, 'type': 'user', 'filename': '/app/core/views/mqtt.py', 'function': 'post', 'lineno': 138, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('serializer', "BulkControlSerializer(data={'commands': [{'topic': 'home/tankRoom/motor', 'value': True}, {'topic': 'home/tankRoom/automode', 'value': False}]}):"), ('valid_topics', "['home/tankRoom/motor',\n 'home/tankRoom/tankValve',\n 'home/tankRoom/mainValve',\n 'home/tankRoom/cadoValve',\n 'home/tankRoom/automode']"), ('results', '[]')], 'id': 139667803477632, 'pre_context': ['        ', '        valid_topics = [', "            'home/tankRoom/motor', 'home/tankRoom/tankValve',", "            'home/tankRoom/mainValve', 'home/tankRoom/cadoValve',", "            'home/tankRoom/automode'", '        ]', '        results = []'], 'context_line': "        for command in serializer.validated_data['commands']:", 'post_context': ["            topic = command['topic']", "            value = command['value']", '            if topic not in valid_topics:', "                results.append({'topic': topic, 'status': 'error', 'message': 'Invalid topic'})", '                continue', '            if not isinstance(value, bool):'], 'pre_context_lineno': 131, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/bulk-control/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/bulk-control/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 59168, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '8299-197-134-78-134.ngrok-free.app', 'HTTP_USER_AGENT': 'PostmanRuntime/7.44.0', 'CONTENT_LENGTH': '187', 'HTTP_ACCEPT': '*/*', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br', 'HTTP_AUTHORIZATION': 'Token 503f18fafd45ce68ba25604f091af71c6df18c62', 'HTTP_CACHE_CONTROL': 'no-cache', 'CONTENT_TYPE': 'application/json', 'HTTP_POSTMAN_TOKEN': '********************', 'HTTP_X_FORWARDED_FOR': '217.55.242.209', 'HTTP_X_FORWARDED_HOST': '8299-197-134-78-134.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'azzam1', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://8299-197-134-78-134.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 29, 6, 51, 12, 578937, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7f06f1c75700>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7f06f1c75f20>, 'request_insecure_uri': 'http://8299-197-134-78-134.ngrok-free.app/api/bulk-control/', 'raising_view_name': 'core.views.mqtt.BulkControlView', 'exception_type': 'KeyError', 'exception_value': "'commands'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1d01680>, 'type': 'user', 'filename': '/app/core/views/mqtt.py', 'function': 'post', 'lineno': 138, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('serializer', "BulkControlSerializer(data={'commands': [{'topic': 'home/tankRoom/motor', 'value': True}, {'topic': 'home/tankRoom/automode', 'value': False}]}):"), ('valid_topics', "['home/tankRoom/motor',\n 'home/tankRoom/tankValve',\n 'home/tankRoom/mainValve',\n 'home/tankRoom/cadoValve',\n 'home/tankRoom/automode']"), ('results', '[]')], 'id': 139667803477632, 'pre_context': ['        ', '        valid_topics = [', "            'home/tankRoom/motor', 'home/tankRoom/tankValve',", "            'home/tankRoom/mainValve', 'home/tankRoom/cadoValve',", "            'home/tankRoom/automode'", '        ]', '        results = []'], 'context_line': "        for command in serializer.validated_data['commands']:", 'post_context': ["            topic = command['topic']", "            value = command['value']", '            if topic not in valid_topics:', "                results.append({'topic': topic, 'status': 'error', 'message': 'Invalid topic'})", '                continue', '            if not isinstance(value, bool):'], 'pre_context_lineno': 131, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/core/views/mqtt.py", line 138, in post
    for command in serializer.validated_data['commands']:
                   ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'commands'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1d01d00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('exc', "KeyError('commands')"), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7f06f5a18da0>>')], 'id': 139667803479296, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f39be3c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7f06f5a18da0>'), ('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7f06f2613380>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7f06f393fad0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7f06f1ce9460>')], 'id': 139667833611200, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1d01c80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function View.as_view.<locals>.view at 0x7f06f26132e0>')], 'id': 139667803479168, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f39be5c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>'), ('cls', "<class 'core.views.mqtt.BulkControlView'>"), ('initkwargs', '{}')], 'id': 139667833611712, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1d01f00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method BulkControlView.post of <core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>>')], 'id': 139667803479808, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1d01dc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>'), ('exc', "KeyError('commands')"), ('exception_handler', '<function exception_handler at 0x7f06f27e7380>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: POST '/api/bulk-control/'>,\n 'view': <core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>}"), ('response', 'None')], 'id': 139667803479488, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1d00b40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>'), ('exc', "KeyError('commands')"), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 139667803474752, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1d01e80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method BulkControlView.post of <core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>>')], 'id': 139667803479680, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1d01680>, 'type': 'user', 'filename': '/app/core/views/mqtt.py', 'function': 'post', 'lineno': 138, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('serializer', "BulkControlSerializer(data={'commands': [{'topic': 'home/tankRoom/motor', 'value': True}, {'topic': 'home/tankRoom/automode', 'value': False}]}):"), ('valid_topics', "['home/tankRoom/motor',\n 'home/tankRoom/tankValve',\n 'home/tankRoom/mainValve',\n 'home/tankRoom/cadoValve',\n 'home/tankRoom/automode']"), ('results', '[]')], 'id': 139667803477632, 'pre_context': ['        ', '        valid_topics = [', "            'home/tankRoom/motor', 'home/tankRoom/tankValve',", "            'home/tankRoom/mainValve', 'home/tankRoom/cadoValve',", "            'home/tankRoom/automode'", '        ]', '        results = []'], 'context_line': "        for command in serializer.validated_data['commands']:", 'post_context': ["            topic = command['topic']", "            value = command['value']", '            if topic not in valid_topics:', "                results.append({'topic': topic, 'status': 'error', 'message': 'Invalid topic'})", '                continue', '            if not isinstance(value, bool):'], 'pre_context_lineno': 131, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/bulk-control/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/bulk-control/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 59168, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '8299-197-134-78-134.ngrok-free.app', 'HTTP_USER_AGENT': 'PostmanRuntime/7.44.0', 'CONTENT_LENGTH': '187', 'HTTP_ACCEPT': '*/*', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br', 'HTTP_AUTHORIZATION': 'Token 503f18fafd45ce68ba25604f091af71c6df18c62', 'HTTP_CACHE_CONTROL': 'no-cache', 'CONTENT_TYPE': 'application/json', 'HTTP_POSTMAN_TOKEN': '********************', 'HTTP_X_FORWARDED_FOR': '217.55.242.209', 'HTTP_X_FORWARDED_HOST': '8299-197-134-78-134.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'azzam1', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://8299-197-134-78-134.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 29, 6, 51, 12, 578937, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7f06f1c75700>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7f06f1c75f20>, 'request_insecure_uri': 'http://8299-197-134-78-134.ngrok-free.app/api/bulk-control/', 'raising_view_name': 'core.views.mqtt.BulkControlView', 'exception_type': 'KeyError', 'exception_value': "'commands'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f06f1d01680>, 'type': 'user', 'filename': '/app/core/views/mqtt.py', 'function': 'post', 'lineno': 138, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f06f1ce94c0>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('serializer', "BulkControlSerializer(data={'commands': [{'topic': 'home/tankRoom/motor', 'value': True}, {'topic': 'home/tankRoom/automode', 'value': False}]}):"), ('valid_topics', "['home/tankRoom/motor',\n 'home/tankRoom/tankValve',\n 'home/tankRoom/mainValve',\n 'home/tankRoom/cadoValve',\n 'home/tankRoom/automode']"), ('results', '[]')], 'id': 139667803477632, 'pre_context': ['        ', '        valid_topics = [', "            'home/tankRoom/motor', 'home/tankRoom/tankValve',", "            'home/tankRoom/mainValve', 'home/tankRoom/cadoValve',", "            'home/tankRoom/automode'", '        ]', '        results = []'], 'context_line': "        for command in serializer.validated_data['commands']:", 'post_context': ["            topic = command['topic']", "            value = command['value']", '            if topic not in valid_topics:', "                results.append({'topic': topic, 'status': 'error', 'message': 'Invalid topic'})", '                continue', '            if not isinstance(value, bool):'], 'pre_context_lineno': 131, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/bulk-control/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/core/views/mqtt.py", line 138, in post
    for command in serializer.validated_data['commands']:
                   ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'commands'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '18cb6c7abca31556ac73ac0a26515cab3aa7a4ef' LIMIT 21; args=('18cb6c7abca31556ac73ac0a26515cab3aa7a4ef',); alias=default
Unauthorized: /api/logout/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '503f18fafd45ce68ba25604f091af71c6df18c62' LIMIT 21; args=('503f18fafd45ce68ba25604f091af71c6df18c62',); alias=default
(0.005) DELETE FROM "authtoken_token" WHERE "authtoken_token"."key" IN ('503f18fafd45ce68ba25604f091af71c6df18c62'); args=('503f18fafd45ce68ba25604f091af71c6df18c62',); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.004) INSERT INTO "authtoken_token" ("key", "user_id", "created") VALUES ('63d2a9cf36741327648cf12b6eb59b36b49bf1ce', 6, '2025-06-29T06:52:04.981727+00:00'::timestamptz); args=('63d2a9cf36741327648cf12b6eb59b36b49bf1ce', 6, datetime.datetime(2025, 6, 29, 6, 52, 4, 981727, tzinfo=datetime.timezone.utc)); alias=default
(0.006) COMMIT; args=None; alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
(0.008) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
(0.002) DELETE FROM "authtoken_token" WHERE "authtoken_token"."key" IN ('209043dfc90fd0ddc27895d738c344fe370c074b'); args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
Unauthorized: /api/login/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
Unauthorized: /api/login/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
Unauthorized: /api/register/
(0.003) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 1; args=(1, 'azzam1'); alias=default
Bad Request: /api/register/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
Unauthorized: /api/login/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
Unauthorized: /api/login/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
Unauthorized: /api/register/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
Unauthorized: /api/login/
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
Unauthorized: /api/login/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
Unauthorized: /api/login/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
Unauthorized: /api/login/
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
Unauthorized: /api/register/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
Unauthorized: /api/login/
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '503f18fafd45ce68ba25604f091af71c6df18c62' LIMIT 21; args=('503f18fafd45ce68ba25604f091af71c6df18c62',); alias=default
Unauthorized: /api/logout/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '18cb6c7abca31556ac73ac0a26515cab3aa7a4ef' LIMIT 21; args=('18cb6c7abca31556ac73ac0a26515cab3aa7a4ef',); alias=default
Unauthorized: /api/logout/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '7febe171c0b12cc99c7a43b6a4d9c91264348435' LIMIT 21; args=('7febe171c0b12cc99c7a43b6a4d9c91264348435',); alias=default
Unauthorized: /api/profile/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam' LIMIT 21; args=('azzam',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.002) INSERT INTO "authtoken_token" ("key", "user_id", "created") VALUES ('eff63c70f88ccaaca550cf81d50db563b4d1ac5a', 3, '2025-06-29T08:09:01.857275+00:00'::timestamptz); args=('eff63c70f88ccaaca550cf81d50db563b4d1ac5a', 3, datetime.datetime(2025, 6, 29, 8, 9, 1, 857275, tzinfo=datetime.timezone.utc)); alias=default
(0.004) COMMIT; args=None; alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '63d2a9cf36741327648cf12b6eb59b36b49bf1ce' LIMIT 21; args=('63d2a9cf36741327648cf12b6eb59b36b49bf1ce',); alias=default
(0.002) DELETE FROM "authtoken_token" WHERE "authtoken_token"."key" IN ('63d2a9cf36741327648cf12b6eb59b36b49bf1ce'); args=('63d2a9cf36741327648cf12b6eb59b36b49bf1ce',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) INSERT INTO "authtoken_token" ("key", "user_id", "created") VALUES ('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153', 6, '2025-06-29T08:09:58.768052+00:00'::timestamptz); args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153', 6, datetime.datetime(2025, 6, 29, 8, 9, 58, 768052, tzinfo=datetime.timezone.utc)); alias=default
(0.002) COMMIT; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 6 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(6,); alias=default
Unauthorized: /api/logout/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 6 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 6 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.004) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 6 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 6 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(6,); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 6 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '209043dfc90fd0ddc27895d738c344fe370c074b' LIMIT 21; args=('209043dfc90fd0ddc27895d738c344fe370c074b',); alias=default
Unauthorized: /api/water-consumption/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 6 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(6,); alias=default
Unauthorized: /api/logout/
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) INSERT INTO "authtoken_token" ("key", "user_id", "created") VALUES ('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 4, '2025-06-29T08:17:16.856324+00:00'::timestamptz); args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 4, datetime.datetime(2025, 6, 29, 8, 17, 16, 856324, tzinfo=datetime.timezone.utc)); alias=default
(0.001) COMMIT; args=None; alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
Unauthorized: /api/logout/
(0.002) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."username" = 'trfeds' LIMIT 1; args=(1, 'trfeds'); alias=default
Bad Request: /api/register/
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."username" = 'redwd' LIMIT 1; args=(1, 'redwd'); alias=default
Bad Request: /api/register/
(0.004) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."username" = 'rewpio' LIMIT 1; args=(1, 'rewpio'); alias=default
(0.000) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."email" = 'qwertyuio@kjhgfd.com' LIMIT 1; args=(1, 'qwertyuio@kjhgfd.com'); alias=default
(0.002) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."phone_number" = '01234098765' LIMIT 1; args=(1, '01234098765'); alias=default
(0.018) INSERT INTO "core_customuser" ("password", "last_login", "is_superuser", "username", "first_name", "last_name", "email", "is_staff", "is_active", "date_joined", "role", "full_name", "home_address", "phone_number", "created_at") VALUES ('pbkdf2_sha256$870000$VSI15ov5TFYwxjLI6hf3d6$IhF45UXLG/08xymuNpKjsRdQK6pe4gqtQvY07IaHtd8=', NULL, false, 'rewpio', '', '', 'qwertyuio@kjhgfd.com', false, true, '2025-06-29T08:22:25.539098+00:00'::timestamptz, 'homeowner', 'sdrsgfd fref', '123 Street', '01234098765', '2025-06-29T08:22:25.721133+00:00'::timestamptz) RETURNING "core_customuser"."id"; args=('pbkdf2_sha256$870000$VSI15ov5TFYwxjLI6hf3d6$IhF45UXLG/08xymuNpKjsRdQK6pe4gqtQvY07IaHtd8=', None, False, 'rewpio', '', '', 'qwertyuio@kjhgfd.com', False, True, datetime.datetime(2025, 6, 29, 8, 22, 25, 539098, tzinfo=datetime.timezone.utc), 'homeowner', 'sdrsgfd fref', '123 Street', '01234098765', datetime.datetime(2025, 6, 29, 8, 22, 25, 721133, tzinfo=datetime.timezone.utc)); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 7 LIMIT 21; args=(7,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) INSERT INTO "authtoken_token" ("key", "user_id", "created") VALUES ('6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d', 7, '2025-06-29T08:22:25.743007+00:00'::timestamptz); args=('6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d', 7, datetime.datetime(2025, 6, 29, 8, 22, 25, 743007, tzinfo=datetime.timezone.utc)); alias=default
(0.001) COMMIT; args=None; alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d' LIMIT 21; args=('6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d',); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d' LIMIT 21; args=('6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 7 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(7,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d' LIMIT 21; args=('6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 7 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(7,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d' LIMIT 21; args=('6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 7 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(7,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d' LIMIT 21; args=('6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 7 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(7,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d' LIMIT 21; args=('6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 7 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(7,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d' LIMIT 21; args=('6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 7 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(7,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d' LIMIT 21; args=('6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 7 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(7,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d' LIMIT 21; args=('6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 7 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(7,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d' LIMIT 21; args=('6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 7 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(7,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d' LIMIT 21; args=('6f9456a948e4838f9ffbe6e24a4b99f9fa17f20d',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 7 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(7,); alias=default
Unauthorized: /api/logout/
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
Unauthorized: /api/logout/
(0.011) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
Bad Request: /api/login/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
Bad Request: /api/login/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
Bad Request: /api/login/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
Bad Request: /api/login/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
Bad Request: /api/login/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
Bad Request: /api/login/
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
Bad Request: /api/login/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
Bad Request: /api/login/
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
Bad Request: /api/login/
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
Bad Request: /api/login/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
Bad Request: /api/login/
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
Bad Request: /api/login/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.006) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
Unauthorized: /api/logout/
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reds' LIMIT 21; args=('reds',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'reds' LIMIT 21; args=('reds',); alias=default
Bad Request: /api/login/
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reds' LIMIT 21; args=('reds',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'reds' LIMIT 21; args=('reds',); alias=default
Bad Request: /api/login/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
Unauthorized: /api/logout/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = '54ed' LIMIT 21; args=('54ed',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = '54ed' LIMIT 21; args=('54ed',); alias=default
Bad Request: /api/login/
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
Unauthorized: /api/logout/
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = '5rde' LIMIT 21; args=('5rde',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = '5rde' LIMIT 21; args=('5rde',); alias=default
Bad Request: /api/login/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = '5rde' LIMIT 21; args=('5rde',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = '5rde' LIMIT 21; args=('5rde',); alias=default
Bad Request: /api/login/
(0.012) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = '5rde' LIMIT 21; args=('5rde',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = '5rde' LIMIT 21; args=('5rde',); alias=default
Bad Request: /api/login/
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = '5rde' LIMIT 21; args=('5rde',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = '5rde' LIMIT 21; args=('5rde',); alias=default
Bad Request: /api/login/
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = '5rde' LIMIT 21; args=('5rde',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = '5rde' LIMIT 21; args=('5rde',); alias=default
Bad Request: /api/login/
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = '5rde' LIMIT 21; args=('5rde',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = '5rde' LIMIT 21; args=('5rde',); alias=default
Bad Request: /api/login/
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = '5rde' LIMIT 21; args=('5rde',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = '5rde' LIMIT 21; args=('5rde',); alias=default
Bad Request: /api/login/
(0.007) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
Unauthorized: /api/logout/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.015) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /favicon.ico
(0.030) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T12:58:56.346802+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 12, 58, 56, 346802, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.013) SELECT "django_admin_log"."id", "django_admin_log"."action_time", "django_admin_log"."user_id", "django_admin_log"."content_type_id", "django_admin_log"."object_id", "django_admin_log"."object_repr", "django_admin_log"."action_flag", "django_admin_log"."change_message", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at", "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_admin_log" INNER JOIN "core_customuser" ON ("django_admin_log"."user_id" = "core_customuser"."id") LEFT OUTER JOIN "django_content_type" ON ("django_admin_log"."content_type_id" = "django_content_type"."id") WHERE "django_admin_log"."user_id" = 3 ORDER BY "django_admin_log"."action_time" DESC LIMIT 10; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T12:59:03.227205+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 12, 59, 3, 227205, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.027) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.006) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC; args=(); alias=default
(0.007) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T12:59:03.966897+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 12, 59, 3, 966897, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T12:59:21.956420+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 12, 59, 21, 956420, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.004) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'core' AND "django_content_type"."model" = 'waterconsumption') LIMIT 21; args=('core', 'waterconsumption'); alias=default
(0.001) COMMIT; args=None; alias=default
(0.004) DECLARE "_django_curs_139667401848512_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T12:59:22.493567+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 12, 59, 22, 493567, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T12:59:38.782200+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 12, 59, 38, 782200, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 1; args=(1, 4); alias=default
(0.021) INSERT INTO "core_waterconsumption" ("user_id", "consumption", "period", "timestamp", "sensor_id") VALUES (4, 50.0, 'daily', '2025-06-29T12:59:38.822101+00:00'::timestamptz, 'main_flow_sensor') RETURNING "core_waterconsumption"."id"; args=(4, 50.0, 'daily', datetime.datetime(2025, 6, 29, 12, 59, 38, 822101, tzinfo=datetime.timezone.utc), 'main_flow_sensor'); alias=default
(0.005) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-06-29T12:59:38.846511+00:00'::timestamptz, 3, 7, '6', 'Daily Water Consumption for reda at 2025-06-29 12:59:38.822101+00:00: 50.0L', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 6, 29, 12, 59, 38, 846511, tzinfo=datetime.timezone.utc), 3, 7, '6', 'Daily Water Consumption for reda at 2025-06-29 12:59:38.822101+00:00: 50.0L', 1, '[{"added": {}}]'); alias=default
(0.010) COMMIT; args=None; alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T12:59:39.063794+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 12, 59, 39, 63794, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T12:59:39.600022+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 12, 59, 39, 600022, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T12:59:46.036848+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 12, 59, 46, 36848, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.002) DECLARE "_django_curs_139666867074752_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T12:59:46.605125+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 12, 59, 46, 605125, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T12:59:58.477415+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 12, 59, 58, 477415, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.000) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 1; args=(1, 4); alias=default
(0.004) INSERT INTO "core_waterconsumption" ("user_id", "consumption", "period", "timestamp", "sensor_id") VALUES (4, 10.0, 'weekly', '2025-06-29T12:59:58.505304+00:00'::timestamptz, 'main_flow_sensor') RETURNING "core_waterconsumption"."id"; args=(4, 10.0, 'weekly', datetime.datetime(2025, 6, 29, 12, 59, 58, 505304, tzinfo=datetime.timezone.utc), 'main_flow_sensor'); alias=default
(0.001) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-06-29T12:59:58.510215+00:00'::timestamptz, 3, 7, '7', 'Weekly Water Consumption for reda at 2025-06-29 12:59:58.505304+00:00: 10.0L', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 6, 29, 12, 59, 58, 510215, tzinfo=datetime.timezone.utc), 3, 7, '7', 'Weekly Water Consumption for reda at 2025-06-29 12:59:58.505304+00:00: 10.0L', 1, '[{"added": {}}]'); alias=default
(0.004) COMMIT; args=None; alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T12:59:58.729064+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 12, 59, 58, 729064, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T12:59:59.209036+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 12, 59, 59, 209036, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T13:01:54.012504+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 13, 1, 54, 12504, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_139666867074752_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T13:01:54.635537+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 13, 1, 54, 635537, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T13:02:04.539355+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 13, 2, 4, 539355, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 1; args=(1, 4); alias=default
(0.003) INSERT INTO "core_waterconsumption" ("user_id", "consumption", "period", "timestamp", "sensor_id") VALUES (4, 5.0, 'weekly', '2025-06-29T13:02:04.572783+00:00'::timestamptz, 'main_flow_sensor') RETURNING "core_waterconsumption"."id"; args=(4, 5.0, 'weekly', datetime.datetime(2025, 6, 29, 13, 2, 4, 572783, tzinfo=datetime.timezone.utc), 'main_flow_sensor'); alias=default
(0.001) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-06-29T13:02:04.577737+00:00'::timestamptz, 3, 7, '8', 'Weekly Water Consumption for reda at 2025-06-29 13:02:04.572783+00:00: 5.0L', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 6, 29, 13, 2, 4, 577737, tzinfo=datetime.timezone.utc), 3, 7, '8', 'Weekly Water Consumption for reda at 2025-06-29 13:02:04.572783+00:00: 5.0L', 1, '[{"added": {}}]'); alias=default
(0.004) COMMIT; args=None; alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T13:02:04.842175+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 13, 2, 4, 842175, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC; args=(); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T13:02:05.480648+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 13, 2, 5, 480648, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
(0.019) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.009) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.006) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /
(0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T13:05:28.221195+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 13, 5, 28, 221195, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.004) SELECT COUNT(*) AS "__count" FROM "core_tankflowmetric"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_tankflowmetric"; args=(); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_tankflowmetric" INNER JOIN "core_customuser" ON ("core_tankflowmetric"."user_id" = "core_customuser"."id") ORDER BY "core_tankflowmetric"."timestamp" DESC, "core_tankflowmetric"."id" DESC; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T13:05:28.934810+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 13, 5, 28, 934810, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T13:05:30.816631+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 13, 5, 30, 816631, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.004) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'core' AND "django_content_type"."model" = 'tankflowmetric') LIMIT 21; args=('core', 'tankflowmetric'); alias=default
(0.000) COMMIT; args=None; alias=default
(0.002) DECLARE "_django_curs_126644264105664_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T13:05:31.353885+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 13, 5, 31, 353885, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T13:05:45.053848+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 13, 5, 45, 53848, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.000) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 1; args=(1, 4); alias=default
(0.007) INSERT INTO "core_tankflowmetric" ("user_id", "value", "metric_type", "timestamp", "sensor_id") VALUES (4, 18.0, 'main_flow_rate', '2025-06-29T13:05:45.076903+00:00'::timestamptz, 'main_flow_sensor') RETURNING "core_tankflowmetric"."id"; args=(4, 18.0, 'main_flow_rate', datetime.datetime(2025, 6, 29, 13, 5, 45, 76903, tzinfo=datetime.timezone.utc), 'main_flow_sensor'); alias=default
(0.005) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-06-29T13:05:45.084913+00:00'::timestamptz, 3, 8, '4', 'Main Flow Rate for reda at 2025-06-29 13:05:45.076903+00:00: 18.0L/min', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 6, 29, 13, 5, 45, 84913, tzinfo=datetime.timezone.utc), 3, 8, '4', 'Main Flow Rate for reda at 2025-06-29 13:05:45.076903+00:00: 18.0L/min', 1, '[{"added": {}}]'); alias=default
(0.007) COMMIT; args=None; alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T13:05:45.306449+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 13, 5, 45, 306449, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_tankflowmetric"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_tankflowmetric"; args=(); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_tankflowmetric" INNER JOIN "core_customuser" ON ("core_tankflowmetric"."user_id" = "core_customuser"."id") ORDER BY "core_tankflowmetric"."timestamp" DESC, "core_tankflowmetric"."id" DESC; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T13:05:45.856428+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 13, 5, 45, 856428, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T13:06:07.625723+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 13, 6, 7, 625723, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_126643997755072_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T13:06:08.185969+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 13, 6, 8, 185969, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T13:06:20.320560+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 13, 6, 20, 320560, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 1; args=(1, 4); alias=default
(0.001) INSERT INTO "core_tankflowmetric" ("user_id", "value", "metric_type", "timestamp", "sensor_id") VALUES (4, 7.0, 'secondary_flow_rate', '2025-06-29T13:06:20.351293+00:00'::timestamptz, 'secondary_flow_sensor') RETURNING "core_tankflowmetric"."id"; args=(4, 7.0, 'secondary_flow_rate', datetime.datetime(2025, 6, 29, 13, 6, 20, 351293, tzinfo=datetime.timezone.utc), 'secondary_flow_sensor'); alias=default
(0.001) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-06-29T13:06:20.354101+00:00'::timestamptz, 3, 8, '5', 'Secondary Flow Rate for reda at 2025-06-29 13:06:20.351293+00:00: 7.0L/min', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 6, 29, 13, 6, 20, 354101, tzinfo=datetime.timezone.utc), 3, 8, '5', 'Secondary Flow Rate for reda at 2025-06-29 13:06:20.351293+00:00: 7.0L/min', 1, '[{"added": {}}]'); alias=default
(0.004) COMMIT; args=None; alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T13:06:20.594650+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 13, 6, 20, 594650, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_tankflowmetric"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_tankflowmetric"; args=(); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_tankflowmetric" INNER JOIN "core_customuser" ON ("core_tankflowmetric"."user_id" = "core_customuser"."id") ORDER BY "core_tankflowmetric"."timestamp" DESC, "core_tankflowmetric"."id" DESC; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T13:06:21.213491+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 13, 6, 21, 213491, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
(0.021) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam' LIMIT 21; args=('azzam',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 3 LIMIT 21; args=(3,); alias=default
(0.009) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam' LIMIT 21; args=('azzam',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 3 LIMIT 21; args=(3,); alias=default
(0.014) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.021) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.008) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE ("core_waterconsumption"."period" = 'daily' AND "core_waterconsumption"."user_id" = 4) ORDER BY "core_waterconsumption"."timestamp" DESC LIMIT 1; args=('daily', 4); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.005) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.013) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam' LIMIT 21; args=('azzam',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 3 LIMIT 21; args=(3,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'eff63c70f88ccaaca550cf81d50db563b4d1ac5a' LIMIT 21; args=('eff63c70f88ccaaca550cf81d50db563b4d1ac5a',); alias=default
(0.017) DELETE FROM "authtoken_token" WHERE "authtoken_token"."key" IN ('eff63c70f88ccaaca550cf81d50db563b4d1ac5a'); args=('eff63c70f88ccaaca550cf81d50db563b4d1ac5a',); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'eff63c70f88ccaaca550cf81d50db563b4d1ac5a' LIMIT 21; args=('eff63c70f88ccaaca550cf81d50db563b4d1ac5a',); alias=default
Unauthorized: /api/logout/
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam' LIMIT 21; args=('azzam',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.011) INSERT INTO "authtoken_token" ("key", "user_id", "created") VALUES ('e9471c90301189b8453308008f9a39f7c65f899f', 3, '2025-06-29T14:25:40.649862+00:00'::timestamptz); args=('e9471c90301189b8453308008f9a39f7c65f899f', 3, datetime.datetime(2025, 6, 29, 14, 25, 40, 649862, tzinfo=datetime.timezone.utc)); alias=default
(0.008) COMMIT; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam' LIMIT 21; args=('azzam',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'e9471c90301189b8453308008f9a39f7c65f899f' LIMIT 21; args=('e9471c90301189b8453308008f9a39f7c65f899f',); alias=default
(0.003) DELETE FROM "authtoken_token" WHERE "authtoken_token"."key" IN ('e9471c90301189b8453308008f9a39f7c65f899f'); args=('e9471c90301189b8453308008f9a39f7c65f899f',); alias=default
(0.013) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.005) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
Unauthorized: /api/logout/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.015) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.020) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.020) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.007) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.009) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.034) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T15:00:36.191577+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 15, 0, 36, 191577, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.006) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.026) SELECT "django_admin_log"."id", "django_admin_log"."action_time", "django_admin_log"."user_id", "django_admin_log"."content_type_id", "django_admin_log"."object_id", "django_admin_log"."object_repr", "django_admin_log"."action_flag", "django_admin_log"."change_message", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at", "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_admin_log" INNER JOIN "core_customuser" ON ("django_admin_log"."user_id" = "core_customuser"."id") LEFT OUTER JOIN "django_content_type" ON ("django_admin_log"."content_type_id" = "django_content_type"."id") WHERE "django_admin_log"."user_id" = 3 ORDER BY "django_admin_log"."action_time" DESC LIMIT 10; args=(3,); alias=default
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /favicon.ico
(0.014) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T15:05:33.365432+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 15, 5, 33, 365432, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.004) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.019) SELECT COUNT(*) AS "__count" FROM "core_customuser"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_customuser"; args=(); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" ORDER BY "core_customuser"."id" DESC; args=(); alias=default
(0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-29T15:05:34.313857+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 29, 15, 5, 34, 313857, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.003) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."username" = 'test5' LIMIT 1; args=(1, 'test5'); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."email" = 'azzam1f@exfample.com' LIMIT 1; args=(1, 'azzam1f@exfample.com'); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."phone_number" = '+201189142105' LIMIT 1; args=(1, '+201189142105'); alias=default
(0.031) INSERT INTO "core_customuser" ("password", "last_login", "is_superuser", "username", "first_name", "last_name", "email", "is_staff", "is_active", "date_joined", "role", "full_name", "home_address", "phone_number", "created_at") VALUES ('pbkdf2_sha256$870000$W2i2bQVZqsT0sgvRI3vkDa$k9gjJTvekFFwyJBUs6LNFevzALwTnqxhRweqZHArnyE=', NULL, false, 'test5', '', '', 'azzam1f@exfample.com', false, true, '2025-06-29T15:06:40.905846+00:00'::timestamptz, 'homeowner', 'Azzam1Fullname', '123 Street', '+201189142105', '2025-06-29T15:06:41.132037+00:00'::timestamptz) RETURNING "core_customuser"."id"; args=('pbkdf2_sha256$870000$W2i2bQVZqsT0sgvRI3vkDa$k9gjJTvekFFwyJBUs6LNFevzALwTnqxhRweqZHArnyE=', None, False, 'test5', '', '', 'azzam1f@exfample.com', False, True, datetime.datetime(2025, 6, 29, 15, 6, 40, 905846, tzinfo=datetime.timezone.utc), 'homeowner', 'Azzam1Fullname', '123 Street', '+201189142105', datetime.datetime(2025, 6, 29, 15, 6, 41, 132037, tzinfo=datetime.timezone.utc)); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 8 LIMIT 21; args=(8,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.004) INSERT INTO "authtoken_token" ("key", "user_id", "created") VALUES ('3a88221a077037c1b1702db62c3d8dd5b6f63bc0', 8, '2025-06-29T15:06:41.177849+00:00'::timestamptz); args=('3a88221a077037c1b1702db62c3d8dd5b6f63bc0', 8, datetime.datetime(2025, 6, 29, 15, 6, 41, 177849, tzinfo=datetime.timezone.utc)); alias=default
(0.006) COMMIT; args=None; alias=default
(0.006) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.019) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.018) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."username" = 'mahmoud' LIMIT 1; args=(1, 'mahmoud'); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."email" = 'hooda6690@gmail.com' LIMIT 1; args=(1, 'hooda6690@gmail.com'); alias=default
(0.002) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."phone_number" = '+201015474019' LIMIT 1; args=(1, '+201015474019'); alias=default
(0.039) INSERT INTO "core_customuser" ("password", "last_login", "is_superuser", "username", "first_name", "last_name", "email", "is_staff", "is_active", "date_joined", "role", "full_name", "home_address", "phone_number", "created_at") VALUES ('pbkdf2_sha256$870000$jcFTRcMjvlRPAwAlc0XUxz$SjzQQlziRdMJiGIg9RTrlG3TrC/cEibzR4+QQd4H228=', NULL, false, 'mahmoud', '', '', 'hooda6690@gmail.com', false, true, '2025-06-29T15:35:19.006085+00:00'::timestamptz, 'homeowner', 'Mahmoud Ibrahim', '12 st Alnasr', '+201015474019', '2025-06-29T15:35:19.389707+00:00'::timestamptz) RETURNING "core_customuser"."id"; args=('pbkdf2_sha256$870000$jcFTRcMjvlRPAwAlc0XUxz$SjzQQlziRdMJiGIg9RTrlG3TrC/cEibzR4+QQd4H228=', None, False, 'mahmoud', '', '', 'hooda6690@gmail.com', False, True, datetime.datetime(2025, 6, 29, 15, 35, 19, 6085, tzinfo=datetime.timezone.utc), 'homeowner', 'Mahmoud Ibrahim', '12 st Alnasr', '+201015474019', datetime.datetime(2025, 6, 29, 15, 35, 19, 389707, tzinfo=datetime.timezone.utc)); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 9 LIMIT 21; args=(9,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.003) INSERT INTO "authtoken_token" ("key", "user_id", "created") VALUES ('d02fa25bdff3829f84a909295d5c965cdf01edb0', 9, '2025-06-29T15:35:19.459866+00:00'::timestamptz); args=('d02fa25bdff3829f84a909295d5c965cdf01edb0', 9, datetime.datetime(2025, 6, 29, 15, 35, 19, 459866, tzinfo=datetime.timezone.utc)); alias=default
(0.009) COMMIT; args=None; alias=default
(0.006) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = '+201015474019' LIMIT 21; args=('+201015474019',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = '+201015474019' LIMIT 21; args=('+201015474019',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 9 LIMIT 21; args=(9,); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '7febe171c0b12cc99c7a43b6a4d9c91264348435' LIMIT 21; args=('7febe171c0b12cc99c7a43b6a4d9c91264348435',); alias=default
Unauthorized: /api/profile/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '7febe171c0b12cc99c7a43b6a4d9c91264348435' LIMIT 21; args=('7febe171c0b12cc99c7a43b6a4d9c91264348435',); alias=default
Unauthorized: /api/profile/
(0.018) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.022) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.022) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.004) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.017) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.021) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T01:46:41.359534+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 1, 46, 41, 359534, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.005) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.006) SELECT COUNT(*) AS "__count" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_customuser"; args=(); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" ORDER BY "core_customuser"."id" DESC; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T01:46:46.452465+00:00'::timestamptz AND "django_session"."session_key" = 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 1, 46, 46, 452465, tzinfo=datetime.timezone.utc), 'xyb1rqgm2ihzcfugrkhskhrg8aeruc1k'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /favicon.ico
(0.015) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /
(0.021) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.010) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Bad Request: /api/threshold/
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.008) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 4); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.009) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 80.0, "period" = 'daily' WHERE "core_waterconsumptionthreshold"."id" = 1; args=(4, 80.0, 'daily', 1); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 4); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.003) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 80.0, "period" = 'daily' WHERE "core_waterconsumptionthreshold"."id" = 1; args=(4, 80.0, 'daily', 1); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/core/views/mqtt.py", line 138, in post
    for command in serializer.validated_data['commands']:
                   ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'commands'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b58a24d80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('exc', "KeyError('commands')"), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7f5b5c748c80>>')], 'id': 140030305783168, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b58965580>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7f5b5c748c80>'), ('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7f5b59317380>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7f5b5a33b950>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7f5b58a22ae0>')], 'id': 140030304998784, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b58072b40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function View.as_view.<locals>.view at 0x7f5b593172e0>')], 'id': 140030295616320, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b58a07980>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<core.views.mqtt.BulkControlView object at 0x7f5b5806af60>'), ('cls', "<class 'core.views.mqtt.BulkControlView'>"), ('initkwargs', '{}')], 'id': 140030305663360, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b58072d40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f5b5806af60>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method BulkControlView.post of <core.views.mqtt.BulkControlView object at 0x7f5b5806af60>>')], 'id': 140030295616832, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b58072a00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f5b5806af60>'), ('exc', "KeyError('commands')"), ('exception_handler', '<function exception_handler at 0x7f5b594e7380>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: POST '/api/bulk-control/'>,\n 'view': <core.views.mqtt.BulkControlView object at 0x7f5b5806af60>}"), ('response', 'None')], 'id': 140030295616000, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b58072ac0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f5b5806af60>'), ('exc', "KeyError('commands')"), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 140030295616192, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b580711c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f5b5806af60>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method BulkControlView.post of <core.views.mqtt.BulkControlView object at 0x7f5b5806af60>>')], 'id': 140030295609792, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b58987940>, 'type': 'user', 'filename': '/app/core/views/mqtt.py', 'function': 'post', 'lineno': 138, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f5b5806af60>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('serializer', "BulkControlSerializer(data={'commands': [{'topic': 'home/tankRoom/motor', 'value': True}, {'topic': 'home/tankRoom/automode', 'value': False}]}):"), ('valid_topics', "['home/tankRoom/motor',\n 'home/tankRoom/tankValve',\n 'home/tankRoom/mainValve',\n 'home/tankRoom/cadoValve',\n 'home/tankRoom/automode']"), ('results', '[]')], 'id': 140030305139008, 'pre_context': ['        ', '        valid_topics = [', "            'home/tankRoom/motor', 'home/tankRoom/tankValve',", "            'home/tankRoom/mainValve', 'home/tankRoom/cadoValve',", "            'home/tankRoom/automode'", '        ]', '        results = []'], 'context_line': "        for command in serializer.validated_data['commands']:", 'post_context': ["            topic = command['topic']", "            value = command['value']", '            if topic not in valid_topics:', "                results.append({'topic': topic, 'status': 'error', 'message': 'Invalid topic'})", '                continue', '            if not isinstance(value, bool):'], 'pre_context_lineno': 131, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/bulk-control/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/bulk-control/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 45802, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_USER_AGENT': 'PostmanRuntime/7.44.0', 'CONTENT_LENGTH': '187', 'HTTP_ACCEPT': '*/*', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'HTTP_CACHE_CONTROL': 'no-cache', 'CONTENT_TYPE': 'application/json', 'HTTP_POSTMAN_TOKEN': '********************', 'HTTP_X_FORWARDED_FOR': '217.55.53.153', 'HTTP_X_FORWARDED_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://8299-197-134-78-134.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 10, 11, 34, 132624, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7f5b5897df20>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7f5b5897e5a0>, 'request_insecure_uri': 'http://a22b-105-204-149-17.ngrok-free.app/api/bulk-control/', 'raising_view_name': 'core.views.mqtt.BulkControlView', 'exception_type': 'KeyError', 'exception_value': "'commands'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b58987940>, 'type': 'user', 'filename': '/app/core/views/mqtt.py', 'function': 'post', 'lineno': 138, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f5b5806af60>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('serializer', "BulkControlSerializer(data={'commands': [{'topic': 'home/tankRoom/motor', 'value': True}, {'topic': 'home/tankRoom/automode', 'value': False}]}):"), ('valid_topics', "['home/tankRoom/motor',\n 'home/tankRoom/tankValve',\n 'home/tankRoom/mainValve',\n 'home/tankRoom/cadoValve',\n 'home/tankRoom/automode']"), ('results', '[]')], 'id': 140030305139008, 'pre_context': ['        ', '        valid_topics = [', "            'home/tankRoom/motor', 'home/tankRoom/tankValve',", "            'home/tankRoom/mainValve', 'home/tankRoom/cadoValve',", "            'home/tankRoom/automode'", '        ]', '        results = []'], 'context_line': "        for command in serializer.validated_data['commands']:", 'post_context': ["            topic = command['topic']", "            value = command['value']", '            if topic not in valid_topics:', "                results.append({'topic': topic, 'status': 'error', 'message': 'Invalid topic'})", '                continue', '            if not isinstance(value, bool):'], 'pre_context_lineno': 131, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/core/views/mqtt.py", line 138, in post
    for command in serializer.validated_data['commands']:
                   ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'commands'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b58a24d80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('exc', "KeyError('commands')"), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7f5b5c748c80>>')], 'id': 140030305783168, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b58965580>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7f5b5c748c80>'), ('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7f5b59317380>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7f5b5a33b950>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7f5b58a22ae0>')], 'id': 140030304998784, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b58072b40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function View.as_view.<locals>.view at 0x7f5b593172e0>')], 'id': 140030295616320, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b58a07980>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<core.views.mqtt.BulkControlView object at 0x7f5b5806af60>'), ('cls', "<class 'core.views.mqtt.BulkControlView'>"), ('initkwargs', '{}')], 'id': 140030305663360, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b58072d40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f5b5806af60>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method BulkControlView.post of <core.views.mqtt.BulkControlView object at 0x7f5b5806af60>>')], 'id': 140030295616832, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b58072a00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f5b5806af60>'), ('exc', "KeyError('commands')"), ('exception_handler', '<function exception_handler at 0x7f5b594e7380>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: POST '/api/bulk-control/'>,\n 'view': <core.views.mqtt.BulkControlView object at 0x7f5b5806af60>}"), ('response', 'None')], 'id': 140030295616000, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b58072ac0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f5b5806af60>'), ('exc', "KeyError('commands')"), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 140030295616192, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b580711c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f5b5806af60>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method BulkControlView.post of <core.views.mqtt.BulkControlView object at 0x7f5b5806af60>>')], 'id': 140030295609792, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b58987940>, 'type': 'user', 'filename': '/app/core/views/mqtt.py', 'function': 'post', 'lineno': 138, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f5b5806af60>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('serializer', "BulkControlSerializer(data={'commands': [{'topic': 'home/tankRoom/motor', 'value': True}, {'topic': 'home/tankRoom/automode', 'value': False}]}):"), ('valid_topics', "['home/tankRoom/motor',\n 'home/tankRoom/tankValve',\n 'home/tankRoom/mainValve',\n 'home/tankRoom/cadoValve',\n 'home/tankRoom/automode']"), ('results', '[]')], 'id': 140030305139008, 'pre_context': ['        ', '        valid_topics = [', "            'home/tankRoom/motor', 'home/tankRoom/tankValve',", "            'home/tankRoom/mainValve', 'home/tankRoom/cadoValve',", "            'home/tankRoom/automode'", '        ]', '        results = []'], 'context_line': "        for command in serializer.validated_data['commands']:", 'post_context': ["            topic = command['topic']", "            value = command['value']", '            if topic not in valid_topics:', "                results.append({'topic': topic, 'status': 'error', 'message': 'Invalid topic'})", '                continue', '            if not isinstance(value, bool):'], 'pre_context_lineno': 131, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/bulk-control/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/bulk-control/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 45802, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_USER_AGENT': 'PostmanRuntime/7.44.0', 'CONTENT_LENGTH': '187', 'HTTP_ACCEPT': '*/*', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'HTTP_CACHE_CONTROL': 'no-cache', 'CONTENT_TYPE': 'application/json', 'HTTP_POSTMAN_TOKEN': '********************', 'HTTP_X_FORWARDED_FOR': '217.55.53.153', 'HTTP_X_FORWARDED_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://8299-197-134-78-134.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 10, 11, 34, 132624, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7f5b5897df20>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7f5b5897e5a0>, 'request_insecure_uri': 'http://a22b-105-204-149-17.ngrok-free.app/api/bulk-control/', 'raising_view_name': 'core.views.mqtt.BulkControlView', 'exception_type': 'KeyError', 'exception_value': "'commands'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f5b58987940>, 'type': 'user', 'filename': '/app/core/views/mqtt.py', 'function': 'post', 'lineno': 138, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x7f5b5806af60>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('serializer', "BulkControlSerializer(data={'commands': [{'topic': 'home/tankRoom/motor', 'value': True}, {'topic': 'home/tankRoom/automode', 'value': False}]}):"), ('valid_topics', "['home/tankRoom/motor',\n 'home/tankRoom/tankValve',\n 'home/tankRoom/mainValve',\n 'home/tankRoom/cadoValve',\n 'home/tankRoom/automode']"), ('results', '[]')], 'id': 140030305139008, 'pre_context': ['        ', '        valid_topics = [', "            'home/tankRoom/motor', 'home/tankRoom/tankValve',", "            'home/tankRoom/mainValve', 'home/tankRoom/cadoValve',", "            'home/tankRoom/automode'", '        ]', '        results = []'], 'context_line': "        for command in serializer.validated_data['commands']:", 'post_context': ["            topic = command['topic']", "            value = command['value']", '            if topic not in valid_topics:', "                results.append({'topic': topic, 'status': 'error', 'message': 'Invalid topic'})", '                continue', '            if not isinstance(value, bool):'], 'pre_context_lineno': 131, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/bulk-control/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/core/views/mqtt.py", line 138, in post
    for command in serializer.validated_data['commands']:
                   ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'commands'
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
(0.012) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.013) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'd02fa25bdff3829f84a909295d5c965cdf01edb0' LIMIT 21; args=('d02fa25bdff3829f84a909295d5c965cdf01edb0',); alias=default
Bad Request: /api/threshold/
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'd02fa25bdff3829f84a909295d5c965cdf01edb0' LIMIT 21; args=('d02fa25bdff3829f84a909295d5c965cdf01edb0',); alias=default
Bad Request: /api/threshold/
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'd02fa25bdff3829f84a909295d5c965cdf01edb0' LIMIT 21; args=('d02fa25bdff3829f84a909295d5c965cdf01edb0',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 5 LIMIT 21; args=(5,); alias=default
(0.003) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 5) LIMIT 1; args=(1, 'weekly', 5); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 9) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 9); alias=default
(0.018) INSERT INTO "core_waterconsumptionthreshold" ("user_id", "threshold", "period") VALUES (9, 80.0, 'weekly') RETURNING "core_waterconsumptionthreshold"."id"; args=(9, 80.0, 'weekly'); alias=default
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
(0.015) SELECT "django_site"."id", "django_site"."domain", "django_site"."name" FROM "django_site" WHERE "django_site"."id" = 1 LIMIT 21; args=(1,); alias=default
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /favicon.ico
(0.020) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam' LIMIT 21; args=('azzam',); alias=default
(0.002) SELECT 1 AS "a" FROM "django_session" WHERE "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh' LIMIT 1; args=(1, '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.000) BEGIN; args=None; alias=default
(0.007) INSERT INTO "django_session" ("session_key", "session_data", "expire_date") VALUES ('58rfpfdqqdvol69gx792e2m2ln5rs3fh', 'e30:1uWBtt:v0P-SZTRinstAdUHfqx9G5f55a-34XZjzNrRdE1sTFc', '2025-07-14T10:38:13.233236+00:00'::timestamptz); args=('58rfpfdqqdvol69gx792e2m2ln5rs3fh', 'e30:1uWBtt:v0P-SZTRinstAdUHfqx9G5f55a-34XZjzNrRdE1sTFc', datetime.datetime(2025, 7, 14, 10, 38, 13, 233236, tzinfo=datetime.timezone.utc)); alias=default
(0.002) COMMIT; args=None; alias=default
(0.005) UPDATE "core_customuser" SET "last_login" = '2025-06-30T10:38:13.243843+00:00'::timestamptz WHERE "core_customuser"."id" = 3; args=(datetime.datetime(2025, 6, 30, 10, 38, 13, 243843, tzinfo=datetime.timezone.utc), 3); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) UPDATE "django_session" SET "session_data" = '.eJxVjDEOAiEQRe9CbQgMCIylvWcgwIyyaiBZdivj3XWTLbT9773_EjGtS43r4DlOJE7CiMPvllN5cNsA3VO7dVl6W-Ypy02ROx3y0omf5939O6hp1G-dmYrLYAit13gFYx2Rcs4wJEzsGQoeA2ZdXPCIoDhoC9oFCkWRzuL9AeZaN4c:1uWBtt:7aWXFXQc152BR4EL1uXmJCBjQT-YEUqXmg6fbZPIa5o', "expire_date" = '2025-07-14T10:38:13.252315+00:00'::timestamptz WHERE "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh'; args=('.eJxVjDEOAiEQRe9CbQgMCIylvWcgwIyyaiBZdivj3XWTLbT9773_EjGtS43r4DlOJE7CiMPvllN5cNsA3VO7dVl6W-Ypy02ROx3y0omf5939O6hp1G-dmYrLYAit13gFYx2Rcs4wJEzsGQoeA2ZdXPCIoDhoC9oFCkWRzuL9AeZaN4c:1uWBtt:7aWXFXQc152BR4EL1uXmJCBjQT-YEUqXmg6fbZPIa5o', datetime.datetime(2025, 7, 14, 10, 38, 13, 252315, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) COMMIT; args=None; alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:38:13.892635+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 38, 13, 892635, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.008) SELECT "django_admin_log"."id", "django_admin_log"."action_time", "django_admin_log"."user_id", "django_admin_log"."content_type_id", "django_admin_log"."object_id", "django_admin_log"."object_repr", "django_admin_log"."action_flag", "django_admin_log"."change_message", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at", "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_admin_log" INNER JOIN "core_customuser" ON ("django_admin_log"."user_id" = "core_customuser"."id") LEFT OUTER JOIN "django_content_type" ON ("django_admin_log"."content_type_id" = "django_content_type"."id") WHERE "django_admin_log"."user_id" = 3 ORDER BY "django_admin_log"."action_time" DESC LIMIT 10; args=(3,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:38:23.841692+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 38, 23, 841692, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.006) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionthreshold" INNER JOIN "core_customuser" ON ("core_waterconsumptionthreshold"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumptionthreshold"."id" DESC; args=(); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:38:24.509737+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 38, 24, 509737, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:38:31.932975+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 38, 31, 932975, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionthreshold" INNER JOIN "core_customuser" ON ("core_waterconsumptionthreshold"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumptionthreshold"."user_id" ASC, "core_waterconsumptionthreshold"."id" DESC; args=(); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:38:32.454148+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 38, 32, 454148, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'd02fa25bdff3829f84a909295d5c965cdf01edb0' LIMIT 21; args=('d02fa25bdff3829f84a909295d5c965cdf01edb0',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 5 LIMIT 21; args=(5,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 5) LIMIT 1; args=(1, 'weekly', 5); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 9) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 9); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'd02fa25bdff3829f84a909295d5c965cdf01edb0' LIMIT 21; args=('d02fa25bdff3829f84a909295d5c965cdf01edb0',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4) LIMIT 1; args=(1, 'weekly', 4); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'd02fa25bdff3829f84a909295d5c965cdf01edb0' LIMIT 21; args=('d02fa25bdff3829f84a909295d5c965cdf01edb0',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4) LIMIT 1; args=(1, 'weekly', 4); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'd02fa25bdff3829f84a909295d5c965cdf01edb0' LIMIT 21; args=('d02fa25bdff3829f84a909295d5c965cdf01edb0',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4) LIMIT 1; args=(1, 'weekly', 4); alias=default
Bad Request: /api/threshold/
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'd02fa25bdff3829f84a909295d5c965cdf01edb0' LIMIT 21; args=('d02fa25bdff3829f84a909295d5c965cdf01edb0',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 2 LIMIT 21; args=(2,); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'd02fa25bdff3829f84a909295d5c965cdf01edb0' LIMIT 21; args=('d02fa25bdff3829f84a909295d5c965cdf01edb0',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) LIMIT 1; args=(1, 'daily', 4); alias=default
Bad Request: /api/threshold/
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:40:17.613364+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 40, 17, 613364, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.002) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'core' AND "django_content_type"."model" = 'waterconsumptionthreshold') LIMIT 21; args=('core', 'waterconsumptionthreshold'); alias=default
(0.000) COMMIT; args=None; alias=default
(0.002) DECLARE "_django_curs_124195395585728_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:40:18.482303+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 40, 18, 482303, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:40:34.908036+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 40, 34, 908036, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 1; args=(1, 3); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 3) LIMIT 1; args=(1, 'daily', 3); alias=default
(0.005) INSERT INTO "core_waterconsumptionthreshold" ("user_id", "threshold", "period") VALUES (3, 20.5, 'daily') RETURNING "core_waterconsumptionthreshold"."id"; args=(3, 20.5, 'daily'); alias=default
(0.003) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-06-30T10:40:34.940395+00:00'::timestamptz, 3, 11, '6', 'Daily Threshold for azzam: 20.5L', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 6, 30, 10, 40, 34, 940395, tzinfo=datetime.timezone.utc), 3, 11, '6', 'Daily Threshold for azzam: 20.5L', 1, '[{"added": {}}]'); alias=default
(0.004) COMMIT; args=None; alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:40:35.321317+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 40, 35, 321317, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionthreshold" INNER JOIN "core_customuser" ON ("core_waterconsumptionthreshold"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumptionthreshold"."user_id" ASC, "core_waterconsumptionthreshold"."id" DESC; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:40:35.753744+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 40, 35, 753744, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'd02fa25bdff3829f84a909295d5c965cdf01edb0' LIMIT 21; args=('d02fa25bdff3829f84a909295d5c965cdf01edb0',); alias=default
Bad Request: /api/threshold/
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'd02fa25bdff3829f84a909295d5c965cdf01edb0' LIMIT 21; args=('d02fa25bdff3829f84a909295d5c965cdf01edb0',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'monthly' AND "core_waterconsumptionthreshold"."user_id" = 4) LIMIT 1; args=(1, 'monthly', 4); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'd02fa25bdff3829f84a909295d5c965cdf01edb0' LIMIT 21; args=('d02fa25bdff3829f84a909295d5c965cdf01edb0',); alias=default
Bad Request: /api/threshold/
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
Bad Request: /api/threshold/
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'monthly' AND "core_waterconsumptionthreshold"."user_id" = 3) LIMIT 1; args=(1, 'monthly', 3); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'monthly' AND "core_waterconsumptionthreshold"."user_id" = 6) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('monthly', 6); alias=default
(0.005) INSERT INTO "core_waterconsumptionthreshold" ("user_id", "threshold", "period") VALUES (6, 10.0, 'monthly') RETURNING "core_waterconsumptionthreshold"."id"; args=(6, 10.0, 'monthly'); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 6 LIMIT 21; args=(6,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'monthly' AND "core_waterconsumptionthreshold"."user_id" = 6) LIMIT 1; args=(1, 'monthly', 6); alias=default
Bad Request: /api/threshold/
(0.006) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'monthly' AND "core_waterconsumptionthreshold"."user_id" = 3) LIMIT 1; args=(1, 'monthly', 3); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'monthly' AND "core_waterconsumptionthreshold"."user_id" = 6) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('monthly', 6); alias=default
Bad Request: /api/threshold/
(0.007) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 3) LIMIT 1; args=(1, 'weekly', 3); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 6) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 6); alias=default
(0.003) INSERT INTO "core_waterconsumptionthreshold" ("user_id", "threshold", "period") VALUES (6, 10.0, 'weekly') RETURNING "core_waterconsumptionthreshold"."id"; args=(6, 10.0, 'weekly'); alias=default
(0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:44:21.057571+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 44, 21, 57571, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.004) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.002) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionthreshold" INNER JOIN "core_customuser" ON ("core_waterconsumptionthreshold"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumptionthreshold"."user_id" ASC, "core_waterconsumptionthreshold"."id" DESC; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:44:21.763310+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 44, 21, 763310, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:44:46.715398+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 44, 46, 715398, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.002) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionthreshold" INNER JOIN "core_customuser" ON ("core_waterconsumptionthreshold"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumptionthreshold"."period" ASC, "core_waterconsumptionthreshold"."user_id" ASC, "core_waterconsumptionthreshold"."id" DESC; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:44:54.741375+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 44, 54, 741375, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:45:00.583927+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 45, 0, 583927, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionthreshold" INNER JOIN "core_customuser" ON ("core_waterconsumptionthreshold"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumptionthreshold"."user_id" ASC, "core_waterconsumptionthreshold"."id" DESC; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:45:13.357433+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 45, 13, 357433, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold" WHERE "core_waterconsumptionthreshold"."period" = 'weekly'; args=('weekly',); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.002) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionthreshold" INNER JOIN "core_customuser" ON ("core_waterconsumptionthreshold"."user_id" = "core_customuser"."id") WHERE "core_waterconsumptionthreshold"."period" = 'weekly' ORDER BY "core_waterconsumptionthreshold"."user_id" ASC, "core_waterconsumptionthreshold"."id" DESC; args=('weekly',); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:45:15.226685+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 45, 15, 226685, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:45:23.169211+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 45, 23, 169211, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.002) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionthreshold" INNER JOIN "core_customuser" ON ("core_waterconsumptionthreshold"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumptionthreshold"."user_id" ASC, "core_waterconsumptionthreshold"."id" DESC; args=(); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T10:45:27.180907+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 10, 45, 27, 180907, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.013) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.002) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 6) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 6); alias=default
Not Found: /api/threshold/daily/
(0.016) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Bad Request: /api/threshold/
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.003) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4) LIMIT 1; args=(1, 'weekly', 4); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 3) LIMIT 1; args=(1, 'weekly', 3); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 4); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 3) LIMIT 1; args=(1, 'weekly', 3); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 4); alias=default
Bad Request: /api/threshold/
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 3) LIMIT 1; args=(1, 'weekly', 3); alias=default
(0.000) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 4); alias=default
Bad Request: /api/threshold/
(0.011) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '7febe171c0b12cc99c7a43b6a4d9c91264348435' LIMIT 21; args=('7febe171c0b12cc99c7a43b6a4d9c91264348435',); alias=default
Unauthorized: /api/threshold/
(0.004) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '7febe171c0b12cc99c7a43b6a4d9c91264348435' LIMIT 21; args=('7febe171c0b12cc99c7a43b6a4d9c91264348435',); alias=default
Unauthorized: /api/threshold/
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '7febe171c0b12cc99c7a43b6a4d9c91264348435' LIMIT 21; args=('7febe171c0b12cc99c7a43b6a4d9c91264348435',); alias=default
Unauthorized: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4) LIMIT 1; args=(1, 'weekly', 4); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) LIMIT 1; args=(1, 'daily', 4); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 4); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.017) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 80.0, "period" = 'daily' WHERE "core_waterconsumptionthreshold"."id" = 1; args=(4, 80.0, 'daily', 1); alias=default
(0.013) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.003) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) LIMIT 1; args=(1, 'daily', 4); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) LIMIT 1; args=(1, 'daily', 4); alias=default
Bad Request: /api/threshold/
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /
(0.021) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 3) LIMIT 1; args=(1, 'weekly', 3); alias=default
(0.002) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 6) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 6); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 3) LIMIT 1; args=(1, 'daily', 3); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
Bad Request: /api/threshold/
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
Bad Request: /api/threshold/
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 2 LIMIT 21; args=(2,); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 2 LIMIT 21; args=(2,); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) LIMIT 1; args=(1, 'daily', 4); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 5 LIMIT 21; args=(5,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 5) LIMIT 1; args=(1, 'daily', 5); alias=default
(0.000) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 6) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 6); alias=default
(0.023) INSERT INTO "core_waterconsumptionthreshold" ("user_id", "threshold", "period") VALUES (6, 10.0, 'daily') RETURNING "core_waterconsumptionthreshold"."id"; args=(6, 10.0, 'daily'); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/core/views/mqtt.py", line 138, in post
    for command in serializer.validated_data['commands']:
                   ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'commands'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f47c6956c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('exc', "KeyError('commands')"), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x70f487f11160>>')], 'id': 124195361609408, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f48411ed40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x70f487f11160>'), ('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x70f484b174c0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x70f485b479b0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x70f47c6b36e0>')], 'id': 124195490098496, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f47c6976c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function View.as_view.<locals>.view at 0x70f484b17420>')], 'id': 124195361617600, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f47f75ee00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>'), ('cls', "<class 'core.views.mqtt.BulkControlView'>"), ('initkwargs', '{}')], 'id': 124195412766208, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f47c697240>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method BulkControlView.post of <core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>>')], 'id': 124195361616448, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f47c6943c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>'), ('exc', "KeyError('commands')"), ('exception_handler', '<function exception_handler at 0x70f484cf74c0>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: POST '/api/bulk-control/'>,\n 'view': <core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>}"), ('response', 'None')], 'id': 124195361604544, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f47c695e80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>'), ('exc', "KeyError('commands')"), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 124195361611392, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f47c695080>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method BulkControlView.post of <core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>>')], 'id': 124195361607808, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f47c696d00>, 'type': 'user', 'filename': '/app/core/views/mqtt.py', 'function': 'post', 'lineno': 138, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('serializer', "BulkControlSerializer(data={'commands': [{'topic': 'home/tankRoom/motor', 'value': True}, {'topic': 'home/tankRoom/automode', 'value': False}]}):"), ('valid_topics', "['home/tankRoom/motor',\n 'home/tankRoom/tankValve',\n 'home/tankRoom/mainValve',\n 'home/tankRoom/cadoValve',\n 'home/tankRoom/automode']"), ('results', '[]')], 'id': 124195361615104, 'pre_context': ['        ', '        valid_topics = [', "            'home/tankRoom/motor', 'home/tankRoom/tankValve',", "            'home/tankRoom/mainValve', 'home/tankRoom/cadoValve',", "            'home/tankRoom/automode'", '        ]', '        results = []'], 'context_line': "        for command in serializer.validated_data['commands']:", 'post_context': ["            topic = command['topic']", "            value = command['value']", '            if topic not in valid_topics:', "                results.append({'topic': topic, 'status': 'error', 'message': 'Invalid topic'})", '                continue', '            if not isinstance(value, bool):'], 'pre_context_lineno': 131, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/bulk-control/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/bulk-control/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 44570, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_USER_AGENT': 'PostmanRuntime/7.44.1', 'CONTENT_LENGTH': '187', 'HTTP_ACCEPT': '*/*', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br', 'HTTP_AUTHORIZATION': 'Token bfb5bbb902dba6bb0812a807b7c5a49ccdd18153', 'HTTP_CACHE_CONTROL': 'no-cache', 'CONTENT_TYPE': 'application/json', 'HTTP_POSTMAN_TOKEN': '********************', 'HTTP_X_FORWARDED_FOR': '197.196.114.156', 'HTTP_X_FORWARDED_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'azzam1', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://a22b-105-204-149-17.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 11, 57, 37, 628713, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x70f47f7d12f0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x70f47f7d0e10>, 'request_insecure_uri': 'http://a22b-105-204-149-17.ngrok-free.app/api/bulk-control/', 'raising_view_name': 'core.views.mqtt.BulkControlView', 'exception_type': 'KeyError', 'exception_value': "'commands'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f47c696d00>, 'type': 'user', 'filename': '/app/core/views/mqtt.py', 'function': 'post', 'lineno': 138, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('serializer', "BulkControlSerializer(data={'commands': [{'topic': 'home/tankRoom/motor', 'value': True}, {'topic': 'home/tankRoom/automode', 'value': False}]}):"), ('valid_topics', "['home/tankRoom/motor',\n 'home/tankRoom/tankValve',\n 'home/tankRoom/mainValve',\n 'home/tankRoom/cadoValve',\n 'home/tankRoom/automode']"), ('results', '[]')], 'id': 124195361615104, 'pre_context': ['        ', '        valid_topics = [', "            'home/tankRoom/motor', 'home/tankRoom/tankValve',", "            'home/tankRoom/mainValve', 'home/tankRoom/cadoValve',", "            'home/tankRoom/automode'", '        ]', '        results = []'], 'context_line': "        for command in serializer.validated_data['commands']:", 'post_context': ["            topic = command['topic']", "            value = command['value']", '            if topic not in valid_topics:', "                results.append({'topic': topic, 'status': 'error', 'message': 'Invalid topic'})", '                continue', '            if not isinstance(value, bool):'], 'pre_context_lineno': 131, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/core/views/mqtt.py", line 138, in post
    for command in serializer.validated_data['commands']:
                   ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'commands'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f47c6956c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('exc', "KeyError('commands')"), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x70f487f11160>>')], 'id': 124195361609408, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f48411ed40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x70f487f11160>'), ('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x70f484b174c0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x70f485b479b0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x70f47c6b36e0>')], 'id': 124195490098496, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f47c6976c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function View.as_view.<locals>.view at 0x70f484b17420>')], 'id': 124195361617600, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f47f75ee00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>'), ('cls', "<class 'core.views.mqtt.BulkControlView'>"), ('initkwargs', '{}')], 'id': 124195412766208, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f47c697240>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method BulkControlView.post of <core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>>')], 'id': 124195361616448, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f47c6943c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>'), ('exc', "KeyError('commands')"), ('exception_handler', '<function exception_handler at 0x70f484cf74c0>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: POST '/api/bulk-control/'>,\n 'view': <core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>}"), ('response', 'None')], 'id': 124195361604544, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f47c695e80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>'), ('exc', "KeyError('commands')"), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 124195361611392, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f47c695080>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method BulkControlView.post of <core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>>')], 'id': 124195361607808, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f47c696d00>, 'type': 'user', 'filename': '/app/core/views/mqtt.py', 'function': 'post', 'lineno': 138, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('serializer', "BulkControlSerializer(data={'commands': [{'topic': 'home/tankRoom/motor', 'value': True}, {'topic': 'home/tankRoom/automode', 'value': False}]}):"), ('valid_topics', "['home/tankRoom/motor',\n 'home/tankRoom/tankValve',\n 'home/tankRoom/mainValve',\n 'home/tankRoom/cadoValve',\n 'home/tankRoom/automode']"), ('results', '[]')], 'id': 124195361615104, 'pre_context': ['        ', '        valid_topics = [', "            'home/tankRoom/motor', 'home/tankRoom/tankValve',", "            'home/tankRoom/mainValve', 'home/tankRoom/cadoValve',", "            'home/tankRoom/automode'", '        ]', '        results = []'], 'context_line': "        for command in serializer.validated_data['commands']:", 'post_context': ["            topic = command['topic']", "            value = command['value']", '            if topic not in valid_topics:', "                results.append({'topic': topic, 'status': 'error', 'message': 'Invalid topic'})", '                continue', '            if not isinstance(value, bool):'], 'pre_context_lineno': 131, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/bulk-control/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/bulk-control/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 44570, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_USER_AGENT': 'PostmanRuntime/7.44.1', 'CONTENT_LENGTH': '187', 'HTTP_ACCEPT': '*/*', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br', 'HTTP_AUTHORIZATION': 'Token bfb5bbb902dba6bb0812a807b7c5a49ccdd18153', 'HTTP_CACHE_CONTROL': 'no-cache', 'CONTENT_TYPE': 'application/json', 'HTTP_POSTMAN_TOKEN': '********************', 'HTTP_X_FORWARDED_FOR': '197.196.114.156', 'HTTP_X_FORWARDED_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'azzam1', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://a22b-105-204-149-17.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 11, 57, 37, 628713, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x70f47f7d12f0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x70f47f7d0e10>, 'request_insecure_uri': 'http://a22b-105-204-149-17.ngrok-free.app/api/bulk-control/', 'raising_view_name': 'core.views.mqtt.BulkControlView', 'exception_type': 'KeyError', 'exception_value': "'commands'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70f47c696d00>, 'type': 'user', 'filename': '/app/core/views/mqtt.py', 'function': 'post', 'lineno': 138, 'vars': [('self', '<core.views.mqtt.BulkControlView object at 0x70f47c6b3fe0>'), ('request', "<rest_framework.request.Request: POST '/api/bulk-control/'>"), ('serializer', "BulkControlSerializer(data={'commands': [{'topic': 'home/tankRoom/motor', 'value': True}, {'topic': 'home/tankRoom/automode', 'value': False}]}):"), ('valid_topics', "['home/tankRoom/motor',\n 'home/tankRoom/tankValve',\n 'home/tankRoom/mainValve',\n 'home/tankRoom/cadoValve',\n 'home/tankRoom/automode']"), ('results', '[]')], 'id': 124195361615104, 'pre_context': ['        ', '        valid_topics = [', "            'home/tankRoom/motor', 'home/tankRoom/tankValve',", "            'home/tankRoom/mainValve', 'home/tankRoom/cadoValve',", "            'home/tankRoom/automode'", '        ]', '        results = []'], 'context_line': "        for command in serializer.validated_data['commands']:", 'post_context': ["            topic = command['topic']", "            value = command['value']", '            if topic not in valid_topics:', "                results.append({'topic': topic, 'status': 'error', 'message': 'Invalid topic'})", '                continue', '            if not isinstance(value, bool):'], 'pre_context_lineno': 131, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/bulk-control/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/core/views/mqtt.py", line 138, in post
    for command in serializer.validated_data['commands']:
                   ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'commands'
(0.007) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.012) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.011) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
(0.027) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
(0.024) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.004) SELECT "core_waterconsumptionalert"."id", "core_waterconsumptionalert"."user_id", "core_waterconsumptionalert"."is_active", "core_waterconsumptionalert"."period", "core_waterconsumptionalert"."timestamp" FROM "core_waterconsumptionalert" WHERE "core_waterconsumptionalert"."user_id" = 6 ORDER BY "core_waterconsumptionalert"."timestamp" DESC; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_waterconsumptionalert"."id", "core_waterconsumptionalert"."user_id", "core_waterconsumptionalert"."is_active", "core_waterconsumptionalert"."period", "core_waterconsumptionalert"."timestamp" FROM "core_waterconsumptionalert" WHERE ("core_waterconsumptionalert"."period" = 'daily' AND "core_waterconsumptionalert"."user_id" = 6) ORDER BY "core_waterconsumptionalert"."timestamp" DESC LIMIT 1; args=('daily', 6); alias=default
Not Found: /api/alerts/latest/daily/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.022) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.005) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
(0.001) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.000) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
(0.001) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.000) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
(0.005) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'admin'; args=('admin',); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'admin' AND "django_content_type"."model" IN ('logentry')); args=('admin', 'logentry'); alias=default
(0.004) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (1) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(1,); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'admin'; args=('admin',); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'auth'; args=('auth',); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" IN ('permission', 'group')); args=('auth', 'permission', 'group'); alias=default
(0.001) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (2, 3) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(2, 3); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'auth'; args=('auth',); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'contenttypes'; args=('contenttypes',); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'contenttypes' AND "django_content_type"."model" IN ('contenttype')); args=('contenttypes', 'contenttype'); alias=default
(0.000) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (4) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(4,); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'contenttypes'; args=('contenttypes',); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'sessions'; args=('sessions',); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'sessions' AND "django_content_type"."model" IN ('session')); args=('sessions', 'session'); alias=default
(0.000) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (5) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(5,); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'sessions'; args=('sessions',); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'core'; args=('core',); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'core' AND "django_content_type"."model" IN ('waterconsumptionalert', 'waterconsumption', 'waterconsumptionthreshold', 'tankflowmetric', 'leakagedetection', 'customuser')); args=('core', 'waterconsumptionalert', 'waterconsumption', 'waterconsumptionthreshold', 'tankflowmetric', 'leakagedetection', 'customuser'); alias=default
(0.001) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (6, 7, 8, 9, 10, 11) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(6, 7, 8, 9, 10, 11); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'core'; args=('core',); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'authtoken'; args=('authtoken',); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'authtoken' AND "django_content_type"."model" IN ('tokenproxy', 'token')); args=('authtoken', 'tokenproxy', 'token'); alias=default
(0.000) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (12, 13) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(12, 13); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'authtoken'; args=('authtoken',); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'sites'; args=('sites',); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'sites' AND "django_content_type"."model" IN ('site')); args=('sites', 'site'); alias=default
(0.000) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (14) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(14,); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'sites'; args=('sites',); alias=default
(0.003) SELECT 1 AS "a" FROM "django_site" LIMIT 1; args=(1,); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'allauth'; args=('allauth',); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'allauth'; args=('allauth',); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'account'; args=('account',); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'account' AND "django_content_type"."model" IN ('emailaddress', 'emailconfirmation')); args=('account', 'emailaddress', 'emailconfirmation'); alias=default
(0.000) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (16, 15) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(16, 15); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'account'; args=('account',); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'socialaccount'; args=('socialaccount',); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'socialaccount' AND "django_content_type"."model" IN ('socialapp', 'socialtoken', 'socialaccount')); args=('socialaccount', 'socialapp', 'socialtoken', 'socialaccount'); alias=default
(0.000) SELECT "auth_permission"."content_type_id", "auth_permission"."codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (17, 18, 19) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, "auth_permission"."codename" ASC; args=(17, 18, 19); alias=default
(0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'socialaccount'; args=('socialaccount',); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.007) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T12:24:07.303686+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 12, 24, 7, 303686, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.005) SELECT "django_admin_log"."id", "django_admin_log"."action_time", "django_admin_log"."user_id", "django_admin_log"."content_type_id", "django_admin_log"."object_id", "django_admin_log"."object_repr", "django_admin_log"."action_flag", "django_admin_log"."change_message", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at", "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_admin_log" INNER JOIN "core_customuser" ON ("django_admin_log"."user_id" = "core_customuser"."id") LEFT OUTER JOIN "django_content_type" ON ("django_admin_log"."content_type_id" = "django_content_type"."id") WHERE "django_admin_log"."user_id" = 3 ORDER BY "django_admin_log"."action_time" DESC LIMIT 10; args=(3,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 4); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.009) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 30.0, "period" = 'daily' WHERE "core_waterconsumptionthreshold"."id" = 1; args=(4, 30.0, 'daily', 1); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 6) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 6); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 6 LIMIT 21; args=(6,); alias=default
(0.003) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 6, "threshold" = 80.0, "period" = 'daily' WHERE "core_waterconsumptionthreshold"."id" = 9; args=(6, 80.0, 'daily', 9); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 4); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.003) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 30.0, "period" = 'daily' WHERE "core_waterconsumptionthreshold"."id" = 1; args=(4, 30.0, 'daily', 1); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 4); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.003) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 30.0, "period" = 'daily' WHERE "core_waterconsumptionthreshold"."id" = 1; args=(4, 30.0, 'daily', 1); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 4); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4 AND NOT ("core_waterconsumptionthreshold"."id" = 1)) LIMIT 1; args=(1, 'weekly', 4, 1); alias=default
Bad Request: /api/threshold/daily/
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T12:30:26.796657+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 12, 30, 26, 796657, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.008) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionalert"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionalert"; args=(); alias=default
(0.002) SELECT "core_waterconsumptionalert"."id", "core_waterconsumptionalert"."user_id", "core_waterconsumptionalert"."is_active", "core_waterconsumptionalert"."period", "core_waterconsumptionalert"."timestamp", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionalert" INNER JOIN "core_customuser" ON ("core_waterconsumptionalert"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumptionalert"."timestamp" DESC, "core_waterconsumptionalert"."id" DESC; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T12:30:27.363079+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 12, 30, 27, 363079, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 4); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4 AND NOT ("core_waterconsumptionthreshold"."id" = 1)) LIMIT 1; args=(1, 'weekly', 4, 1); alias=default
Bad Request: /api/threshold/daily/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 4); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.000) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4 AND NOT ("core_waterconsumptionthreshold"."id" = 1)) LIMIT 1; args=(1, 'weekly', 4, 1); alias=default
Bad Request: /api/threshold/daily/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.put() missing 1 required positional argument: 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314a7a80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('exc', 'TypeError("ThresholdView.put() missing 1 required positional argument: \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7e2d3e3027e0>>')], 'id': 138732565592704, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314a62c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7e2d3e3027e0>'), ('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7e2d33ff3b00>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7e2d38d4b860>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7e2d314c2240>')], 'id': 138732565586624, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314c7cc0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function View.as_view.<locals>.view at 0x7e2d33ff3a60>')], 'id': 138732565724352, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314cd600>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<core.views.alerts.ThresholdView object at 0x7e2d314c25a0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 138732565747200, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314f2340>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314c25a0>'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ThresholdView.put of <core.views.alerts.ThresholdView object at 0x7e2d314c25a0>>')], 'id': 138732565898048, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314f2ec0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314c25a0>'), ('exc', 'TypeError("ThresholdView.put() missing 1 required positional argument: \'period\'")'), ('exception_handler', '<function exception_handler at 0x7e2d381f7380>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: PUT '/api/threshold/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7e2d314c25a0>}"), ('response', 'None')], 'id': 138732565900992, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314ccc40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314c25a0>'), ('exc', 'TypeError("ThresholdView.put() missing 1 required positional argument: \'period\'")'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 138732565744704, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d3149b940>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314c25a0>'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ThresholdView.put of <core.views.alerts.ThresholdView object at 0x7e2d314c25a0>>')], 'id': 138732565543232, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: PUT '/api/threshold/'>, 'request_meta': {'REQUEST_METHOD': 'PUT', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 34602, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '36', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://a22b-105-204-149-17.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 12, 32, 4, 551753, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7e2d32dcde50>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7e2d32dcf2a0>, 'request_insecure_uri': 'http://a22b-105-204-149-17.ngrok-free.app/api/threshold/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.put() missing 1 required positional argument: 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d3149b940>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314c25a0>'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ThresholdView.put of <core.views.alerts.ThresholdView object at 0x7e2d314c25a0>>')], 'id': 138732565543232, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.put() missing 1 required positional argument: 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314a7a80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('exc', 'TypeError("ThresholdView.put() missing 1 required positional argument: \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7e2d3e3027e0>>')], 'id': 138732565592704, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314a62c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7e2d3e3027e0>'), ('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7e2d33ff3b00>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7e2d38d4b860>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7e2d314c2240>')], 'id': 138732565586624, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314c7cc0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function View.as_view.<locals>.view at 0x7e2d33ff3a60>')], 'id': 138732565724352, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314cd600>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<core.views.alerts.ThresholdView object at 0x7e2d314c25a0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 138732565747200, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314f2340>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314c25a0>'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ThresholdView.put of <core.views.alerts.ThresholdView object at 0x7e2d314c25a0>>')], 'id': 138732565898048, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314f2ec0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314c25a0>'), ('exc', 'TypeError("ThresholdView.put() missing 1 required positional argument: \'period\'")'), ('exception_handler', '<function exception_handler at 0x7e2d381f7380>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: PUT '/api/threshold/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7e2d314c25a0>}"), ('response', 'None')], 'id': 138732565900992, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314ccc40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314c25a0>'), ('exc', 'TypeError("ThresholdView.put() missing 1 required positional argument: \'period\'")'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 138732565744704, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d3149b940>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314c25a0>'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ThresholdView.put of <core.views.alerts.ThresholdView object at 0x7e2d314c25a0>>')], 'id': 138732565543232, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: PUT '/api/threshold/'>, 'request_meta': {'REQUEST_METHOD': 'PUT', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 34602, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '36', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://a22b-105-204-149-17.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 12, 32, 4, 551753, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7e2d32dcde50>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7e2d32dcf2a0>, 'request_insecure_uri': 'http://a22b-105-204-149-17.ngrok-free.app/api/threshold/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.put() missing 1 required positional argument: 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d3149b940>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314c25a0>'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ThresholdView.put of <core.views.alerts.ThresholdView object at 0x7e2d314c25a0>>')], 'id': 138732565543232, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.put() missing 1 required positional argument: 'period'
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.put() missing 1 required positional argument: 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d3147c580>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('exc', 'TypeError("ThresholdView.put() missing 1 required positional argument: \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7e2d3e3027e0>>')], 'id': 138732565415296, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d3147e2c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7e2d3e3027e0>'), ('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7e2d33ff3b00>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7e2d38d4b860>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7e2d3148c1a0>')], 'id': 138732565422784, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d3147f2c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function View.as_view.<locals>.view at 0x7e2d33ff3a60>')], 'id': 138732565426880, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d38c37a80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 138732690963072, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314052c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ThresholdView.put of <core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>>')], 'id': 138732564927168, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d3141dfc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>'), ('exc', 'TypeError("ThresholdView.put() missing 1 required positional argument: \'period\'")'), ('exception_handler', '<function exception_handler at 0x7e2d381f7380>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: PUT '/api/threshold/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>}"), ('response', 'None')], 'id': 138732565028800, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d31447fc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>'), ('exc', 'TypeError("ThresholdView.put() missing 1 required positional argument: \'period\'")'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 138732565200832, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d3141ebc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ThresholdView.put of <core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>>')], 'id': 138732565031872, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: PUT '/api/threshold/'>, 'request_meta': {'REQUEST_METHOD': 'PUT', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 39194, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '36', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://a22b-105-204-149-17.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 12, 32, 23, 31136, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7e2d3365d3c0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7e2d3365f510>, 'request_insecure_uri': 'http://a22b-105-204-149-17.ngrok-free.app/api/threshold/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.put() missing 1 required positional argument: 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d3141ebc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ThresholdView.put of <core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>>')], 'id': 138732565031872, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.put() missing 1 required positional argument: 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d3147c580>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('exc', 'TypeError("ThresholdView.put() missing 1 required positional argument: \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7e2d3e3027e0>>')], 'id': 138732565415296, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d3147e2c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7e2d3e3027e0>'), ('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7e2d33ff3b00>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7e2d38d4b860>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7e2d3148c1a0>')], 'id': 138732565422784, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d3147f2c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function View.as_view.<locals>.view at 0x7e2d33ff3a60>')], 'id': 138732565426880, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d38c37a80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 138732690963072, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314052c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ThresholdView.put of <core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>>')], 'id': 138732564927168, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d3141dfc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>'), ('exc', 'TypeError("ThresholdView.put() missing 1 required positional argument: \'period\'")'), ('exception_handler', '<function exception_handler at 0x7e2d381f7380>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: PUT '/api/threshold/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>}"), ('response', 'None')], 'id': 138732565028800, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d31447fc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>'), ('exc', 'TypeError("ThresholdView.put() missing 1 required positional argument: \'period\'")'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 138732565200832, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d3141ebc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ThresholdView.put of <core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>>')], 'id': 138732565031872, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: PUT '/api/threshold/'>, 'request_meta': {'REQUEST_METHOD': 'PUT', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 39194, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '36', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://a22b-105-204-149-17.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 12, 32, 23, 31136, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7e2d3365d3c0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7e2d3365f510>, 'request_insecure_uri': 'http://a22b-105-204-149-17.ngrok-free.app/api/threshold/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.put() missing 1 required positional argument: 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d3141ebc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ThresholdView.put of <core.views.alerts.ThresholdView object at 0x7e2d3148c3e0>>')], 'id': 138732565031872, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.put() missing 1 required positional argument: 'period'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.put() missing 1 required positional argument: 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314a5f00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('exc', 'TypeError("ThresholdView.put() missing 1 required positional argument: \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7e2d3e3027e0>>')], 'id': 138732565585664, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d31487ac0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7e2d3e3027e0>'), ('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7e2d33ff3b00>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7e2d38d4b860>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7e2d314e10d0>')], 'id': 138732565461696, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d31485500>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function View.as_view.<locals>.view at 0x7e2d33ff3a60>')], 'id': 138732565452032, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d31485440>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<core.views.alerts.ThresholdView object at 0x7e2d314e1250>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 138732565451840, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d31484300>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314e1250>'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ThresholdView.put of <core.views.alerts.ThresholdView object at 0x7e2d314e1250>>')], 'id': 138732565447424, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d31487500>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314e1250>'), ('exc', 'TypeError("ThresholdView.put() missing 1 required positional argument: \'period\'")'), ('exception_handler', '<function exception_handler at 0x7e2d381f7380>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: PUT '/api/threshold/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7e2d314e1250>}"), ('response', 'None')], 'id': 138732565460224, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314859c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314e1250>'), ('exc', 'TypeError("ThresholdView.put() missing 1 required positional argument: \'period\'")'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 138732565453248, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d31487040>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314e1250>'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ThresholdView.put of <core.views.alerts.ThresholdView object at 0x7e2d314e1250>>')], 'id': 138732565459008, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: PUT '/api/threshold/'>, 'request_meta': {'REQUEST_METHOD': 'PUT', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 42334, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '36', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://a22b-105-204-149-17.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 12, 33, 25, 491650, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7e2d32dcd3c0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7e2d32dcf9f0>, 'request_insecure_uri': 'http://a22b-105-204-149-17.ngrok-free.app/api/threshold/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.put() missing 1 required positional argument: 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d31487040>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314e1250>'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ThresholdView.put of <core.views.alerts.ThresholdView object at 0x7e2d314e1250>>')], 'id': 138732565459008, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.put() missing 1 required positional argument: 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314a5f00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('exc', 'TypeError("ThresholdView.put() missing 1 required positional argument: \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7e2d3e3027e0>>')], 'id': 138732565585664, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d31487ac0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7e2d3e3027e0>'), ('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7e2d33ff3b00>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7e2d38d4b860>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7e2d314e10d0>')], 'id': 138732565461696, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d31485500>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('view_func', '<function View.as_view.<locals>.view at 0x7e2d33ff3a60>')], 'id': 138732565452032, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d31485440>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('self', '<core.views.alerts.ThresholdView object at 0x7e2d314e1250>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 138732565451840, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d31484300>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314e1250>'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ThresholdView.put of <core.views.alerts.ThresholdView object at 0x7e2d314e1250>>')], 'id': 138732565447424, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d31487500>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314e1250>'), ('exc', 'TypeError("ThresholdView.put() missing 1 required positional argument: \'period\'")'), ('exception_handler', '<function exception_handler at 0x7e2d381f7380>'), ('context', "{'args': (),\n 'kwargs': {},\n 'request': <rest_framework.request.Request: PUT '/api/threshold/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7e2d314e1250>}"), ('response', 'None')], 'id': 138732565460224, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d314859c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314e1250>'), ('exc', 'TypeError("ThresholdView.put() missing 1 required positional argument: \'period\'")'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 138732565453248, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d31487040>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314e1250>'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ThresholdView.put of <core.views.alerts.ThresholdView object at 0x7e2d314e1250>>')], 'id': 138732565459008, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: PUT '/api/threshold/'>, 'request_meta': {'REQUEST_METHOD': 'PUT', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 42334, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '36', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': 'a22b-105-204-149-17.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://a22b-105-204-149-17.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 12, 33, 25, 491650, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7e2d32dcd3c0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7e2d32dcf9f0>, 'request_insecure_uri': 'http://a22b-105-204-149-17.ngrok-free.app/api/threshold/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.put() missing 1 required positional argument: 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7e2d31487040>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7e2d314e1250>'), ('request', "<rest_framework.request.Request: PUT '/api/threshold/'>"), ('args', '()'), ('kwargs', '{}'), ('handler', '<bound method ThresholdView.put of <core.views.alerts.ThresholdView object at 0x7e2d314e1250>>')], 'id': 138732565459008, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.put() missing 1 required positional argument: 'period'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 4); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.004) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 30.0, "period" = 'daily' WHERE "core_waterconsumptionthreshold"."id" = 1; args=(4, 30.0, 'daily', 1); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 4); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.001) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 40.0, "period" = 'daily' WHERE "core_waterconsumptionthreshold"."id" = 1; args=(4, 40.0, 'daily', 1); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T12:37:19.669041+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 12, 37, 19, 669041, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionthreshold" INNER JOIN "core_customuser" ON ("core_waterconsumptionthreshold"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumptionthreshold"."id" DESC; args=(); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T12:37:20.660631+00:00'::timestamptz AND "django_session"."session_key" = '58rfpfdqqdvol69gx792e2m2ln5rs3fh') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 12, 37, 20, 660631, tzinfo=datetime.timezone.utc), '58rfpfdqqdvol69gx792e2m2ln5rs3fh'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 4); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.005) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 40.0, "period" = 'daily' WHERE "core_waterconsumptionthreshold"."id" = 1; args=(4, 40.0, 'daily', 1); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 4); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 80.0, "period" = 'daily' WHERE "core_waterconsumptionthreshold"."id" = 1; args=(4, 80.0, 'daily', 1); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 4); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.000) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4 AND NOT ("core_waterconsumptionthreshold"."id" = 1)) LIMIT 1; args=(1, 'weekly', 4, 1); alias=default
Bad Request: /api/threshold/daily/
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 4); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.000) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4 AND NOT ("core_waterconsumptionthreshold"."id" = 1)) LIMIT 1; args=(1, 'weekly', 4, 1); alias=default
Bad Request: /api/threshold/daily/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 4); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 80.0, "period" = 'weekly' WHERE "core_waterconsumptionthreshold"."id" = 2; args=(4, 80.0, 'weekly', 2); alias=default
Unauthorized: /api/logout/
(0.015) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."username" = 'Amr' LIMIT 1; args=(1, 'Amr'); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."email" = 'amr@example.com' LIMIT 1; args=(1, 'amr@example.com'); alias=default
(0.002) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."phone_number" = '01234098765' LIMIT 1; args=(1, '01234098765'); alias=default
Bad Request: /api/register/
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
(0.022) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.007) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.016) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amr@hexample.com' LIMIT 21; args=('amr@hexample.com',); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'amr@hexample.com' LIMIT 21; args=('amr@hexample.com',); alias=default
Bad Request: /api/login/
(0.009) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.004) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
Bad Request: /api/login/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
Bad Request: /api/login/
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
Bad Request: /api/login/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
Bad Request: /api/login/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
Bad Request: /api/login/
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
Bad Request: /api/control-device/
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
Bad Request: /api/control-device/
(0.008) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
Bad Request: /api/login/
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
Bad Request: /api/login/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
Bad Request: /api/login/
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
Bad Request: /api/login/
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
Bad Request: /api/login/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
Bad Request: /api/bulk-control/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'amwr@hexample.com' LIMIT 21; args=('amwr@hexample.com',); alias=default
Bad Request: /api/login/
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'aeffffewr@sdfjy.com' LIMIT 21; args=('aeffffewr@sdfjy.com',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'aeffffewr@sdfjy.com' LIMIT 21; args=('aeffffewr@sdfjy.com',); alias=default
Bad Request: /api/login/
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'aeffffewr@sdfjy.com' LIMIT 21; args=('aeffffewr@sdfjy.com',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'aeffffewr@sdfjy.com' LIMIT 21; args=('aeffffewr@sdfjy.com',); alias=default
Bad Request: /api/login/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'aeffffewr@sdfjy.com' LIMIT 21; args=('aeffffewr@sdfjy.com',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'aeffffewr@sdfjy.com' LIMIT 21; args=('aeffffewr@sdfjy.com',); alias=default
Bad Request: /api/login/
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'aeffffewr@sdfjy.com' LIMIT 21; args=('aeffffewr@sdfjy.com',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'aeffffewr@sdfjy.com' LIMIT 21; args=('aeffffewr@sdfjy.com',); alias=default
Bad Request: /api/login/
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'aeffffewr@sdfjy.com' LIMIT 21; args=('aeffffewr@sdfjy.com',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."phone_number" = 'aeffffewr@sdfjy.com' LIMIT 21; args=('aeffffewr@sdfjy.com',); alias=default
Bad Request: /api/login/
(0.018) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 1; args=(1, 'azzam1'); alias=default
Bad Request: /api/register/
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
(0.013) SELECT "django_site"."id", "django_site"."domain", "django_site"."name" FROM "django_site" WHERE "django_site"."id" = 1 LIMIT 21; args=(1,); alias=default
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /favicon.ico
Forbidden (Origin checking failed - https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app does not match any trusted origins.): /admin/login/
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
(0.014) SELECT "django_site"."id", "django_site"."domain", "django_site"."name" FROM "django_site" WHERE "django_site"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.012) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam' LIMIT 21; args=('azzam',); alias=default
(0.002) SELECT 1 AS "a" FROM "django_session" WHERE "django_session"."session_key" = 'dcizhnrbtkm0gxhor0g090z61j5m22fg' LIMIT 1; args=(1, 'dcizhnrbtkm0gxhor0g090z61j5m22fg'); alias=default
(0.000) BEGIN; args=None; alias=default
(0.011) INSERT INTO "django_session" ("session_key", "session_data", "expire_date") VALUES ('dcizhnrbtkm0gxhor0g090z61j5m22fg', 'e30:1uWEIq:wZfGbMtN7xov4IJDT_E7Ig8C26iCusP4rLjjW_KMRBU', '2025-07-14T13:12:08.895230+00:00'::timestamptz); args=('dcizhnrbtkm0gxhor0g090z61j5m22fg', 'e30:1uWEIq:wZfGbMtN7xov4IJDT_E7Ig8C26iCusP4rLjjW_KMRBU', datetime.datetime(2025, 7, 14, 13, 12, 8, 895230, tzinfo=datetime.timezone.utc)); alias=default
(0.003) COMMIT; args=None; alias=default
(0.007) UPDATE "core_customuser" SET "last_login" = '2025-06-30T13:12:08.910957+00:00'::timestamptz WHERE "core_customuser"."id" = 3; args=(datetime.datetime(2025, 6, 30, 13, 12, 8, 910957, tzinfo=datetime.timezone.utc), 3); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) UPDATE "django_session" SET "session_data" = '.eJxVjDEOAiEQRe9CbQgMCIylvWcgwIyyaiBZdivj3XWTLbT9773_EjGtS43r4DlOJE7CiMPvllN5cNsA3VO7dVl6W-Ypy02ROx3y0omf5939O6hp1G-dmYrLYAit13gFYx2Rcs4wJEzsGQoeA2ZdXPCIoDhoC9oFCkWRzuL9AeZaN4c:1uWEIq:mHSmMTr7ixtAKcQa-RLXSDIzFpyHyFnjOR0F69T8XH4', "expire_date" = '2025-07-14T13:12:08.921809+00:00'::timestamptz WHERE "django_session"."session_key" = 'dcizhnrbtkm0gxhor0g090z61j5m22fg'; args=('.eJxVjDEOAiEQRe9CbQgMCIylvWcgwIyyaiBZdivj3XWTLbT9773_EjGtS43r4DlOJE7CiMPvllN5cNsA3VO7dVl6W-Ypy02ROx3y0omf5939O6hp1G-dmYrLYAit13gFYx2Rcs4wJEzsGQoeA2ZdXPCIoDhoC9oFCkWRzuL9AeZaN4c:1uWEIq:mHSmMTr7ixtAKcQa-RLXSDIzFpyHyFnjOR0F69T8XH4', datetime.datetime(2025, 7, 14, 13, 12, 8, 921809, tzinfo=datetime.timezone.utc), 'dcizhnrbtkm0gxhor0g090z61j5m22fg'); alias=default
(0.002) COMMIT; args=None; alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T13:12:09.249562+00:00'::timestamptz AND "django_session"."session_key" = 'dcizhnrbtkm0gxhor0g090z61j5m22fg') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 13, 12, 9, 249562, tzinfo=datetime.timezone.utc), 'dcizhnrbtkm0gxhor0g090z61j5m22fg'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.010) SELECT "django_admin_log"."id", "django_admin_log"."action_time", "django_admin_log"."user_id", "django_admin_log"."content_type_id", "django_admin_log"."object_id", "django_admin_log"."object_repr", "django_admin_log"."action_flag", "django_admin_log"."change_message", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at", "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_admin_log" INNER JOIN "core_customuser" ON ("django_admin_log"."user_id" = "core_customuser"."id") LEFT OUTER JOIN "django_content_type" ON ("django_admin_log"."content_type_id" = "django_content_type"."id") WHERE "django_admin_log"."user_id" = 3 ORDER BY "django_admin_log"."action_time" DESC LIMIT 10; args=(3,); alias=default
(0.011) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.010) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 6 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE ("core_waterconsumption"."period" = 'daily' AND "core_waterconsumption"."user_id" = 6) ORDER BY "core_waterconsumption"."timestamp" DESC LIMIT 1; args=('daily', 6); alias=default
Not Found: /api/water-consumption/latest/daily/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE ("core_waterconsumption"."period" = 'weekly' AND "core_waterconsumption"."user_id" = 6) ORDER BY "core_waterconsumption"."timestamp" DESC LIMIT 1; args=('weekly', 6); alias=default
Not Found: /api/water-consumption/latest/weekly/
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE ("core_waterconsumption"."period" = 'minute' AND "core_waterconsumption"."user_id" = 6) ORDER BY "core_waterconsumption"."timestamp" DESC LIMIT 1; args=('minute', 6); alias=default
Not Found: /api/water-consumption/latest/minute/
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE ("core_waterconsumption"."period" = 'monthly' AND "core_waterconsumption"."user_id" = 6) ORDER BY "core_waterconsumption"."timestamp" DESC LIMIT 1; args=('monthly', 6); alias=default
Not Found: /api/water-consumption/latest/monthly/
(0.003) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."username" = 'amr' LIMIT 1; args=(1, 'amr'); alias=default
(0.000) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."email" = 'amrahmed@lkasj.com' LIMIT 1; args=(1, 'amrahmed@lkasj.com'); alias=default
(0.002) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."phone_number" = '01998877661' LIMIT 1; args=(1, '01998877661'); alias=default
(0.011) INSERT INTO "core_customuser" ("password", "last_login", "is_superuser", "username", "first_name", "last_name", "email", "is_staff", "is_active", "date_joined", "role", "full_name", "home_address", "phone_number", "created_at") VALUES ('pbkdf2_sha256$870000$a7t909NejINAw30DV73K4w$LbaAaKUHCt91rHvlncC51JoHNSIFZMfp2O+K7lyVZEo=', NULL, false, 'amr', '', '', 'amrahmed@lkasj.com', false, true, '2025-06-30T13:14:35.083012+00:00'::timestamptz, 'homeowner', 'amr ahamed', '123 Street', '01998877661', '2025-06-30T13:14:35.271646+00:00'::timestamptz) RETURNING "core_customuser"."id"; args=('pbkdf2_sha256$870000$a7t909NejINAw30DV73K4w$LbaAaKUHCt91rHvlncC51JoHNSIFZMfp2O+K7lyVZEo=', None, False, 'amr', '', '', 'amrahmed@lkasj.com', False, True, datetime.datetime(2025, 6, 30, 13, 14, 35, 83012, tzinfo=datetime.timezone.utc), 'homeowner', 'amr ahamed', '123 Street', '01998877661', datetime.datetime(2025, 6, 30, 13, 14, 35, 271646, tzinfo=datetime.timezone.utc)); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 10 LIMIT 21; args=(10,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) INSERT INTO "authtoken_token" ("key", "user_id", "created") VALUES ('cdc624173b92169b2b1ebc91124be6b7c3d2359f', 10, '2025-06-30T13:14:35.286981+00:00'::timestamptz); args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f', 10, datetime.datetime(2025, 6, 30, 13, 14, 35, 286981, tzinfo=datetime.timezone.utc)); alias=default
(0.005) COMMIT; args=None; alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.009) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amr' LIMIT 21; args=('amr',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 10 LIMIT 21; args=(10,); alias=default
(0.006) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.004) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 10 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(10,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.005) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 10) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 10); alias=default
Not Found: /api/threshold/weekly/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amr' LIMIT 21; args=('amr',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 10 LIMIT 21; args=(10,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amr' LIMIT 21; args=('amr',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 10 LIMIT 21; args=(10,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.003) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 10 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(10,); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 10 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(10,); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 10 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(10,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 10 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(10,); alias=default
(0.008) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 10 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(10,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 10 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(10,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 10 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(10,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 10 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(10,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 10 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(10,); alias=default
(0.006) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 10 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(10,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.005) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE ("core_leakagedetection"."detection_type" = 'leak_alarm' AND "core_leakagedetection"."user_id" = 6) ORDER BY "core_leakagedetection"."timestamp" DESC LIMIT 1; args=('leak_alarm', 6); alias=default
Not Found: /api/leakage-detection/latest/leak_alarm/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 10 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(10,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 10 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(10,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 10 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(10,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 10 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(10,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 10 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(10,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 10 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(10,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 10 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(10,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 10 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(10,); alias=default
(0.006) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 10 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(10,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 10 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(10,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amr' LIMIT 21; args=('amr',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 10 LIMIT 21; args=(10,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 10 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(10,); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 5 LIMIT 21; args=(5,); alias=default
(0.002) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 5) LIMIT 1; args=(1, 'daily', 5); alias=default
(0.002) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 6) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 6); alias=default
Bad Request: /api/threshold/
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 5 LIMIT 21; args=(5,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 5) LIMIT 1; args=(1, 'daily', 5); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 6) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 6); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 5 LIMIT 21; args=(5,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 5) LIMIT 1; args=(1, 'daily', 5); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 6) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 6); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 5 LIMIT 21; args=(5,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 5) LIMIT 1; args=(1, 'daily', 5); alias=default
(0.000) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 6) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 6); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 5 LIMIT 21; args=(5,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 5) LIMIT 1; args=(1, 'weekly', 5); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 6) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 6); alias=default
Bad Request: /api/threshold/
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 5 LIMIT 21; args=(5,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 5) LIMIT 1; args=(1, 'weekly', 5); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 6) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 6); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 5 LIMIT 21; args=(5,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'monthly' AND "core_waterconsumptionthreshold"."user_id" = 5) LIMIT 1; args=(1, 'monthly', 5); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'monthly' AND "core_waterconsumptionthreshold"."user_id" = 6) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('monthly', 6); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 6) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 6); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 6 LIMIT 21; args=(6,); alias=default
(0.010) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 6, "threshold" = 80.0, "period" = 'daily' WHERE "core_waterconsumptionthreshold"."id" = 9; args=(6, 80.0, 'daily', 9); alias=default
(0.015) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amr' LIMIT 21; args=('amr',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 10 LIMIT 21; args=(10,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.016) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T14:07:41.652303+00:00'::timestamptz AND "django_session"."session_key" = 'dcizhnrbtkm0gxhor0g090z61j5m22fg') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 14, 7, 41, 652303, tzinfo=datetime.timezone.utc), 'dcizhnrbtkm0gxhor0g090z61j5m22fg'); alias=default
(0.005) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.018) SELECT COUNT(*) AS "__count" FROM "core_leakagedetection"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_leakagedetection"; args=(); alias=default
(0.007) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_leakagedetection" INNER JOIN "core_customuser" ON ("core_leakagedetection"."user_id" = "core_customuser"."id") ORDER BY "core_leakagedetection"."timestamp" DESC, "core_leakagedetection"."id" DESC; args=(); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T14:07:45.280653+00:00'::timestamptz AND "django_session"."session_key" = 'dcizhnrbtkm0gxhor0g090z61j5m22fg') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 14, 7, 45, 280653, tzinfo=datetime.timezone.utc), 'dcizhnrbtkm0gxhor0g090z61j5m22fg'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T14:07:54.129399+00:00'::timestamptz AND "django_session"."session_key" = 'dcizhnrbtkm0gxhor0g090z61j5m22fg') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 14, 7, 54, 129399, tzinfo=datetime.timezone.utc), 'dcizhnrbtkm0gxhor0g090z61j5m22fg'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.006) SELECT "django_admin_log"."id", "django_admin_log"."action_time", "django_admin_log"."user_id", "django_admin_log"."content_type_id", "django_admin_log"."object_id", "django_admin_log"."object_repr", "django_admin_log"."action_flag", "django_admin_log"."change_message", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at", "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_admin_log" INNER JOIN "core_customuser" ON ("django_admin_log"."user_id" = "core_customuser"."id") LEFT OUTER JOIN "django_content_type" ON ("django_admin_log"."content_type_id" = "django_content_type"."id") WHERE "django_admin_log"."user_id" = 3 ORDER BY "django_admin_log"."action_time" DESC LIMIT 10; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T14:09:13.439395+00:00'::timestamptz AND "django_session"."session_key" = 'dcizhnrbtkm0gxhor0g090z61j5m22fg') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 14, 9, 13, 439395, tzinfo=datetime.timezone.utc), 'dcizhnrbtkm0gxhor0g090z61j5m22fg'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.004) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC; args=(); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T14:09:15.742698+00:00'::timestamptz AND "django_session"."session_key" = 'dcizhnrbtkm0gxhor0g090z61j5m22fg') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 14, 9, 15, 742698, tzinfo=datetime.timezone.utc), 'dcizhnrbtkm0gxhor0g090z61j5m22fg'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T14:09:30.829874+00:00'::timestamptz AND "django_session"."session_key" = 'dcizhnrbtkm0gxhor0g090z61j5m22fg') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 14, 9, 30, 829874, tzinfo=datetime.timezone.utc), 'dcizhnrbtkm0gxhor0g090z61j5m22fg'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.003) SELECT COUNT(*) AS "__count" FROM "core_tankflowmetric"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_tankflowmetric"; args=(); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_tankflowmetric" INNER JOIN "core_customuser" ON ("core_tankflowmetric"."user_id" = "core_customuser"."id") ORDER BY "core_tankflowmetric"."timestamp" DESC, "core_tankflowmetric"."id" DESC; args=(); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T14:09:33.551848+00:00'::timestamptz AND "django_session"."session_key" = 'dcizhnrbtkm0gxhor0g090z61j5m22fg') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 14, 9, 33, 551848, tzinfo=datetime.timezone.utc), 'dcizhnrbtkm0gxhor0g090z61j5m22fg'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T14:09:38.198805+00:00'::timestamptz AND "django_session"."session_key" = 'dcizhnrbtkm0gxhor0g090z61j5m22fg') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 14, 9, 38, 198805, tzinfo=datetime.timezone.utc), 'dcizhnrbtkm0gxhor0g090z61j5m22fg'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC; args=(); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T14:09:48.773384+00:00'::timestamptz AND "django_session"."session_key" = 'dcizhnrbtkm0gxhor0g090z61j5m22fg') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 14, 9, 48, 773384, tzinfo=datetime.timezone.utc), 'dcizhnrbtkm0gxhor0g090z61j5m22fg'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.002) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionthreshold" INNER JOIN "core_customuser" ON ("core_waterconsumptionthreshold"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumptionthreshold"."id" DESC; args=(); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T14:09:51.356117+00:00'::timestamptz AND "django_session"."session_key" = 'dcizhnrbtkm0gxhor0g090z61j5m22fg') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 14, 9, 51, 356117, tzinfo=datetime.timezone.utc), 'dcizhnrbtkm0gxhor0g090z61j5m22fg'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amr' LIMIT 21; args=('amr',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 10 LIMIT 21; args=(10,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 10 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(10,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafca19b80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127453097991040, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc92ed00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eaeec93500>')], 'id': 127453097028864, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89e600>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127453096437248, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeecf71c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eaeec929f0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127452866113984, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89e400>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeec929f0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeec929f0>>')], 'id': 127453096436736, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec2c500>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeec929f0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eaeec929f0>}"), ('response', 'None')], 'id': 127452865283328, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec2d580>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeec929f0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127452865287552, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeecf4100>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeec929f0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeec929f0>>')], 'id': 127452866101504, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 40430, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '48', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token cdc624173b92169b2b1ebc91124be6b7c3d2359f', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'amr', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 12, 52, 847023, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eafc8aaf60>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eaeec57850>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeecf4100>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeec929f0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeec929f0>>')], 'id': 127452866101504, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafca19b80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127453097991040, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc92ed00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eaeec93500>')], 'id': 127453097028864, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89e600>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127453096437248, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeecf71c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eaeec929f0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127452866113984, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89e400>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeec929f0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeec929f0>>')], 'id': 127453096436736, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec2c500>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeec929f0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eaeec929f0>}"), ('response', 'None')], 'id': 127452865283328, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec2d580>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeec929f0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127452865287552, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeecf4100>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeec929f0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeec929f0>>')], 'id': 127452866101504, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 40430, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '48', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token cdc624173b92169b2b1ebc91124be6b7c3d2359f', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'amr', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 12, 52, 847023, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eafc8aaf60>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eaeec57850>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeecf4100>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeec929f0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeec929f0>>')], 'id': 127452866101504, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/weekly/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.002) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 10) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 10); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 10) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 10); alias=default
Not Found: /api/threshold/weekly/
Not Found: /api/threshold/weekly/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec74440>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127452865578048, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec75a80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eaeecde630>')], 'id': 127452865583744, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89d100>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127453096431872, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89ca00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127453096430080, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89ff80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>>')], 'id': 127453096443776, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89efc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>}"), ('response', 'None')], 'id': 127453096439744, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89f080>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127453096439936, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89c400>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>>')], 'id': 127453096428544, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 52382, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '48', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token cdc624173b92169b2b1ebc91124be6b7c3d2359f', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'amr', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 13, 32, 10711, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eaeec541e0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eaeec55b10>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89c400>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>>')], 'id': 127453096428544, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec74440>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127452865578048, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec75a80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eaeecde630>')], 'id': 127452865583744, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89d100>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127453096431872, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89ca00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127453096430080, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89ff80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>>')], 'id': 127453096443776, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89efc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>}"), ('response', 'None')], 'id': 127453096439744, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89f080>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127453096439936, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89c400>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>>')], 'id': 127453096428544, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 52382, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '48', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token cdc624173b92169b2b1ebc91124be6b7c3d2359f', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'amr', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 13, 32, 10711, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eaeec541e0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eaeec55b10>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89c400>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeecdf2c0>>')], 'id': 127453096428544, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/weekly/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.017) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'amr' LIMIT 21; args=('amr',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 10 LIMIT 21; args=(10,); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 10 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(10,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc872780>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127453096257408, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc873e00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eaec2fe180>')], 'id': 127453096263168, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc875c40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127453096270912, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafe9c7a80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127453131209344, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec5fdc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>>')], 'id': 127452865494464, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec5ca80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>}"), ('response', 'None')], 'id': 127452865481344, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec48680>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127452865398400, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec49080>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>>')], 'id': 127452865400960, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 39002, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '48', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token cdc624173b92169b2b1ebc91124be6b7c3d2359f', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'amr', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 16, 59, 961914, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eafc8a86c0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eafc8a8ba0>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec49080>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>>')], 'id': 127452865400960, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc872780>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127453096257408, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc873e00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eaec2fe180>')], 'id': 127453096263168, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc875c40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127453096270912, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafe9c7a80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127453131209344, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec5fdc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>>')], 'id': 127452865494464, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec5ca80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>}"), ('response', 'None')], 'id': 127452865481344, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec48680>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127452865398400, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec49080>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>>')], 'id': 127452865400960, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 39002, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '48', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token cdc624173b92169b2b1ebc91124be6b7c3d2359f', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'amr', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 16, 59, 961914, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eafc8a86c0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eafc8a8ba0>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec49080>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaec2fe3c0>>')], 'id': 127452865400960, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/weekly/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec1a2c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127452865209024, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec18780>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eaeef9ba10>')], 'id': 127452865202048, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89d540>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127453096432960, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec6a2c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99df0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127452865536704, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec29b80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99df0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeef99df0>>')], 'id': 127452865272704, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec6bb80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99df0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eaeef99df0>}"), ('response', 'None')], 'id': 127452865543040, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec6b140>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99df0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127452865540416, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc855340>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99df0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeef99df0>>')], 'id': 127453096137536, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 49916, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '48', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token cdc624173b92169b2b1ebc91124be6b7c3d2359f', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'amr', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 17, 40, 153636, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eafc8aa9b0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eafc837e00>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc855340>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99df0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeef99df0>>')], 'id': 127453096137536, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec1a2c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127452865209024, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec18780>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eaeef9ba10>')], 'id': 127452865202048, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89d540>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127453096432960, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec6a2c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99df0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127452865536704, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec29b80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99df0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeef99df0>>')], 'id': 127452865272704, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec6bb80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99df0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eaeef99df0>}"), ('response', 'None')], 'id': 127452865543040, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec6b140>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99df0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127452865540416, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc855340>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99df0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeef99df0>>')], 'id': 127453096137536, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 49916, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '48', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token cdc624173b92169b2b1ebc91124be6b7c3d2359f', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'amr', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 17, 40, 153636, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eafc8aa9b0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eafc837e00>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc855340>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99df0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeef99df0>>')], 'id': 127453096137536, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/weekly/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.007) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.002) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 10) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 10); alias=default
Not Found: /api/threshold/weekly/
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 10) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 10); alias=default
Not Found: /api/threshold/weekly/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 6 LIMIT 21; args=(6,); alias=default
(0.002) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'monthly' AND "core_waterconsumptionthreshold"."user_id" = 6) LIMIT 1; args=(1, 'monthly', 6); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec5dc00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127452865485824, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec9d140>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eaeef93f20>')], 'id': 127452865745216, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc892a40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127453096389184, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec75080>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eafc85a840>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127452865581184, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec4aa40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eafc85a840>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eafc85a840>>')], 'id': 127452865407552, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec22d80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eafc85a840>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eafc85a840>}"), ('response', 'None')], 'id': 127452865244544, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec9c3c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eafc85a840>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127452865741760, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec9fc80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eafc85a840>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eafc85a840>>')], 'id': 127452865756288, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 52740, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token cdc624173b92169b2b1ebc91124be6b7c3d2359f', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'amr', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 20, 46, 385668, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eaeec55700>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eaeec55be0>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec9fc80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eafc85a840>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eafc85a840>>')], 'id': 127452865756288, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec5dc00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127452865485824, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec9d140>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eaeef93f20>')], 'id': 127452865745216, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc892a40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127453096389184, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec75080>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eafc85a840>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127452865581184, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec4aa40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eafc85a840>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eafc85a840>>')], 'id': 127452865407552, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec22d80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eafc85a840>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eafc85a840>}"), ('response', 'None')], 'id': 127452865244544, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec9c3c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eafc85a840>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127452865741760, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec9fc80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eafc85a840>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eafc85a840>>')], 'id': 127452865756288, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 52740, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token cdc624173b92169b2b1ebc91124be6b7c3d2359f', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'amr', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 20, 46, 385668, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eaeec55700>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eaeec55be0>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec9fc80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eafc85a840>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eafc85a840>>')], 'id': 127452865756288, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/weekly/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeecc8c80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127452865924224, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefc1400>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eaeecadaf0>')], 'id': 127452869039104, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeeccacc0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127452865932480, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefc0300>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eaeecae9f0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127452869034752, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefc5540>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecae9f0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeecae9f0>>')], 'id': 127452869055808, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefb2b00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecae9f0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eaeecae9f0>}"), ('response', 'None')], 'id': 127452868979456, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefb3f80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecae9f0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127452868984704, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefb1940>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecae9f0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeecae9f0>>')], 'id': 127452868974912, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 33788, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token cdc624173b92169b2b1ebc91124be6b7c3d2359f', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'amr', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 20, 52, 97009, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eafc8ab9f0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eafc8a9970>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefb1940>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecae9f0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeecae9f0>>')], 'id': 127452868974912, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeecc8c80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127452865924224, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefc1400>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eaeecadaf0>')], 'id': 127452869039104, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeeccacc0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127452865932480, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefc0300>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eaeecae9f0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127452869034752, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefc5540>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecae9f0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeecae9f0>>')], 'id': 127452869055808, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefb2b00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecae9f0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eaeecae9f0>}"), ('response', 'None')], 'id': 127452868979456, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefb3f80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecae9f0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127452868984704, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefb1940>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecae9f0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeecae9f0>>')], 'id': 127452868974912, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 33788, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token cdc624173b92169b2b1ebc91124be6b7c3d2359f', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'amr', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 20, 52, 97009, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eafc8ab9f0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eafc8a9970>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefb1940>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecae9f0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeecae9f0>>')], 'id': 127452868974912, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/weekly/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'cdc624173b92169b2b1ebc91124be6b7c3d2359f' LIMIT 21; args=('cdc624173b92169b2b1ebc91124be6b7c3d2359f',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.008) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.007) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.009) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 4); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.020) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 50.0, "period" = 'weekly' WHERE "core_waterconsumptionthreshold"."id" = 2; args=(4, 50.0, 'weekly', 2); alias=default
(0.012) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec6ae80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127452865539712, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec69f40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eaeef982c0>')], 'id': 127452865535808, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec6b6c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127452865541824, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc891500>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99a00>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127453096383744, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec212c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99a00>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeef99a00>>')], 'id': 127452865237696, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec227c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99a00>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eaeef99a00>}"), ('response', 'None')], 'id': 127452865243072, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefb2280>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99a00>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127452868977280, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefb3840>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99a00>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeef99a00>>')], 'id': 127452868982848, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 33272, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '48', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 22, 29, 612958, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eafc836190>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eaeeced3c0>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefb3840>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99a00>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeef99a00>>')], 'id': 127452868982848, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec6ae80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127452865539712, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec69f40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eaeef982c0>')], 'id': 127452865535808, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec6b6c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127452865541824, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc891500>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99a00>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127453096383744, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec212c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99a00>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeef99a00>>')], 'id': 127452865237696, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec227c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99a00>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eaeef99a00>}"), ('response', 'None')], 'id': 127452865243072, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefb2280>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99a00>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127452868977280, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefb3840>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99a00>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeef99a00>>')], 'id': 127452868982848, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 33272, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '48', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 22, 29, 612958, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eafc836190>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eaeeced3c0>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefb3840>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeef99a00>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeef99a00>>')], 'id': 127452868982848, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/weekly/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89fd40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127453096443200, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89c800>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eafc87e0f0>')], 'id': 127453096429568, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeecaa740>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127452865800000, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec8c8c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eaeefe4770>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127452865677504, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeecaac40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefe4770>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeefe4770>>')], 'id': 127452865801280, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec654c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefe4770>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eaeefe4770>}"), ('response', 'None')], 'id': 127452865516736, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc833c40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefe4770>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127453096000576, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc833f00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefe4770>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeefe4770>>')], 'id': 127453096001280, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 45380, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '48', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 23, 15, 375905, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eafc835f20>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eafc8379f0>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc833f00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefe4770>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeefe4770>>')], 'id': 127453096001280, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89fd40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127453096443200, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc89c800>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eafc87e0f0>')], 'id': 127453096429568, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeecaa740>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127452865800000, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec8c8c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eaeefe4770>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127452865677504, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeecaac40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefe4770>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeefe4770>>')], 'id': 127452865801280, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec654c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefe4770>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eaeefe4770>}"), ('response', 'None')], 'id': 127452865516736, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc833c40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefe4770>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127453096000576, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc833f00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefe4770>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeefe4770>>')], 'id': 127453096001280, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 45380, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '48', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 23, 15, 375905, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eafc835f20>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eafc8379f0>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc833f00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefe4770>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeefe4770>>')], 'id': 127453096001280, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/weekly/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 5 LIMIT 21; args=(5,); alias=default
(0.002) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'monthly' AND "core_waterconsumptionthreshold"."user_id" = 5) LIMIT 1; args=(1, 'monthly', 5); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'monthly' AND "core_waterconsumptionthreshold"."user_id" = 6) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('monthly', 6); alias=default
Bad Request: /api/threshold/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc830dc0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127453095988672, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec207c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eaeeff4e60>')], 'id': 127452865234880, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec21740>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127452865238848, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec23400>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eaeefd6c00>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127452865246208, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec202c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefd6c00>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeefd6c00>>')], 'id': 127452865233600, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec220c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefd6c00>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eaeefd6c00>}"), ('response', 'None')], 'id': 127452865241280, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec22c40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefd6c00>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127452865244224, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec216c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefd6c00>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeefd6c00>>')], 'id': 127452865238720, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 54380, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 27, 7, 646029, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eafc836260>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eafc8aa190>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec216c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefd6c00>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeefd6c00>>')], 'id': 127452865238720, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eafc830dc0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127453095988672, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec207c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eaeeff4e60>')], 'id': 127452865234880, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec21740>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127452865238848, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec23400>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eaeefd6c00>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127452865246208, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec202c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefd6c00>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeefd6c00>>')], 'id': 127452865233600, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec220c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefd6c00>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eaeefd6c00>}"), ('response', 'None')], 'id': 127452865241280, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec22c40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefd6c00>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127452865244224, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec216c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefd6c00>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeefd6c00>>')], 'id': 127452865238720, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 54380, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 27, 7, 646029, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eafc836260>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eafc8aa190>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec216c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeefd6c00>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeefd6c00>>')], 'id': 127452865238720, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/weekly/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec16400>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127452865192960, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec8ed80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eaeecbfc20>')], 'id': 127452865686912, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec8e840>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127452865685568, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeecc9f00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eaeecbea50>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127452865928960, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec8c940>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecbea50>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeecbea50>>')], 'id': 127452865677632, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefc0c80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecbea50>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eaeecbea50>}"), ('response', 'None')], 'id': 127452869037184, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeeccae00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecbea50>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127452865932800, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeecc9740>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecbea50>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeecbea50>>')], 'id': 127452865926976, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 39546, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '50', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 27, 27, 787390, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eafc8a98a0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eafc8aaf60>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeecc9740>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecbea50>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeecbea50>>')], 'id': 127452865926976, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec16400>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>>')], 'id': 127452865192960, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec8ed80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x73eb0117d3a0>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x73eafdc17d80>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x73eafe947bc0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x73eaeecbfc20>')], 'id': 127452865686912, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec8e840>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x73eafdc17ce0>')], 'id': 127452865685568, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeecc9f00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x73eaeecbea50>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 127452865928960, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeec8c940>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecbea50>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeecbea50>>')], 'id': 127452865677632, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeefc0c80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecbea50>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x73eafddef560>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x73eaeecbea50>}"), ('response', 'None')], 'id': 127452869037184, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeeccae00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecbea50>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 127452865932800, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeecc9740>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecbea50>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeecbea50>>')], 'id': 127452865926976, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 39546, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '50', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '217.55.212.165', 'HTTP_X_FORWARDED_HOST': '6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 14, 27, 27, 787390, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x73eafc8a98a0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x73eafc8aaf60>, 'request_insecure_uri': 'http://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x73eaeecc9740>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x73eaeecbea50>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x73eaeecbea50>>')], 'id': 127452865926976, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/weekly/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
(0.021) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T14:43:46.144957+00:00'::timestamptz AND "django_session"."session_key" = 'dcizhnrbtkm0gxhor0g090z61j5m22fg') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 14, 43, 46, 144957, tzinfo=datetime.timezone.utc), 'dcizhnrbtkm0gxhor0g090z61j5m22fg'); alias=default
(0.006) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.006) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.005) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionthreshold" INNER JOIN "core_customuser" ON ("core_waterconsumptionthreshold"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumptionthreshold"."id" DESC; args=(); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T14:43:47.322112+00:00'::timestamptz AND "django_session"."session_key" = 'dcizhnrbtkm0gxhor0g090z61j5m22fg') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 14, 43, 47, 322112, tzinfo=datetime.timezone.utc), 'dcizhnrbtkm0gxhor0g090z61j5m22fg'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
(0.021) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.003) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE ("core_waterconsumption"."period" = 'daily' AND "core_waterconsumption"."user_id" = 6) ORDER BY "core_waterconsumption"."timestamp" DESC LIMIT 1; args=('daily', 6); alias=default
Not Found: /api/water-consumption/latest/daily/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.015) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.013) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.016) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.019) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.019) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.005) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.017) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.006) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.023) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.014) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
Bad Request: /api/bulk-control/
(0.018) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
Bad Request: /api/bulk-control/
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.022) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.030) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.014) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.005) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.006) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 1; args=(1, 'azzam1'); alias=default
Bad Request: /api/register/
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 1; args=(1, 'azzam1'); alias=default
Bad Request: /api/register/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8886ac0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503114078912, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8893340>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224f885f950>')], 'id': 125503114130240, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8884900>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503114070272, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8891e80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224f885e2d0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503114124928, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f886cd80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f885e2d0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224f885e2d0>>')], 'id': 125503113973120, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f886e000>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f885e2d0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224f885e2d0>}"), ('response', 'None')], 'id': 125503113977856, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f886f3c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f885e2d0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503113982912, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f886cf80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f885e2d0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224f885e2d0>>')], 'id': 125503113973632, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 54084, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '50', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 19, 31, 38, 520438, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f918bc60>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f918b780>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f886cf80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f885e2d0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224f885e2d0>>')], 'id': 125503113973632, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8886ac0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503114078912, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8893340>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224f885f950>')], 'id': 125503114130240, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8884900>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503114070272, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8891e80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224f885e2d0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503114124928, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f886cd80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f885e2d0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224f885e2d0>>')], 'id': 125503113973120, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f886e000>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f885e2d0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224f885e2d0>}"), ('response', 'None')], 'id': 125503113977856, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f886f3c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f885e2d0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503113982912, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f886cf80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f885e2d0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224f885e2d0>>')], 'id': 125503113973632, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 54084, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '50', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 19, 31, 38, 520438, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f918bc60>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f918b780>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f886cf80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f885e2d0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224f885e2d0>>')], 'id': 125503113973632, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/weekly/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b80c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503146787008, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88c6040>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7b1d30>')], 'id': 125503114338368, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8884a80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503114070656, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88863c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b10a0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503114077120, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa413940>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b10a0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b10a0>>')], 'id': 125503142967616, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88c5bc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b10a0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7b10a0>}"), ('response', 'None')], 'id': 125503114337216, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88c70c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b10a0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503114342592, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88c4d40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b10a0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b10a0>>')], 'id': 125503114333504, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 54100, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '50', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 19, 31, 46, 21938, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f918a5a0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f918a330>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88c4d40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b10a0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b10a0>>')], 'id': 125503114333504, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b80c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503146787008, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88c6040>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7b1d30>')], 'id': 125503114338368, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8884a80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503114070656, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88863c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b10a0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503114077120, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa413940>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b10a0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b10a0>>')], 'id': 125503142967616, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88c5bc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b10a0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7b10a0>}"), ('response', 'None')], 'id': 125503114337216, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88c70c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b10a0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503114342592, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88c4d40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b10a0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b10a0>>')], 'id': 125503114333504, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 54100, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '50', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 19, 31, 46, 21938, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f918a5a0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f918a330>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88c4d40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b10a0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b10a0>>')], 'id': 125503114333504, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/weekly/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d5440>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503146906688, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8871180>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224f885e5a0>')], 'id': 125503113990528, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d4580>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503146902912, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884fec0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224f887c530>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503113854656, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d4b00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f887c530>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224f887c530>>')], 'id': 125503146904320, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b4700>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f887c530>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224f887c530>}"), ('response', 'None')], 'id': 125503146772224, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8871bc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f887c530>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503113993152, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8871580>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f887c530>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224f887c530>>')], 'id': 125503113991552, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 41510, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '50', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 19, 33, 56, 46244, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f91893c0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f9188fb0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8871580>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f887c530>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224f887c530>>')], 'id': 125503113991552, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d5440>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503146906688, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8871180>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224f885e5a0>')], 'id': 125503113990528, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d4580>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503146902912, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884fec0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224f887c530>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503113854656, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d4b00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f887c530>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224f887c530>>')], 'id': 125503146904320, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b4700>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f887c530>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224f887c530>}"), ('response', 'None')], 'id': 125503146772224, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8871bc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f887c530>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503113993152, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8871580>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f887c530>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224f887c530>>')], 'id': 125503113991552, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 41510, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '50', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 19, 33, 56, 46244, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f91893c0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f9188fb0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8871580>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224f887c530>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224f887c530>>')], 'id': 125503113991552, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/weekly/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8896600>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503114143232, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8876180>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7c8ad0>')], 'id': 125503114011008, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88955c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503114139072, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8860340>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c8a10>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503113921344, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8897a00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c8a10>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7c8a10>>')], 'id': 125503114148352, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f91e0e80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c8a10>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7c8a10>}"), ('response', 'None')], 'id': 125503123885696, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8862340>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c8a10>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503113929536, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88e3080>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c8a10>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7c8a10>>')], 'id': 125503114457216, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 50038, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '48', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 19, 35, 54, 46515, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f918b920>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f918b100>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88e3080>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c8a10>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7c8a10>>')], 'id': 125503114457216, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8896600>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503114143232, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8876180>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7c8ad0>')], 'id': 125503114011008, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88955c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503114139072, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8860340>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c8a10>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503113921344, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8897a00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c8a10>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7c8a10>>')], 'id': 125503114148352, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f91e0e80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c8a10>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7c8a10>}"), ('response', 'None')], 'id': 125503123885696, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8862340>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c8a10>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503113929536, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88e3080>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c8a10>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7c8a10>>')], 'id': 125503114457216, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 50038, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '48', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 19, 35, 54, 46515, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f918b920>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f918b100>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88e3080>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c8a10>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7c8a10>>')], 'id': 125503114457216, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/weekly/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f886fcc0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503113985216, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7aed00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fcd58680>')], 'id': 125503146749184, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f886d600>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503113975296, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7ae880>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7bc680>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503146748032, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8877180>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7bc680>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7bc680>>')], 'id': 125503114015104, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8874800>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7bc680>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7bc680>}"), ('response', 'None')], 'id': 125503114004480, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7aea40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7bc680>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503146748480, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7aea80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7bc680>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7bc680>>')], 'id': 125503146748544, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 48332, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '48', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 19, 37, 10, 895882, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f918b5e0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f88793c0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7aea80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7bc680>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7bc680>>')], 'id': 125503146748544, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f886fcc0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503113985216, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7aed00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fcd58680>')], 'id': 125503146749184, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f886d600>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503113975296, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7ae880>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7bc680>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503146748032, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8877180>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7bc680>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7bc680>>')], 'id': 125503114015104, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8874800>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7bc680>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7bc680>}"), ('response', 'None')], 'id': 125503114004480, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7aea40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7bc680>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503146748480, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7aea80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7bc680>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7bc680>>')], 'id': 125503146748544, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 48332, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '48', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 19, 37, 10, 895882, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f918b5e0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f88793c0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7aea80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7bc680>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7bc680>>')], 'id': 125503146748544, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/weekly/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.019) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.010) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.014) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 4); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.038) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 56.0, "period" = 'daily' WHERE "core_waterconsumptionthreshold"."id" = 1; args=(4, 56.0, 'daily', 1); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 4); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.005) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 56.0, "period" = 'weekly' WHERE "core_waterconsumptionthreshold"."id" = 2; args=(4, 56.0, 'weekly', 2); alias=default
(0.006) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'monthly' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('monthly', 4); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.005) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 56.0, "period" = 'monthly' WHERE "core_waterconsumptionthreshold"."id" = 4; args=(4, 56.0, 'monthly', 4); alias=default
(0.010) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d4180>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/monthly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503146901888, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fabd83c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/monthly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'monthly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7b26c0>')], 'id': 125503151113152, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b7540>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/monthly/'>"), ('args', '()'), ('kwargs', "{'period': 'monthly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503146784064, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa400680>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/monthly/'>"), ('args', '()'), ('kwargs', "{'period': 'monthly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2630>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503142889088, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884f600>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2630>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/monthly/'>"), ('args', '()'), ('kwargs', "{'period': 'monthly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b2630>>')], 'id': 125503113852416, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa431880>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2630>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'monthly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/monthly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7b2630>}"), ('response', 'None')], 'id': 125503143090304, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f917ecc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2630>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/monthly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503123483840, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fabc5b00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2630>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/monthly/'>"), ('args', '()'), ('kwargs', "{'period': 'monthly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b2630>>')], 'id': 125503151037184, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/monthly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/monthly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 42764, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '49', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 21, 5, 44, 380070, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f8852740>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f8852260>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/monthly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fabc5b00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2630>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/monthly/'>"), ('args', '()'), ('kwargs', "{'period': 'monthly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b2630>>')], 'id': 125503151037184, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d4180>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/monthly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503146901888, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fabd83c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/monthly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'monthly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7b26c0>')], 'id': 125503151113152, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b7540>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/monthly/'>"), ('args', '()'), ('kwargs', "{'period': 'monthly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503146784064, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa400680>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/monthly/'>"), ('args', '()'), ('kwargs', "{'period': 'monthly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2630>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503142889088, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884f600>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2630>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/monthly/'>"), ('args', '()'), ('kwargs', "{'period': 'monthly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b2630>>')], 'id': 125503113852416, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa431880>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2630>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'monthly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/monthly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7b2630>}"), ('response', 'None')], 'id': 125503143090304, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f917ecc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2630>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/monthly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503123483840, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fabc5b00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2630>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/monthly/'>"), ('args', '()'), ('kwargs', "{'period': 'monthly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b2630>>')], 'id': 125503151037184, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/monthly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/monthly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 42764, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '49', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 21, 5, 44, 380070, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f8852740>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f8852260>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/monthly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fabc5b00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2630>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/monthly/'>"), ('args', '()'), ('kwargs', "{'period': 'monthly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b2630>>')], 'id': 125503151037184, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/monthly/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.006) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'monthly' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('monthly', 4); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.004) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 56.0, "period" = 'monthly' WHERE "core_waterconsumptionthreshold"."id" = 4; args=(4, 56.0, 'monthly', 4); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 4); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.004) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 56.0, "period" = 'daily' WHERE "core_waterconsumptionthreshold"."id" = 1; args=(4, 56.0, 'daily', 1); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 4); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.003) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 56.0, "period" = 'weekly' WHERE "core_waterconsumptionthreshold"."id" = 2; args=(4, 56.0, 'weekly', 2); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 4); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 56.0, "period" = 'weekly' WHERE "core_waterconsumptionthreshold"."id" = 2; args=(4, 56.0, 'weekly', 2); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 4); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 56.0, "period" = 'weekly' WHERE "core_waterconsumptionthreshold"."id" = 2; args=(4, 56.0, 'weekly', 2); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b6940>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503146780992, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7ba940>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7d0fe0>')], 'id': 125503146797376, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b4f80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503146774400, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b4840>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d08c0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503146772544, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b5f80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d08c0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7d08c0>>')], 'id': 125503146778496, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b5c80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d08c0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7d08c0>}"), ('response', 'None')], 'id': 125503146777728, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b6f00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d08c0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503146782464, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7e5bc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d08c0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7d08c0>>')], 'id': 125503146974144, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 39828, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '48', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 21, 7, 58, 591551, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f88798a0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f8878380>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7e5bc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d08c0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7d08c0>>')], 'id': 125503146974144, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b6940>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503146780992, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7ba940>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7d0fe0>')], 'id': 125503146797376, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b4f80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503146774400, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b4840>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d08c0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503146772544, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b5f80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d08c0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7d08c0>>')], 'id': 125503146778496, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b5c80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d08c0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7d08c0>}"), ('response', 'None')], 'id': 125503146777728, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b6f00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d08c0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503146782464, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7e5bc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d08c0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7d08c0>>')], 'id': 125503146974144, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 39828, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '48', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 21, 7, 58, 591551, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f88798a0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f8878380>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7e5bc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d08c0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7d08c0>>')], 'id': 125503146974144, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/weekly/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.016) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.020) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.021) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.006) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.008) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.016) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.007) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.006) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.008) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.007) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.009) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 6 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(6,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE ("core_leakagedetection"."detection_type" = 'leak_alarm' AND "core_leakagedetection"."user_id" = 6) ORDER BY "core_leakagedetection"."timestamp" DESC LIMIT 1; args=('leak_alarm', 6); alias=default
Not Found: /api/leakage-detection/latest/leak_alarm/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.009) SELECT "core_waterconsumptionalert"."id", "core_waterconsumptionalert"."user_id", "core_waterconsumptionalert"."is_active", "core_waterconsumptionalert"."period", "core_waterconsumptionalert"."timestamp" FROM "core_waterconsumptionalert" WHERE "core_waterconsumptionalert"."user_id" = 6 ORDER BY "core_waterconsumptionalert"."timestamp" DESC; args=(6,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_waterconsumptionalert"."id", "core_waterconsumptionalert"."user_id", "core_waterconsumptionalert"."is_active", "core_waterconsumptionalert"."period", "core_waterconsumptionalert"."timestamp" FROM "core_waterconsumptionalert" WHERE ("core_waterconsumptionalert"."period" = 'daily' AND "core_waterconsumptionalert"."user_id" = 6) ORDER BY "core_waterconsumptionalert"."timestamp" DESC LIMIT 1; args=('daily', 6); alias=default
Not Found: /api/alerts/latest/daily/
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_waterconsumptionalert"."id", "core_waterconsumptionalert"."user_id", "core_waterconsumptionalert"."is_active", "core_waterconsumptionalert"."period", "core_waterconsumptionalert"."timestamp" FROM "core_waterconsumptionalert" WHERE "core_waterconsumptionalert"."user_id" = 6 ORDER BY "core_waterconsumptionalert"."timestamp" DESC; args=(6,); alias=default
(0.022) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.005) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f921a540>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503124120896, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7ba000>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7c9130>')], 'id': 125503146795008, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44c500>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143200000, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b9880>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c98e0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503146793088, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7ef540>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c98e0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7c98e0>>')], 'id': 125503147013440, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b93c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c98e0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7c98e0>}"), ('response', 'None')], 'id': 125503146791872, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7bb7c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c98e0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503146801088, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7bb880>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c98e0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7c98e0>>')], 'id': 125503146801280, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 55932, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 21, 51, 23, 45744, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224fa45d080>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224fa45d220>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7bb880>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c98e0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7c98e0>>')], 'id': 125503146801280, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f921a540>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503124120896, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7ba000>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'weekly'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7c9130>')], 'id': 125503146795008, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44c500>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143200000, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b9880>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c98e0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503146793088, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7ef540>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c98e0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7c98e0>>')], 'id': 125503147013440, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b93c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c98e0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'weekly'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/weekly/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7c98e0>}"), ('response', 'None')], 'id': 125503146791872, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7bb7c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c98e0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503146801088, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7bb880>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c98e0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7c98e0>>')], 'id': 125503146801280, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/weekly/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/weekly/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 55932, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 21, 51, 23, 45744, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224fa45d080>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224fa45d220>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/weekly/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7bb880>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7c98e0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/weekly/'>"), ('args', '()'), ('kwargs', "{'period': 'weekly'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7c98e0>>')], 'id': 125503146801280, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/weekly/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 4); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.011) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 5.0, "period" = 'weekly' WHERE "core_waterconsumptionthreshold"."id" = 2; args=(4, 5.0, 'weekly', 2); alias=default
(0.012) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.006) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44e6c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143208640, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44fb40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa4abcb0>')], 'id': 125503143213888, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa491cc0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143484608, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa491780>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa4abc50>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503143483264, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b9ec0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4abc50>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4abc50>>')], 'id': 125503146794688, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7af340>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4abc50>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa4abc50>}"), ('response', 'None')], 'id': 125503146750784, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa442d80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4abc50>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503143161216, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa442480>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4abc50>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4abc50>>')], 'id': 125503143158912, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 57616, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 21, 57, 50, 413176, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f88c81e0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f88c9be0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa442480>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4abc50>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4abc50>>')], 'id': 125503143158912, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44e6c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143208640, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44fb40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa4abcb0>')], 'id': 125503143213888, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa491cc0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143484608, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa491780>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa4abc50>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503143483264, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b9ec0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4abc50>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4abc50>>')], 'id': 125503146794688, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7af340>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4abc50>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa4abc50>}"), ('response', 'None')], 'id': 125503146750784, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa442d80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4abc50>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503143161216, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa442480>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4abc50>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4abc50>>')], 'id': 125503143158912, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 57616, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 21, 57, 50, 413176, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f88c81e0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f88c9be0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa442480>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4abc50>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4abc50>>')], 'id': 125503143158912, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/daily/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.007) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7e42c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503146967744, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7e52c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224f887cb90>')], 'id': 125503146971840, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7e55c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503146972608, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7afd00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa49c200>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503146753280, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa450ec0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa49c200>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa49c200>>')], 'id': 125503143218880, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa43e900>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa49c200>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa49c200>}"), ('response', 'None')], 'id': 125503143143680, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa43fec0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa49c200>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503143149248, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7bbc00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa49c200>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa49c200>>')], 'id': 125503146802176, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 60322, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 21, 58, 11, 159428, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f88c9be0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f88ca260>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7bbc00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa49c200>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa49c200>>')], 'id': 125503146802176, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7e42c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503146967744, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7e52c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224f887cb90>')], 'id': 125503146971840, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7e55c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503146972608, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7afd00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa49c200>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503146753280, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa450ec0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa49c200>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa49c200>>')], 'id': 125503143218880, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa43e900>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa49c200>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa49c200>}"), ('response', 'None')], 'id': 125503143143680, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa43fec0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa49c200>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503143149248, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7bbc00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa49c200>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa49c200>>')], 'id': 125503146802176, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 60322, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 21, 58, 11, 159428, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f88c9be0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f88ca260>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7bbc00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa49c200>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa49c200>>')], 'id': 125503146802176, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/daily/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 4); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.008) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 50.0, "period" = 'daily' WHERE "core_waterconsumptionthreshold"."id" = 1; args=(4, 50.0, 'daily', 1); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44c940>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143201088, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa4310c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7cb920>')], 'id': 125503143088320, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44c840>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143200832, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8886500>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503114077440, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44e640>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>>')], 'id': 125503143208512, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88c4040>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>}"), ('response', 'None')], 'id': 125503114330176, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8885640>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503114073664, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8885340>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>>')], 'id': 125503114072896, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 60682, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '45', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 21, 59, 10, 246959, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f88ca810>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f88cadc0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8885340>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>>')], 'id': 125503114072896, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44c940>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143201088, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa4310c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7cb920>')], 'id': 125503143088320, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44c840>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143200832, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8886500>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503114077440, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44e640>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>>')], 'id': 125503143208512, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88c4040>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>}"), ('response', 'None')], 'id': 125503114330176, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8885640>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503114073664, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8885340>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>>')], 'id': 125503114072896, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 60682, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '45', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 21, 59, 10, 246959, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f88ca810>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f88cadc0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8885340>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7ca7b0>>')], 'id': 125503114072896, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/daily/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa472dc0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143357888, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa473600>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa4a56d0>')], 'id': 125503143360000, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa471a00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143352832, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fabc5200>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a6660>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503151034880, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa471380>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a6660>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4a6660>>')], 'id': 125503143351168, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa429e00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a6660>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa4a6660>}"), ('response', 'None')], 'id': 125503143058944, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f886d740>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a6660>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503113975616, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884d8c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a6660>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4a6660>>')], 'id': 125503113844928, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 51372, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 21, 59, 33, 768678, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224fa45fed0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224fa45c040>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884d8c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a6660>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4a6660>>')], 'id': 125503113844928, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa472dc0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143357888, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa473600>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa4a56d0>')], 'id': 125503143360000, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa471a00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143352832, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fabc5200>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a6660>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503151034880, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa471380>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a6660>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4a6660>>')], 'id': 125503143351168, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa429e00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a6660>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa4a6660>}"), ('response', 'None')], 'id': 125503143058944, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f886d740>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a6660>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503113975616, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884d8c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a6660>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4a6660>>')], 'id': 125503113844928, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 51372, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 21, 59, 33, 768678, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224fa45fed0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224fa45c040>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884d8c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a6660>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4a6660>>')], 'id': 125503113844928, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/daily/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.003) SELECT "core_waterconsumptionalert"."id", "core_waterconsumptionalert"."user_id", "core_waterconsumptionalert"."is_active", "core_waterconsumptionalert"."period", "core_waterconsumptionalert"."timestamp" FROM "core_waterconsumptionalert" WHERE "core_waterconsumptionalert"."user_id" = 6 ORDER BY "core_waterconsumptionalert"."timestamp" DESC; args=(6,); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa441000>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143153664, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa43cd00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa4b1a30>')], 'id': 125503143136512, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa4791c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143383488, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa47b980>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b1a60>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503143393664, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa478740>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b1a60>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4b1a60>>')], 'id': 125503143380800, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa47b9c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b1a60>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa4b1a60>}"), ('response', 'None')], 'id': 125503143393728, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa478140>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b1a60>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503143379264, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884f080>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b1a60>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4b1a60>>')], 'id': 125503113851008, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 60612, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 1, 9, 538854, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224fa45e260>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224fa45cba0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884f080>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b1a60>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4b1a60>>')], 'id': 125503113851008, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa441000>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143153664, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa43cd00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa4b1a30>')], 'id': 125503143136512, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa4791c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143383488, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa47b980>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b1a60>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503143393664, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa478740>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b1a60>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4b1a60>>')], 'id': 125503143380800, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa47b9c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b1a60>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa4b1a60>}"), ('response', 'None')], 'id': 125503143393728, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa478140>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b1a60>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503143379264, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884f080>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b1a60>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4b1a60>>')], 'id': 125503113851008, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 60612, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 1, 9, 538854, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224fa45e260>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224fa45cba0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884f080>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b1a60>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4b1a60>>')], 'id': 125503113851008, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/daily/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88927c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503114127296, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8891600>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7d0a10>')], 'id': 125503114122752, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7e6940>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503146977600, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8862f00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3590>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503113932544, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f917db80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3590>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7d3590>>')], 'id': 125503123479424, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884fc80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3590>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7d3590>}"), ('response', 'None')], 'id': 125503113854080, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884e540>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3590>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503113848128, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa46abc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3590>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7d3590>>')], 'id': 125503143324608, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 47834, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '45', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 1, 59, 293543, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224fa45ee90>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224fa45cad0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa46abc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3590>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7d3590>>')], 'id': 125503143324608, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88927c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503114127296, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8891600>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7d0a10>')], 'id': 125503114122752, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7e6940>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503146977600, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8862f00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3590>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503113932544, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f917db80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3590>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7d3590>>')], 'id': 125503123479424, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884fc80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3590>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7d3590>}"), ('response', 'None')], 'id': 125503113854080, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884e540>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3590>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503113848128, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa46abc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3590>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7d3590>>')], 'id': 125503143324608, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 47834, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '45', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 1, 59, 293543, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224fa45ee90>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224fa45cad0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa46abc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3590>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7d3590>>')], 'id': 125503143324608, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/daily/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa491c00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143484416, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa492940>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7c8860>')], 'id': 125503143487808, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa492580>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143486848, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa472000>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503143354368, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa492500>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>>')], 'id': 125503143486720, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b90c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>}"), ('response', 'None')], 'id': 125503146791104, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fabc5200>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503151034880, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884e4c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>>')], 'id': 125503113848000, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 42554, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '45', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 2, 30, 792723, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f88cb510>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f9189700>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884e4c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>>')], 'id': 125503113848000, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa491c00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143484416, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa492940>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7c8860>')], 'id': 125503143487808, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa492580>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143486848, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa472000>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503143354368, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa492500>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>>')], 'id': 125503143486720, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7b90c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>}"), ('response', 'None')], 'id': 125503146791104, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fabc5200>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503151034880, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884e4c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>>')], 'id': 125503113848000, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 42554, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '45', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 2, 30, 792723, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f88cb510>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f9189700>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884e4c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7ca0f0>>')], 'id': 125503113848000, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/daily/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88d6b00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503114406656, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88d7b00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7cdee0>')], 'id': 125503114410752, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88d4840>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503114397760, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa45b180>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7cedb0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503143260544, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa45b840>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7cedb0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7cedb0>>')], 'id': 125503143262272, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa45b540>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7cedb0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7cedb0>}"), ('response', 'None')], 'id': 125503143261504, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa45af00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7cedb0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503143259904, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa43ebc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7cedb0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7cedb0>>')], 'id': 125503143144384, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 42570, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '45', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 2, 36, 907782, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f9189970>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224fa486190>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa43ebc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7cedb0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7cedb0>>')], 'id': 125503143144384, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88d6b00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503114406656, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88d7b00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7cdee0>')], 'id': 125503114410752, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88d4840>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503114397760, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa45b180>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7cedb0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503143260544, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa45b840>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7cedb0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7cedb0>>')], 'id': 125503143262272, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa45b540>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7cedb0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7cedb0>}"), ('response', 'None')], 'id': 125503143261504, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa45af00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7cedb0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503143259904, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa43ebc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7cedb0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7cedb0>>')], 'id': 125503143144384, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 42570, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '45', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 2, 36, 907782, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f9189970>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224fa486190>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa43ebc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7cedb0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7cedb0>>')], 'id': 125503143144384, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/daily/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa453180>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143227776, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d7080>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa4b0170>')], 'id': 125503146913920, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa452c80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143226496, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d49c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b3050>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503146904000, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa4509c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b3050>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4b3050>>')], 'id': 125503143217600, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d6880>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b3050>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa4b3050>}"), ('response', 'None')], 'id': 125503146911872, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d6c00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b3050>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503146912768, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d5940>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b3050>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4b3050>>')], 'id': 125503146907968, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 57470, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 4, 26, 657134, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f918b9f0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f918bed0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d5940>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b3050>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4b3050>>')], 'id': 125503146907968, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa453180>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143227776, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d7080>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa4b0170>')], 'id': 125503146913920, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa452c80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143226496, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d49c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b3050>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503146904000, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa4509c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b3050>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4b3050>>')], 'id': 125503143217600, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d6880>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b3050>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa4b3050>}"), ('response', 'None')], 'id': 125503146911872, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d6c00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b3050>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503146912768, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d5940>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b3050>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4b3050>>')], 'id': 125503146907968, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 57470, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 4, 26, 657134, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f918b9f0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f918bed0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7d5940>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4b3050>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4b3050>>')], 'id': 125503146907968, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/daily/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa440100>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143149824, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8894740>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa4b0e90>')], 'id': 125503114135360, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88c4240>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503114330688, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa43e500>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa4ab830>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503143142656, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa492a40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4ab830>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4ab830>>')], 'id': 125503143488064, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa491800>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4ab830>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa4ab830>}"), ('response', 'None')], 'id': 125503143483392, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa490c80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4ab830>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503143480448, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa493f40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4ab830>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4ab830>>')], 'id': 125503143493440, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 44086, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 4, 31, 364964, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f88ca810>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f88cacf0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa493f40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4ab830>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4ab830>>')], 'id': 125503143493440, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa440100>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143149824, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8894740>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa4b0e90>')], 'id': 125503114135360, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88c4240>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503114330688, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa43e500>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa4ab830>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503143142656, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa492a40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4ab830>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4ab830>>')], 'id': 125503143488064, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa491800>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4ab830>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa4ab830>}"), ('response', 'None')], 'id': 125503143483392, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa490c80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4ab830>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503143480448, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa493f40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4ab830>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4ab830>>')], 'id': 125503143493440, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 44086, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 4, 31, 364964, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224f88ca810>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f88cacf0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa493f40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4ab830>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4ab830>>')], 'id': 125503143493440, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/daily/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8887580>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503114081664, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88878c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7d3410>')], 'id': 125503114082496, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44c980>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143201152, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88746c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3350>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503114004160, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44e180>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3350>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7d3350>>')], 'id': 125503143207296, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa473040>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3350>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7d3350>}"), ('response', 'None')], 'id': 125503143358528, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa473800>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3350>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503143360512, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884c500>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3350>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7d3350>>')], 'id': 125503113839872, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 33468, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '46', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 4, 52, 660724, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224fa45c2b0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224fa4858a0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884c500>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3350>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7d3350>>')], 'id': 125503113839872, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f8887580>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503114081664, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88878c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7d3410>')], 'id': 125503114082496, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44c980>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143201152, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88746c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3350>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503114004160, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44e180>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3350>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7d3350>>')], 'id': 125503143207296, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa473040>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3350>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7d3350>}"), ('response', 'None')], 'id': 125503143358528, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa473800>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3350>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503143360512, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884c500>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3350>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7d3350>>')], 'id': 125503113839872, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 33468, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '46', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 4, 52, 660724, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224fa45c2b0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224fa4858a0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f884c500>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7d3350>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7d3350>>')], 'id': 125503113839872, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/daily/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa436a80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143111296, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa434d40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7b30e0>')], 'id': 125503143103808, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa413a40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503142967872, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44e3c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2de0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503143207872, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88c4a40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2de0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b2de0>>')], 'id': 125503114332736, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7e7800>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2de0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7b2de0>}"), ('response', 'None')], 'id': 125503146981376, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44d800>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2de0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503143204864, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44dcc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2de0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b2de0>>')], 'id': 125503143206080, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 44508, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '49', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 5, 13, 829356, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224fa485220>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224fa4860c0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44dcc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2de0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b2de0>>')], 'id': 125503143206080, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa436a80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143111296, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa434d40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7b30e0>')], 'id': 125503143103808, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa413a40>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503142967872, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44e3c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2de0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503143207872, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88c4a40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2de0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b2de0>>')], 'id': 125503114332736, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7e7800>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2de0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7b2de0>}"), ('response', 'None')], 'id': 125503146981376, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44d800>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2de0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503143204864, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44dcc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2de0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b2de0>>')], 'id': 125503143206080, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 44508, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '49', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 5, 13, 829356, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224fa485220>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224fa4860c0>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44dcc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b2de0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b2de0>>')], 'id': 125503143206080, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/daily/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa4403c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143150528, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa443340>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7eb890>')], 'id': 125503143162688, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa440ec0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143153344, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa489680>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503143450240, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa441740>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>>')], 'id': 125503143155520, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa45af40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>}"), ('response', 'None')], 'id': 125503143259968, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa428300>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503143052032, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa429640>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>>')], 'id': 125503143056960, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 44384, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 5, 51, 584722, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224fa45e400>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224fa45c790>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa429640>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>>')], 'id': 125503143056960, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa4403c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143150528, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa443340>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7eb890>')], 'id': 125503143162688, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa440ec0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143153344, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa489680>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503143450240, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa441740>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>>')], 'id': 125503143155520, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa45af40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>}"), ('response', 'None')], 'id': 125503143259968, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa428300>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503143052032, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa429640>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>>')], 'id': 125503143056960, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 44384, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 5, 51, 584722, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224fa45e400>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224fa45c790>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa429640>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7eb9b0>>')], 'id': 125503143056960, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/daily/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44ff00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143214848, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88d6040>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa4a7320>')], 'id': 125503114403904, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44d500>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143204096, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f886cf80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a4c20>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503113973632, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44fb00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a4c20>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4a4c20>>')], 'id': 125503143213824, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88d4f80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a4c20>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa4a4c20>}"), ('response', 'None')], 'id': 125503114399616, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88d6940>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a4c20>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503114406208, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88d4c00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a4c20>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4a4c20>>')], 'id': 125503114398720, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 50048, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 6, 21, 117283, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224fa45fd30>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f88ca740>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88d4c00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a4c20>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4a4c20>>')], 'id': 125503114398720, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44ff00>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143214848, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88d6040>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa4a7320>')], 'id': 125503114403904, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44d500>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143204096, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f886cf80>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a4c20>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503113973632, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44fb00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a4c20>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4a4c20>>')], 'id': 125503143213824, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88d4f80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a4c20>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa4a4c20>}"), ('response', 'None')], 'id': 125503114399616, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88d6940>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a4c20>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503114406208, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88d4c00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a4c20>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4a4c20>>')], 'id': 125503114398720, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 50048, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 6, 21, 117283, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224fa45fd30>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224f88ca740>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224f88d4c00>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa4a4c20>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa4a4c20>>')], 'id': 125503114398720, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/daily/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa470340>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143347008, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa4711c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7b3860>')], 'id': 125503143350720, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44eac0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143209664, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa4309c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b0da0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503143086528, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7bb4c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b0da0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b0da0>>')], 'id': 125503146800320, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa488fc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b0da0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7b0da0>}"), ('response', 'None')], 'id': 125503143448512, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa430d40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b0da0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503143087424, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa431b80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b0da0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b0da0>>')], 'id': 125503143091072, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 50048, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 6, 24, 776526, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224fa486b50>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224fa485d80>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa431b80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b0da0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b0da0>>')], 'id': 125503143091072, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/template/context.py", line 85, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 889, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
                                            ^^^^^^^^
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa470340>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 42, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('get_response', '<bound method BaseHandler._get_response_async of <django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>>')], 'id': 125503143347008, 'pre_context': ['    can rely on getting a response instead of an exception.', '    """', '    if iscoroutinefunction(get_response):', '', '        @wraps(get_response)', '        async def inner(request):', '            try:'], 'context_line': '                response = await get_response(request)', 'post_context': ['            except Exception as exc:', '                response = await sync_to_async(', '                    response_for_exception, thread_sensitive=False', '                )(request, exc)', '            return response', ''], 'pre_context_lineno': 35, 'colno': '\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa4711c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py', 'function': '_get_response_async', 'lineno': 253, 'vars': [('self', '<django.core.handlers.asgi.ASGIHandler object at 0x7224fcf15220>'), ('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('response', 'None'), ('callback', '<function View.as_view.<locals>.view at 0x7224f9b27ba0>'), ('callback_args', '()'), ('callback_kwargs', "{'period': 'daily'}"), ('middleware_method', '<asgiref.sync.SyncToAsync object at 0x7224fab4b7a0>'), ('wrapped_callback', '<asgiref.sync.SyncToAsync object at 0x7224fa7b3860>')], 'id': 125503143350720, 'pre_context': ['            wrapped_callback = self.make_view_atomic(callback)', '            # If it is a synchronous view, run it in a subthread', '            if not iscoroutinefunction(wrapped_callback):', '                wrapped_callback = sync_to_async(', '                    wrapped_callback, thread_sensitive=True', '                )', '            try:'], 'context_line': '                response = await wrapped_callback(', 'post_context': ['                    request, *callback_args, **callback_kwargs', '                )', '            except Exception as e:', '                response = await sync_to_async(', '                    self.process_exception_by_middleware,', '                    thread_sensitive=True,'], 'pre_context_lineno': 246, 'colno': '\n                                ', 'tb_area_colno': '\n               '}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa44eac0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py', 'function': '_view_wrapper', 'lineno': 65, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('view_func', '<function View.as_view.<locals>.view at 0x7224f9b27b00>')], 'id': 125503143209664, 'pre_context': ['', '        async def _view_wrapper(request, *args, **kwargs):', '            return await view_func(request, *args, **kwargs)', '', '    else:', '', '        def _view_wrapper(request, *args, **kwargs):'], 'context_line': '            return view_func(request, *args, **kwargs)', 'post_context': ['', '    _view_wrapper.csrf_exempt = True', '', '    return wraps(view_func)(_view_wrapper)'], 'pre_context_lineno': 58, 'colno': '\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa4309c0>, 'type': 'django', 'filename': '/usr/local/lib/python3.12/site-packages/django/views/generic/base.py', 'function': 'view', 'lineno': 104, 'vars': [('request', "<ASGIRequest: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b0da0>'), ('cls', "<class 'core.views.alerts.ThresholdView'>"), ('initkwargs', '{}')], 'id': 125503143086528, 'pre_context': ['            self = cls(**initkwargs)', '            self.setup(request, *args, **kwargs)', '            if not hasattr(self, "request"):', '                raise AttributeError(', '                    "%s instance has no \'request\' attribute. Did you override "', '                    "setup() and forget to call super()?" % cls.__name__', '                )'], 'context_line': '            return self.dispatch(request, *args, **kwargs)', 'post_context': ['', '        view.view_class = cls', '        view.view_initkwargs = initkwargs', '', '        # __name__ and __qualname__ are intentionally left unchanged as', '        # view_class should be used to robustly determine the name of the view'], 'pre_context_lineno': 97, 'colno': '\n                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa7bb4c0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 509, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b0da0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b0da0>>')], 'id': 125503146800320, 'pre_context': ['                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', '', '            response = handler(request, *args, **kwargs)', '', '        except Exception as exc:'], 'context_line': '            response = self.handle_exception(exc)', 'post_context': ['', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response', '', '    def options(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 502, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa488fc0>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'handle_exception', 'lineno': 469, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b0da0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('exception_handler', '<function exception_handler at 0x7224f9cf7380>'), ('context', "{'args': (),\n 'kwargs': {'period': 'daily'},\n 'request': <rest_framework.request.Request: POST '/api/threshold/daily/'>,\n 'view': <core.views.alerts.ThresholdView object at 0x7224fa7b0da0>}"), ('response', 'None')], 'id': 125503143448512, 'pre_context': ['', '        exception_handler = self.get_exception_handler()', '', '        context = self.get_exception_handler_context()', '        response = exception_handler(exc, context)', '', '        if response is None:'], 'context_line': '            self.raise_uncaught_exception(exc)', 'post_context': ['', '        response.exception = True', '        return response', '', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:'], 'pre_context_lineno': 462, 'colno': '\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa430d40>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'raise_uncaught_exception', 'lineno': 480, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b0da0>'), ('exc', 'TypeError("ThresholdView.post() got an unexpected keyword argument \'period\'")'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('renderer_format', "'json'"), ('use_plaintext_traceback', 'True')], 'id': 125503143087424, 'pre_context': ['', '    def raise_uncaught_exception(self, exc):', '        if settings.DEBUG:', '            request = self.request', "            renderer_format = getattr(request.accepted_renderer, 'format')", "            use_plaintext_traceback = renderer_format not in ('html', 'api', 'admin')", '            request.force_plaintext_errors(use_plaintext_traceback)'], 'context_line': '        raise exc', 'post_context': ['', '    # Note: Views are made CSRF exempt from within `as_view` as to prevent', '    # accidental removal of this exemption in cases where `dispatch` needs to', '    # be overridden.', '    def dispatch(self, request, *args, **kwargs):', '        """'], 'pre_context_lineno': 473, 'colno': '\n             ^^^^^^^^^', 'tb_area_colno': '\n    ^^^^^^^^^'}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa431b80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b0da0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b0da0>>')], 'id': 125503143091072, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}], 'request': <ASGIRequest: POST '/api/threshold/daily/'>, 'request_meta': {'REQUEST_METHOD': 'POST', 'QUERY_STRING': '', 'SCRIPT_NAME': '', 'PATH_INFO': '/api/threshold/daily/', 'wsgi.multithread': True, 'wsgi.multiprocess': True, 'REMOTE_ADDR': '172.18.0.1', 'REMOTE_HOST': '172.18.0.1', 'REMOTE_PORT': 50048, 'SERVER_NAME': '172.18.0.5', 'SERVER_PORT': '8000', 'HTTP_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_USER_AGENT': 'Dart/3.8 (dart:io)', 'CONTENT_LENGTH': '47', 'HTTP_ACCEPT_ENCODING': 'gzip', 'HTTP_AUTHORIZATION': 'Token f87fa737f1c04601cd5d5eb9fc0a579aa3529f44', 'CONTENT_TYPE': 'application/json', 'HTTP_X_FORWARDED_FOR': '197.120.121.162', 'HTTP_X_FORWARDED_HOST': 'dec9-102-190-169-176.ngrok-free.app', 'HTTP_X_FORWARDED_PROTO': 'https'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'reda', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ACCOUNT_AUTHENTICATION_METHOD': 'username_email', 'ACCOUNT_EMAIL_REQUIRED': True, 'ACCOUNT_EMAIL_VERIFICATION': 'optional', 'ACCOUNT_USERNAME_REQUIRED': True, 'ADMINS': [], 'ALLOWED_HOSTS': ['localhost', '127.0.0.1', '192.168.1.7', '.ngrok-free.app'], 'APPEND_SLASH': True, 'ASGI_APPLICATION': 'water_management.asgi.application', 'AUTHENTICATION_BACKENDS': ['django.contrib.auth.backends.ModelBackend', 'allauth.account.auth_backends.AuthenticationBackend'], 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': 'core.CustomUser', 'BASE_DIR': PosixPath('/app'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CHANNEL_LAYERS': {'default': {'BACKEND': 'channels_redis.core.RedisChannelLayer', 'CONFIG': {'hosts': [('redis', 6379)]}}}, 'CORS_ALLOW_ALL_ORIGINS': True, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': ['https://6561-2c0f-fc89-ef-f2bf-5c22-e4db-afe0-4b0d.ngrok-free.app'], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.postgresql', 'NAME': 'water_db', 'USER': 'postgres', 'PASSWORD': '********************', 'HOST': 'db', 'PORT': '5432', 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'rest_framework', 'core', 'rest_framework.authtoken', 'channels', 'django.contrib.sites', 'allauth', 'allauth.account', 'allauth.socialaccount', 'allauth.socialaccount.providers.google', 'allauth.socialaccount.providers.facebook', 'corsheaders'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokml'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': 'logs/django.log'}, 'console': {'level': 'DEBUG', 'class': 'logging.StreamHandler'}}, 'loggers': {'django': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': True}, 'django.request': {'handlers': ['file', 'console'], 'level': 'DEBUG', 'propagate': False}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '', 'MEDIA_URL': '/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'whitenoise.middleware.WhiteNoiseMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'corsheaders.middleware.CorsMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'allauth.account.middleware.AccountMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'REST_FRAMEWORK': {'DEFAULT_AUTHENTICATION_CLASSES': ['rest_framework.authentication.TokenAuthentication'], 'DEFAULT_PERMISSION_CLASSES': ['rest_framework.permissions.IsAuthenticated'], 'DEFAULT_CSRF_EXEMPT': True}, 'ROOT_URLCONF': 'water_management.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'water_management.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'SITE_ID': 1, 'SOCIALACCOUNT_PROVIDERS': {'google': {'SCOPE': ['profile', 'email'], 'AUTH_PARAMS': {'access_type': 'online'}}, 'facebook': {'METHOD': 'oauth2', 'SCOPE': ['email', 'public_profile'], 'FIELDS': ['id', 'email', 'name']}}, 'STATICFILES_DIRS': ['/app/static'], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATICFILES_STORAGE': 'whitenoise.storage.CompressedManifestStaticFilesStorage', 'STATIC_ROOT': '/app/staticfiles', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'water_management.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/python3.12', 'sys_version_info': '3.12.11', 'server_time': datetime.datetime(2025, 6, 30, 22, 6, 24, 776526, tzinfo=datetime.timezone.utc), 'django_version_info': '5.1.6', 'sys_path': ['.', '/usr/local/bin', '/usr/local/lib/python312.zip', '/usr/local/lib/python3.12', '/usr/local/lib/python3.12/lib-dynload', '/usr/local/lib/python3.12/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7224fa486b50>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7224fa485d80>, 'request_insecure_uri': 'http://dec9-102-190-169-176.ngrok-free.app/api/threshold/daily/', 'raising_view_name': 'core.views.alerts.ThresholdView', 'exception_type': 'TypeError', 'exception_value': "ThresholdView.post() got an unexpected keyword argument 'period'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7224fa431b80>, 'type': 'user', 'filename': '/usr/local/lib/python3.12/site-packages/rest_framework/views.py', 'function': 'dispatch', 'lineno': 506, 'vars': [('self', '<core.views.alerts.ThresholdView object at 0x7224fa7b0da0>'), ('request', "<rest_framework.request.Request: POST '/api/threshold/daily/'>"), ('args', '()'), ('kwargs', "{'period': 'daily'}"), ('handler', '<bound method ThresholdView.post of <core.views.alerts.ThresholdView object at 0x7224fa7b0da0>>')], 'id': 125503143091072, 'pre_context': ['            # Get the appropriate handler method', '            if request.method.lower() in self.http_method_names:', '                handler = getattr(self, request.method.lower(),', '                                  self.http_method_not_allowed)', '            else:', '                handler = self.http_method_not_allowed', ''], 'context_line': '            response = handler(request, *args, **kwargs)', 'post_context': ['', '        except Exception as exc:', '            response = self.handle_exception(exc)', '', '        self.response = self.finalize_response(request, response, *args, **kwargs)', '        return self.response'], 'pre_context_lineno': 499, 'colno': '\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^', 'tb_area_colno': '\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^'}}]
Internal Server Error: /api/threshold/daily/
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 253, in _get_response_async
    response = await wrapped_callback(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 468, in __call__
    ret = await asyncio.shield(exec_coro)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/current_thread_executor.py", line 40, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 522, in thread_handler
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.12/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: ThresholdView.post() got an unexpected keyword argument 'period'
(0.014) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.007) SELECT "core_waterconsumptionalert"."id", "core_waterconsumptionalert"."user_id", "core_waterconsumptionalert"."is_active", "core_waterconsumptionalert"."period", "core_waterconsumptionalert"."timestamp" FROM "core_waterconsumptionalert" WHERE "core_waterconsumptionalert"."user_id" = 6 ORDER BY "core_waterconsumptionalert"."timestamp" DESC; args=(6,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.006) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE ("core_leakagedetection"."detection_type" = 'leak_alarm' AND "core_leakagedetection"."user_id" = 6) ORDER BY "core_leakagedetection"."timestamp" DESC LIMIT 1; args=('leak_alarm', 6); alias=default
Not Found: /api/leakage-detection/latest/leak_alarm/
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'bfb5bbb902dba6bb0812a807b7c5a49ccdd18153' LIMIT 21; args=('bfb5bbb902dba6bb0812a807b7c5a49ccdd18153',); alias=default
(0.001) SELECT "core_waterconsumptionalert"."id", "core_waterconsumptionalert"."user_id", "core_waterconsumptionalert"."is_active", "core_waterconsumptionalert"."period", "core_waterconsumptionalert"."timestamp" FROM "core_waterconsumptionalert" WHERE "core_waterconsumptionalert"."user_id" = 6 ORDER BY "core_waterconsumptionalert"."timestamp" DESC; args=(6,); alias=default
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
(0.009) SELECT "django_site"."id", "django_site"."domain", "django_site"."name" FROM "django_site" WHERE "django_site"."id" = 1 LIMIT 21; args=(1,); alias=default
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /favicon.ico
Forbidden (Origin checking failed - https://dec9-102-190-169-176.ngrok-free.app does not match any trusted origins.): /admin/login/
(0.043) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.047) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.046) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.018) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.019) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.020) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
(0.020) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 1; args=(1, 'azzam1'); alias=default
Bad Request: /api/register/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
Forbidden (Origin checking failed - https://dec9-102-190-169-176.ngrok-free.app does not match any trusted origins.): /admin/login/
(0.019) SELECT "django_site"."id", "django_site"."domain", "django_site"."name" FROM "django_site" WHERE "django_site"."id" = 1 LIMIT 21; args=(1,); alias=default
(0.008) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.005) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.010) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
Forbidden (Origin checking failed - https://dec9-102-190-169-176.ngrok-free.app does not match any trusted origins.): /admin/login/
Forbidden (Origin checking failed - https://dec9-102-190-169-176.ngrok-free.app does not match any trusted origins.): /admin/login/
Forbidden (Origin checking failed - https://dec9-102-190-169-176.ngrok-free.app does not match any trusted origins.): /admin/login/
Forbidden (Origin checking failed - https://dec9-102-190-169-176.ngrok-free.app does not match any trusted origins.): /admin/login/
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
(0.021) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
Forbidden (Origin checking failed - https://dec9-102-190-169-176.ngrok-free.app does not match any trusted origins.): /admin/login/
(0.003) SELECT "django_site"."id", "django_site"."domain", "django_site"."name" FROM "django_site" WHERE "django_site"."id" = 1 LIMIT 21; args=(1,); alias=default
Forbidden (Origin checking failed - https://dec9-102-190-169-176.ngrok-free.app does not match any trusted origins.): /admin/login/
(0.015) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.010) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 4) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 4); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 4 LIMIT 21; args=(4,); alias=default
(0.012) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 4, "threshold" = 24.0, "period" = 'weekly' WHERE "core_waterconsumptionthreshold"."id" = 2; args=(4, 24.0, 'weekly', 2); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.005) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.006) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.006) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.009) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam1' LIMIT 21; args=('azzam1',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 6 LIMIT 21; args=(6,); alias=default
(0.008) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
Forbidden (Origin checking failed - https://dec9-102-190-169-176.ngrok-free.app does not match any trusted origins.): /admin/login/
Forbidden (Origin checking failed - https://dec9-102-190-169-176.ngrok-free.app does not match any trusted origins.): /admin/login/
(0.015) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
(0.002) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam2' LIMIT 21; args=('azzam2',); alias=default
(0.015) INSERT INTO "core_customuser" ("password", "last_login", "is_superuser", "username", "first_name", "last_name", "email", "is_staff", "is_active", "date_joined", "role", "full_name", "home_address", "phone_number", "created_at") VALUES ('pbkdf2_sha256$870000$COPzkKcKZdAQj5LkIqmdPs$KlqJ2oax71w3HhbeZkGXlCi0OzOI9iSA1jVIR+FgZqg=', NULL, true, 'azzam2', '', '', 'azzam2@gmail.com', true, true, '2025-06-30T22:20:05.019913+00:00'::timestamptz, 'homeowner', '', NULL, NULL, '2025-06-30T22:20:05.205536+00:00'::timestamptz) RETURNING "core_customuser"."id"; args=('pbkdf2_sha256$870000$COPzkKcKZdAQj5LkIqmdPs$KlqJ2oax71w3HhbeZkGXlCi0OzOI9iSA1jVIR+FgZqg=', None, True, 'azzam2', '', '', 'azzam2@gmail.com', True, True, datetime.datetime(2025, 6, 30, 22, 20, 5, 19913, tzinfo=datetime.timezone.utc), 'homeowner', '', None, None, datetime.datetime(2025, 6, 30, 22, 20, 5, 205536, tzinfo=datetime.timezone.utc)); alias=default
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /
Forbidden (Origin checking failed - https://dec9-102-190-169-176.ngrok-free.app does not match any trusted origins.): /admin/login/
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /favicon.ico
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': 'admin'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T22:21:03.518301+00:00'::timestamptz AND "django_session"."session_key" = 'fj7qu66zzxzd9xurtml7onid4ty38k6b') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 22, 21, 3, 518301, tzinfo=datetime.timezone.utc), 'fj7qu66zzxzd9xurtml7onid4ty38k6b'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'azzam' LIMIT 21; args=('azzam',); alias=default
(0.001) SELECT 1 AS "a" FROM "django_session" WHERE "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx' LIMIT 1; args=(1, 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.000) BEGIN; args=None; alias=default
(0.002) INSERT INTO "django_session" ("session_key", "session_data", "expire_date") VALUES ('ptsrfjkqf5yxmnnbbrjdwt2213ki85gx', 'e30:1uWMsA:l-vaO_Semt_fx2Qbs4G9I1A_KaU18mr_d3FOPIxh9S4', '2025-07-14T22:21:10.987818+00:00'::timestamptz); args=('ptsrfjkqf5yxmnnbbrjdwt2213ki85gx', 'e30:1uWMsA:l-vaO_Semt_fx2Qbs4G9I1A_KaU18mr_d3FOPIxh9S4', datetime.datetime(2025, 7, 14, 22, 21, 10, 987818, tzinfo=datetime.timezone.utc)); alias=default
(0.003) COMMIT; args=None; alias=default
(0.004) UPDATE "core_customuser" SET "last_login" = '2025-06-30T22:21:11.003373+00:00'::timestamptz WHERE "core_customuser"."id" = 3; args=(datetime.datetime(2025, 6, 30, 22, 21, 11, 3373, tzinfo=datetime.timezone.utc), 3); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) UPDATE "django_session" SET "session_data" = '.eJxVjDEOAiEQRe9CbQgMCIylvWcgwIyyaiBZdivj3XWTLbT9773_EjGtS43r4DlOJE7CiMPvllN5cNsA3VO7dVl6W-Ypy02ROx3y0omf5939O6hp1G-dmYrLYAit13gFYx2Rcs4wJEzsGQoeA2ZdXPCIoDhoC9oFCkWRzuL9AeZaN4c:1uWMsB:ZlURQrauY-e16Uir3uoPRFzgT6wYVHytlIiePTpxaWw', "expire_date" = '2025-07-14T22:21:11.013267+00:00'::timestamptz WHERE "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'; args=('.eJxVjDEOAiEQRe9CbQgMCIylvWcgwIyyaiBZdivj3XWTLbT9773_EjGtS43r4DlOJE7CiMPvllN5cNsA3VO7dVl6W-Ypy02ROx3y0omf5939O6hp1G-dmYrLYAit13gFYx2Rcs4wJEzsGQoeA2ZdXPCIoDhoC9oFCkWRzuL9AeZaN4c:1uWMsB:ZlURQrauY-e16Uir3uoPRFzgT6wYVHytlIiePTpxaWw', datetime.datetime(2025, 7, 14, 22, 21, 11, 13267, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) COMMIT; args=None; alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T22:21:11.031470+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 22, 21, 11, 31470, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.009) SELECT "django_admin_log"."id", "django_admin_log"."action_time", "django_admin_log"."user_id", "django_admin_log"."content_type_id", "django_admin_log"."object_id", "django_admin_log"."object_repr", "django_admin_log"."action_flag", "django_admin_log"."change_message", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at", "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_admin_log" INNER JOIN "core_customuser" ON ("django_admin_log"."user_id" = "core_customuser"."id") LEFT OUTER JOIN "django_content_type" ON ("django_admin_log"."content_type_id" = "django_content_type"."id") WHERE "django_admin_log"."user_id" = 3 ORDER BY "django_admin_log"."action_time" DESC LIMIT 10; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T22:21:20.951571+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 22, 21, 20, 951571, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.006) SELECT COUNT(*) AS "__count" FROM "core_leakagedetection"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_leakagedetection"; args=(); alias=default
(0.003) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_leakagedetection" INNER JOIN "core_customuser" ON ("core_leakagedetection"."user_id" = "core_customuser"."id") ORDER BY "core_leakagedetection"."timestamp" DESC, "core_leakagedetection"."id" DESC; args=(); alias=default
(0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-06-30T22:21:21.198185+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 6, 30, 22, 21, 21, 198185, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.005) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.005) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.006) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE ("core_leakagedetection"."detection_type" = 'leak_alarm' AND "core_leakagedetection"."user_id" = 4) ORDER BY "core_leakagedetection"."timestamp" DESC LIMIT 1; args=('leak_alarm', 4); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 4 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(4,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "core_waterconsumptionalert"."id", "core_waterconsumptionalert"."user_id", "core_waterconsumptionalert"."is_active", "core_waterconsumptionalert"."period", "core_waterconsumptionalert"."timestamp" FROM "core_waterconsumptionalert" WHERE "core_waterconsumptionalert"."user_id" = 4 ORDER BY "core_waterconsumptionalert"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.006) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 4 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(4,); alias=default
(0.014) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE ("core_leakagedetection"."detection_type" = 'leak_alarm' AND "core_leakagedetection"."user_id" = 4) ORDER BY "core_leakagedetection"."timestamp" DESC LIMIT 1; args=('leak_alarm', 4); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionalert"."id", "core_waterconsumptionalert"."user_id", "core_waterconsumptionalert"."is_active", "core_waterconsumptionalert"."period", "core_waterconsumptionalert"."timestamp" FROM "core_waterconsumptionalert" WHERE "core_waterconsumptionalert"."user_id" = 4 ORDER BY "core_waterconsumptionalert"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumptionalert"."id", "core_waterconsumptionalert"."user_id", "core_waterconsumptionalert"."is_active", "core_waterconsumptionalert"."period", "core_waterconsumptionalert"."timestamp" FROM "core_waterconsumptionalert" WHERE ("core_waterconsumptionalert"."period" = 'daily' AND "core_waterconsumptionalert"."user_id" = 4) ORDER BY "core_waterconsumptionalert"."timestamp" DESC LIMIT 1; args=('daily', 4); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE ("core_leakagedetection"."detection_type" = 'leak_alarm' AND "core_leakagedetection"."user_id" = 4) ORDER BY "core_leakagedetection"."timestamp" DESC LIMIT 1; args=('leak_alarm', 4); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumptionalert"."id", "core_waterconsumptionalert"."user_id", "core_waterconsumptionalert"."is_active", "core_waterconsumptionalert"."period", "core_waterconsumptionalert"."timestamp" FROM "core_waterconsumptionalert" WHERE "core_waterconsumptionalert"."user_id" = 4 ORDER BY "core_waterconsumptionalert"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 4 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(4,); alias=default
(0.019) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.023) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.023) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.009) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.017) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.021) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.021) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.007) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 4 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(4,); alias=default
(0.014) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.014) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 4 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(4,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 4 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(4,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.004) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 4 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 4 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 4 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(4,); alias=default
(0.013) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.015) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.008) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 4 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 4 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 4 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.006) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 4 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(4,); alias=default
(0.006) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 4 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 4 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 4 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 4 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(4,); alias=default
(0.013) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'reda' LIMIT 21; args=('reda',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 4 LIMIT 21; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.003) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 4 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(4,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = 'f87fa737f1c04601cd5d5eb9fc0a579aa3529f44' LIMIT 21; args=('f87fa737f1c04601cd5d5eb9fc0a579aa3529f44',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 4 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(4,); alias=default
Unauthorized: /api/logout/
(0.003) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."username" = 'test5' LIMIT 1; args=(1, 'test5'); alias=default
Bad Request: /api/register/
(0.002) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."username" = 'test5' LIMIT 1; args=(1, 'test5'); alias=default
Bad Request: /api/register/
(0.002) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."username" = 'test@new' LIMIT 1; args=(1, 'test@new'); alias=default
(0.000) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."email" = 'examplenew@gmail.com' LIMIT 1; args=(1, 'examplenew@gmail.com'); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."phone_number" = '01223399884' LIMIT 1; args=(1, '01223399884'); alias=default
(0.024) INSERT INTO "core_customuser" ("password", "last_login", "is_superuser", "username", "first_name", "last_name", "email", "is_staff", "is_active", "date_joined", "role", "full_name", "home_address", "phone_number", "created_at") VALUES ('pbkdf2_sha256$870000$beEz2Twsz3yBexkv9NaneO$6NuihaRDHt5KEIHJ0n5xUjnxFIeCWUrQsG6jroe7+sM=', NULL, false, 'test@new', '', '', 'examplenew@gmail.com', false, true, '2025-07-01T00:14:03.679266+00:00'::timestamptz, 'homeowner', 'test new', '123 Street', '01223399884', '2025-07-01T00:14:03.891993+00:00'::timestamptz) RETURNING "core_customuser"."id"; args=('pbkdf2_sha256$870000$beEz2Twsz3yBexkv9NaneO$6NuihaRDHt5KEIHJ0n5xUjnxFIeCWUrQsG6jroe7+sM=', None, False, 'test@new', '', '', 'examplenew@gmail.com', False, True, datetime.datetime(2025, 7, 1, 0, 14, 3, 679266, tzinfo=datetime.timezone.utc), 'homeowner', 'test new', '123 Street', '01223399884', datetime.datetime(2025, 7, 1, 0, 14, 3, 891993, tzinfo=datetime.timezone.utc)); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 12 LIMIT 21; args=(12,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.005) INSERT INTO "authtoken_token" ("key", "user_id", "created") VALUES ('27164e358f2a044f1f2000e82a1c3cb17cb59d22', 12, '2025-07-01T00:14:03.932402+00:00'::timestamptz); args=('27164e358f2a044f1f2000e82a1c3cb17cb59d22', 12, datetime.datetime(2025, 7, 1, 0, 14, 3, 932402, tzinfo=datetime.timezone.utc)); alias=default
(0.009) COMMIT; args=None; alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '27164e358f2a044f1f2000e82a1c3cb17cb59d22' LIMIT 21; args=('27164e358f2a044f1f2000e82a1c3cb17cb59d22',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '27164e358f2a044f1f2000e82a1c3cb17cb59d22' LIMIT 21; args=('27164e358f2a044f1f2000e82a1c3cb17cb59d22',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 12 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(12,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '27164e358f2a044f1f2000e82a1c3cb17cb59d22' LIMIT 21; args=('27164e358f2a044f1f2000e82a1c3cb17cb59d22',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '27164e358f2a044f1f2000e82a1c3cb17cb59d22' LIMIT 21; args=('27164e358f2a044f1f2000e82a1c3cb17cb59d22',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 12 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(12,); alias=default
(0.003) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 12 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(12,); alias=default
(0.005) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '27164e358f2a044f1f2000e82a1c3cb17cb59d22' LIMIT 21; args=('27164e358f2a044f1f2000e82a1c3cb17cb59d22',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 12 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(12,); alias=default
Unauthorized: /api/logout/
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."username" = 'test888' LIMIT 1; args=(1, 'test888'); alias=default
(0.000) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."email" = 'emaplendw@gmail.com' LIMIT 1; args=(1, 'emaplendw@gmail.com'); alias=default
(0.000) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."phone_number" = '01998833447' LIMIT 1; args=(1, '01998833447'); alias=default
(0.005) INSERT INTO "core_customuser" ("password", "last_login", "is_superuser", "username", "first_name", "last_name", "email", "is_staff", "is_active", "date_joined", "role", "full_name", "home_address", "phone_number", "created_at") VALUES ('pbkdf2_sha256$870000$aSiPZjMDrBWeGqWbPr4o6e$5XgLgtp2Isf/pd3p/gwMjg/kE48FEBuZ0aTstR2X97s=', NULL, false, 'test888', '', '', 'emaplendw@gmail.com', false, true, '2025-07-01T00:16:38.473791+00:00'::timestamptz, 'homeowner', 'test added', '123 Street', '01998833447', '2025-07-01T00:16:38.670921+00:00'::timestamptz) RETURNING "core_customuser"."id"; args=('pbkdf2_sha256$870000$aSiPZjMDrBWeGqWbPr4o6e$5XgLgtp2Isf/pd3p/gwMjg/kE48FEBuZ0aTstR2X97s=', None, False, 'test888', '', '', 'emaplendw@gmail.com', False, True, datetime.datetime(2025, 7, 1, 0, 16, 38, 473791, tzinfo=datetime.timezone.utc), 'homeowner', 'test added', '123 Street', '01998833447', datetime.datetime(2025, 7, 1, 0, 16, 38, 670921, tzinfo=datetime.timezone.utc)); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 13 LIMIT 21; args=(13,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) INSERT INTO "authtoken_token" ("key", "user_id", "created") VALUES ('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7', 13, '2025-07-01T00:16:38.680443+00:00'::timestamptz); args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7', 13, datetime.datetime(2025, 7, 1, 0, 16, 38, 680443, tzinfo=datetime.timezone.utc)); alias=default
(0.002) COMMIT; args=None; alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 13 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 13 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(13,); alias=default
Unauthorized: /api/logout/
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>
Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/asgiref/sync.py", line 518, in thread_handler
    raise exc_info[1]
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/exception.py", line 42, in inner
    response = await get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 235, in _get_response_async
    callback, callback_args, callback_kwargs = self.resolve_request(request)
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'core.urls' from '/app/core/urls.py'> (None:None) 'api/'>], [<URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>], [<URLPattern '^static/(?P<path>.*)$'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 883, in _resolve_lookup
    current = current[bit]
              ~~~~~~~^^^^^
TypeError: 'URLResolver' object is not subscriptable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 893, in _resolve_lookup
    current = getattr(current, bit)
              ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 899, in _resolve_lookup
    current = current[int(bit)]
                      ^^^^^^^^
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/django/template/base.py", line 906, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'allauth.urls' from '/usr/local/lib/python3.12/site-packages/allauth/urls.py'> (None:None) 'accounts/'>
Not Found: /
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:17:50.792190+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 17, 50, 792190, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.007) SELECT "django_admin_log"."id", "django_admin_log"."action_time", "django_admin_log"."user_id", "django_admin_log"."content_type_id", "django_admin_log"."object_id", "django_admin_log"."object_repr", "django_admin_log"."action_flag", "django_admin_log"."change_message", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at", "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_admin_log" INNER JOIN "core_customuser" ON ("django_admin_log"."user_id" = "core_customuser"."id") LEFT OUTER JOIN "django_content_type" ON ("django_admin_log"."content_type_id" = "django_content_type"."id") WHERE "django_admin_log"."user_id" = 3 ORDER BY "django_admin_log"."action_time" DESC LIMIT 10; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:17:54.033481+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 17, 54, 33481, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.006) SELECT COUNT(*) AS "__count" FROM "core_leakagedetection"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_leakagedetection"; args=(); alias=default
(0.003) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_leakagedetection" INNER JOIN "core_customuser" ON ("core_leakagedetection"."user_id" = "core_customuser"."id") ORDER BY "core_leakagedetection"."timestamp" DESC, "core_leakagedetection"."id" DESC; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:17:54.230583+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 17, 54, 230583, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:17:58.781712+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 17, 58, 781712, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.003) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'core' AND "django_content_type"."model" = 'leakagedetection') LIMIT 21; args=('core', 'leakagedetection'); alias=default
(0.000) COMMIT; args=None; alias=default
(0.002) DECLARE "_django_curs_131027909473984_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:17:58.961137+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 17, 58, 961137, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:18:28.900561+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 18, 28, 900561, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 21; args=(13,); alias=default
(0.000) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 1; args=(1, 13); alias=default
(0.007) INSERT INTO "core_leakagedetection" ("user_id", "is_active", "detection_type", "timestamp", "sensor_id") VALUES (13, true, 'leak_alarm', '2025-07-01T00:18:28.935869+00:00'::timestamptz, 'main_flow_sensor') RETURNING "core_leakagedetection"."id"; args=(13, True, 'leak_alarm', datetime.datetime(2025, 7, 1, 0, 18, 28, 935869, tzinfo=datetime.timezone.utc), 'main_flow_sensor'); alias=default
(0.009) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-07-01T00:18:28.948481+00:00'::timestamptz, 3, 9, '5', 'Leak Alarm for test888 at 2025-07-01 00:18:28.935869+00:00: Active', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 7, 1, 0, 18, 28, 948481, tzinfo=datetime.timezone.utc), 3, 9, '5', 'Leak Alarm for test888 at 2025-07-01 00:18:28.935869+00:00: Active', 1, '[{"added": {}}]'); alias=default
(0.002) COMMIT; args=None; alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:18:28.983468+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 18, 28, 983468, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_leakagedetection"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_leakagedetection"; args=(); alias=default
(0.002) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_leakagedetection" INNER JOIN "core_customuser" ON ("core_leakagedetection"."user_id" = "core_customuser"."id") ORDER BY "core_leakagedetection"."timestamp" DESC, "core_leakagedetection"."id" DESC; args=(); alias=default
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:18:29.114717+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 18, 29, 114717, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:18:33.754136+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 18, 33, 754136, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_tankflowmetric"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_tankflowmetric"; args=(); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_tankflowmetric" INNER JOIN "core_customuser" ON ("core_tankflowmetric"."user_id" = "core_customuser"."id") ORDER BY "core_tankflowmetric"."timestamp" DESC, "core_tankflowmetric"."id" DESC; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:18:33.838115+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 18, 33, 838115, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:18:36.168077+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 18, 36, 168077, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.002) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'core' AND "django_content_type"."model" = 'tankflowmetric') LIMIT 21; args=('core', 'tankflowmetric'); alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_131027901081280_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:18:36.273119+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 18, 36, 273119, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:19:29.344662+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 19, 29, 344662, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 21; args=(13,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 1; args=(1, 13); alias=default
(0.006) INSERT INTO "core_tankflowmetric" ("user_id", "value", "metric_type", "timestamp", "sensor_id") VALUES (13, 80.0, 'tank_level', '2025-07-01T00:19:29.373155+00:00'::timestamptz, 'tank_level_sensor') RETURNING "core_tankflowmetric"."id"; args=(13, 80.0, 'tank_level', datetime.datetime(2025, 7, 1, 0, 19, 29, 373155, tzinfo=datetime.timezone.utc), 'tank_level_sensor'); alias=default
(0.002) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-07-01T00:19:29.380518+00:00'::timestamptz, 3, 8, '6', 'Tank Level for test888 at 2025-07-01 00:19:29.373155+00:00: 80.0L', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 7, 1, 0, 19, 29, 380518, tzinfo=datetime.timezone.utc), 3, 8, '6', 'Tank Level for test888 at 2025-07-01 00:19:29.373155+00:00: 80.0L', 1, '[{"added": {}}]'); alias=default
(0.004) COMMIT; args=None; alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:19:29.406462+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 19, 29, 406462, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.004) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_tankflowmetric"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_tankflowmetric"; args=(); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_tankflowmetric" INNER JOIN "core_customuser" ON ("core_tankflowmetric"."user_id" = "core_customuser"."id") ORDER BY "core_tankflowmetric"."timestamp" DESC, "core_tankflowmetric"."id" DESC; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:19:29.542890+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 19, 29, 542890, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:19:30.654575+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 19, 30, 654575, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_131027875903168_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:19:30.768132+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 19, 30, 768132, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:11.719444+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 11, 719444, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 21; args=(13,); alias=default
(0.000) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 1; args=(1, 13); alias=default
(0.001) INSERT INTO "core_tankflowmetric" ("user_id", "value", "metric_type", "timestamp", "sensor_id") VALUES (13, 20.0, 'main_flow_rate', '2025-07-01T00:21:11.738750+00:00'::timestamptz, 'main_flow_sensor') RETURNING "core_tankflowmetric"."id"; args=(13, 20.0, 'main_flow_rate', datetime.datetime(2025, 7, 1, 0, 21, 11, 738750, tzinfo=datetime.timezone.utc), 'main_flow_sensor'); alias=default
(0.001) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-07-01T00:21:11.741005+00:00'::timestamptz, 3, 8, '7', 'Main Flow Rate for test888 at 2025-07-01 00:21:11.738750+00:00: 20.0L/min', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 7, 1, 0, 21, 11, 741005, tzinfo=datetime.timezone.utc), 3, 8, '7', 'Main Flow Rate for test888 at 2025-07-01 00:21:11.738750+00:00: 20.0L/min', 1, '[{"added": {}}]'); alias=default
(0.003) COMMIT; args=None; alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:11.758403+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 11, 758403, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_tankflowmetric"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_tankflowmetric"; args=(); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_tankflowmetric" INNER JOIN "core_customuser" ON ("core_tankflowmetric"."user_id" = "core_customuser"."id") ORDER BY "core_tankflowmetric"."timestamp" DESC, "core_tankflowmetric"."id" DESC; args=(); alias=default
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:11.893119+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 11, 893119, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:12.749246+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 12, 749246, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_131028257756864_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:12.882330+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 12, 882330, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.004) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:28.889083+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 28, 889083, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 21; args=(13,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 1; args=(1, 13); alias=default
(0.002) INSERT INTO "core_tankflowmetric" ("user_id", "value", "metric_type", "timestamp", "sensor_id") VALUES (13, 10.0, 'secondary_flow_rate', '2025-07-01T00:21:28.914535+00:00'::timestamptz, 'secondary_flow_sensor') RETURNING "core_tankflowmetric"."id"; args=(13, 10.0, 'secondary_flow_rate', datetime.datetime(2025, 7, 1, 0, 21, 28, 914535, tzinfo=datetime.timezone.utc), 'secondary_flow_sensor'); alias=default
(0.001) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-07-01T00:21:28.917705+00:00'::timestamptz, 3, 8, '8', 'Secondary Flow Rate for test888 at 2025-07-01 00:21:28.914535+00:00: 10.0L/min', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 7, 1, 0, 21, 28, 917705, tzinfo=datetime.timezone.utc), 3, 8, '8', 'Secondary Flow Rate for test888 at 2025-07-01 00:21:28.914535+00:00: 10.0L/min', 1, '[{"added": {}}]'); alias=default
(0.003) COMMIT; args=None; alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:28.945537+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 28, 945537, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_tankflowmetric"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_tankflowmetric"; args=(); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_tankflowmetric" INNER JOIN "core_customuser" ON ("core_tankflowmetric"."user_id" = "core_customuser"."id") ORDER BY "core_tankflowmetric"."timestamp" DESC, "core_tankflowmetric"."id" DESC; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:29.066722+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 29, 66722, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:31.570722+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 31, 570722, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_131027892688576_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:31.656230+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 31, 656230, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:35.289062+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 35, 289062, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.003) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionalert"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionalert"; args=(); alias=default
(0.001) SELECT "core_waterconsumptionalert"."id", "core_waterconsumptionalert"."user_id", "core_waterconsumptionalert"."is_active", "core_waterconsumptionalert"."period", "core_waterconsumptionalert"."timestamp", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionalert" INNER JOIN "core_customuser" ON ("core_waterconsumptionalert"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumptionalert"."timestamp" DESC, "core_waterconsumptionalert"."id" DESC; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:35.414655+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 35, 414655, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:38.680881+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 38, 680881, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'core' AND "django_content_type"."model" = 'waterconsumptionalert') LIMIT 21; args=('core', 'waterconsumptionalert'); alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_131027909473984_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:38.797679+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 38, 797679, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:47.246421+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 47, 246421, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 21; args=(13,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 1; args=(1, 13); alias=default
(0.004) INSERT INTO "core_waterconsumptionalert" ("user_id", "is_active", "period", "timestamp") VALUES (13, true, 'daily', '2025-07-01T00:21:47.268526+00:00'::timestamptz) RETURNING "core_waterconsumptionalert"."id"; args=(13, True, 'daily', datetime.datetime(2025, 7, 1, 0, 21, 47, 268526, tzinfo=datetime.timezone.utc)); alias=default
(0.001) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-07-01T00:21:47.273724+00:00'::timestamptz, 3, 10, '6', 'Daily Alert for test888 at 2025-07-01 00:21:47.268526+00:00: Active', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 7, 1, 0, 21, 47, 273724, tzinfo=datetime.timezone.utc), 3, 10, '6', 'Daily Alert for test888 at 2025-07-01 00:21:47.268526+00:00: Active', 1, '[{"added": {}}]'); alias=default
(0.003) COMMIT; args=None; alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:47.297895+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 47, 297895, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionalert"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionalert"; args=(); alias=default
(0.001) SELECT "core_waterconsumptionalert"."id", "core_waterconsumptionalert"."user_id", "core_waterconsumptionalert"."is_active", "core_waterconsumptionalert"."period", "core_waterconsumptionalert"."timestamp", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionalert" INNER JOIN "core_customuser" ON ("core_waterconsumptionalert"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumptionalert"."timestamp" DESC, "core_waterconsumptionalert"."id" DESC; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:47.434784+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 47, 434784, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:50.523588+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 50, 523588, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.004) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionthreshold" INNER JOIN "core_customuser" ON ("core_waterconsumptionthreshold"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumptionthreshold"."id" DESC; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:50.631934+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 50, 631934, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:53.844201+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 53, 844201, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'core' AND "django_content_type"."model" = 'waterconsumptionthreshold') LIMIT 21; args=('core', 'waterconsumptionthreshold'); alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_131027892688576_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:21:53.953760+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 21, 53, 953760, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:22:07.819550+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 22, 7, 819550, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:22:07.921274+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 22, 7, 921274, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:22:09.470565+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 22, 9, 470565, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'core' AND "django_content_type"."model" = 'waterconsumption') LIMIT 21; args=('core', 'waterconsumption'); alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_131028267198144_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:22:09.575538+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 22, 9, 575538, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:22:20.519671+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 22, 20, 519671, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionthreshold" INNER JOIN "core_customuser" ON ("core_waterconsumptionthreshold"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumptionthreshold"."id" DESC; args=(); alias=default
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:22:20.621662+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 22, 20, 621662, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:22:21.621995+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 22, 21, 621995, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_131027875903168_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:22:21.730754+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 22, 21, 730754, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:22:48.516616+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 22, 48, 516616, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 21; args=(13,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 1; args=(1, 13); alias=default
(0.002) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 13) LIMIT 1; args=(1, 'daily', 13); alias=default
(0.005) INSERT INTO "core_waterconsumptionthreshold" ("user_id", "threshold", "period") VALUES (13, 2000.0, 'daily') RETURNING "core_waterconsumptionthreshold"."id"; args=(13, 2000.0, 'daily'); alias=default
(0.005) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-07-01T00:22:48.554312+00:00'::timestamptz, 3, 11, '10', 'Daily Threshold for test888: 2000.0L', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 7, 1, 0, 22, 48, 554312, tzinfo=datetime.timezone.utc), 3, 11, '10', 'Daily Threshold for test888: 2000.0L', 1, '[{"added": {}}]'); alias=default
(0.005) COMMIT; args=None; alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:22:48.585443+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 22, 48, 585443, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionthreshold" INNER JOIN "core_customuser" ON ("core_waterconsumptionthreshold"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumptionthreshold"."id" DESC; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:22:48.704893+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 22, 48, 704893, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:22:50.221005+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 22, 50, 221005, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_131028257756864_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:22:50.321853+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 22, 50, 321853, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:23:03.441940+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 23, 3, 441940, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 21; args=(13,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 1; args=(1, 13); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 13) LIMIT 1; args=(1, 'weekly', 13); alias=default
(0.001) INSERT INTO "core_waterconsumptionthreshold" ("user_id", "threshold", "period") VALUES (13, 15000.0, 'weekly') RETURNING "core_waterconsumptionthreshold"."id"; args=(13, 15000.0, 'weekly'); alias=default
(0.001) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-07-01T00:23:03.467996+00:00'::timestamptz, 3, 11, '11', 'Weekly Threshold for test888: 15000.0L', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 7, 1, 0, 23, 3, 467996, tzinfo=datetime.timezone.utc), 3, 11, '11', 'Weekly Threshold for test888: 15000.0L', 1, '[{"added": {}}]'); alias=default
(0.003) COMMIT; args=None; alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:23:03.487229+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 23, 3, 487229, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.003) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionthreshold" INNER JOIN "core_customuser" ON ("core_waterconsumptionthreshold"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumptionthreshold"."id" DESC; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:23:03.624588+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 23, 3, 624588, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.005) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:23:04.615616+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 23, 4, 615616, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_131028257756864_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:23:04.722619+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 23, 4, 722619, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:23:18.408307+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 23, 18, 408307, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 21; args=(13,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 1; args=(1, 13); alias=default
(0.001) SELECT 1 AS "a" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'monthly' AND "core_waterconsumptionthreshold"."user_id" = 13) LIMIT 1; args=(1, 'monthly', 13); alias=default
(0.000) INSERT INTO "core_waterconsumptionthreshold" ("user_id", "threshold", "period") VALUES (13, 600000.0, 'monthly') RETURNING "core_waterconsumptionthreshold"."id"; args=(13, 600000.0, 'monthly'); alias=default
(0.001) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-07-01T00:23:18.428992+00:00'::timestamptz, 3, 11, '12', 'Monthly Threshold for test888: 600000.0L', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 7, 1, 0, 23, 18, 428992, tzinfo=datetime.timezone.utc), 3, 11, '12', 'Monthly Threshold for test888: 600000.0L', 1, '[{"added": {}}]'); alias=default
(0.002) COMMIT; args=None; alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:23:18.444453+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 23, 18, 444453, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumptionthreshold"; args=(); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumptionthreshold" INNER JOIN "core_customuser" ON ("core_waterconsumptionthreshold"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumptionthreshold"."id" DESC; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:23:18.536670+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 23, 18, 536670, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:23:20.108684+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 23, 20, 108684, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.000) DECLARE "_django_curs_131028257756864_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:23:20.203216+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 23, 20, 203216, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:23:26.807528+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 23, 26, 807528, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:23:26.937115+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 23, 26, 937115, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:23:28.395948+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 23, 28, 395948, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.000) DECLARE "_django_curs_131028257756864_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:23:28.504205+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 23, 28, 504205, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'test888' LIMIT 21; args=('test888',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 13 LIMIT 21; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 13 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 13 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 13 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 13 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(13,); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 13 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:24:16.937752+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 24, 16, 937752, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 21; args=(13,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 1; args=(1, 13); alias=default
(0.003) INSERT INTO "core_waterconsumption" ("user_id", "consumption", "period", "timestamp", "sensor_id") VALUES (13, 950.0, 'daily', '2025-07-01T00:24:16.955848+00:00'::timestamptz, 'main_flow_sensor') RETURNING "core_waterconsumption"."id"; args=(13, 950.0, 'daily', datetime.datetime(2025, 7, 1, 0, 24, 16, 955848, tzinfo=datetime.timezone.utc), 'main_flow_sensor'); alias=default
(0.001) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-07-01T00:24:16.960138+00:00'::timestamptz, 3, 7, '9', 'Daily Water Consumption for test888 at 2025-07-01 00:24:16.955848+00:00: 950.0L', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 7, 1, 0, 24, 16, 960138, tzinfo=datetime.timezone.utc), 3, 7, '9', 'Daily Water Consumption for test888 at 2025-07-01 00:24:16.955848+00:00: 950.0L', 1, '[{"added": {}}]'); alias=default
(0.002) COMMIT; args=None; alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:24:16.975949+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 24, 16, 975949, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:24:17.093469+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 24, 17, 93469, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:24:17.991625+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 24, 17, 991625, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.002) DECLARE "_django_curs_131028267198144_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.004) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 13 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(13,); alias=default
(0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:24:18.167607+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 24, 18, 167607, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.004) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:24:41.878647+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 24, 41, 878647, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 21; args=(13,); alias=default
(0.000) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 1; args=(1, 13); alias=default
(0.001) INSERT INTO "core_waterconsumption" ("user_id", "consumption", "period", "timestamp", "sensor_id") VALUES (13, 6000.0, 'weekly', '2025-07-01T00:24:41.898415+00:00'::timestamptz, 'main_flow_sensor') RETURNING "core_waterconsumption"."id"; args=(13, 6000.0, 'weekly', datetime.datetime(2025, 7, 1, 0, 24, 41, 898415, tzinfo=datetime.timezone.utc), 'main_flow_sensor'); alias=default
(0.001) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-07-01T00:24:41.900571+00:00'::timestamptz, 3, 7, '10', 'Weekly Water Consumption for test888 at 2025-07-01 00:24:41.898415+00:00: 6000.0L', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 7, 1, 0, 24, 41, 900571, tzinfo=datetime.timezone.utc), 3, 7, '10', 'Weekly Water Consumption for test888 at 2025-07-01 00:24:41.898415+00:00: 6000.0L', 1, '[{"added": {}}]'); alias=default
(0.002) COMMIT; args=None; alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:24:41.917708+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 24, 41, 917708, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC; args=(); alias=default
(0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:24:42.018535+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 24, 42, 18535, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:24:43.019286+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 24, 43, 19286, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_131027909473984_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:24:43.164005+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 24, 43, 164005, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.006) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 13 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 13 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 13 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(13,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:25:10.256650+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 25, 10, 256650, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 21; args=(13,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 1; args=(1, 13); alias=default
(0.002) INSERT INTO "core_waterconsumption" ("user_id", "consumption", "period", "timestamp", "sensor_id") VALUES (13, 50000.0, 'monthly', '2025-07-01T00:25:10.281608+00:00'::timestamptz, 'main_flow_sensor') RETURNING "core_waterconsumption"."id"; args=(13, 50000.0, 'monthly', datetime.datetime(2025, 7, 1, 0, 25, 10, 281608, tzinfo=datetime.timezone.utc), 'main_flow_sensor'); alias=default
(0.001) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-07-01T00:25:10.284914+00:00'::timestamptz, 3, 7, '11', 'Monthly Water Consumption for test888 at 2025-07-01 00:25:10.281608+00:00: 50000.0L', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 7, 1, 0, 25, 10, 284914, tzinfo=datetime.timezone.utc), 3, 7, '11', 'Monthly Water Consumption for test888 at 2025-07-01 00:25:10.281608+00:00: 50000.0L', 1, '[{"added": {}}]'); alias=default
(0.004) COMMIT; args=None; alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:25:10.306898+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 25, 10, 306898, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC; args=(); alias=default
(0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:25:10.415746+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 25, 10, 415746, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:25:11.309320+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 25, 11, 309320, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_131028257756864_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:25:11.409044+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 25, 11, 409044, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.003) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 13 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 13 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 13 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 13 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:25:32.239797+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 25, 32, 239797, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.000) COMMIT; args=None; alias=default
(0.001) DECLARE "_django_curs_131027909473984_sync_1" NO SCROLL CURSOR WITH HOLD FOR SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:25:32.356026+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 25, 32, 356026, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 13 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:25:35.532550+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 25, 35, 532550, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.000) BEGIN; args=None; alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 21; args=(13,); alias=default
(0.001) SELECT 1 AS "a" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 1; args=(1, 13); alias=default
(0.001) INSERT INTO "core_waterconsumption" ("user_id", "consumption", "period", "timestamp", "sensor_id") VALUES (13, 100000.0, 'total', '2025-07-01T00:25:35.559268+00:00'::timestamptz, 'main_flow_sensor') RETURNING "core_waterconsumption"."id"; args=(13, 100000.0, 'total', datetime.datetime(2025, 7, 1, 0, 25, 35, 559268, tzinfo=datetime.timezone.utc), 'main_flow_sensor'); alias=default
(0.002) INSERT INTO "django_admin_log" ("action_time", "user_id", "content_type_id", "object_id", "object_repr", "action_flag", "change_message") VALUES ('2025-07-01T00:25:35.562093+00:00'::timestamptz, 3, 7, '12', 'Total Water Consumption for test888 at 2025-07-01 00:25:35.559268+00:00: 100000.0L', 1, '[{"added": {}}]') RETURNING "django_admin_log"."id"; args=(datetime.datetime(2025, 7, 1, 0, 25, 35, 562093, tzinfo=datetime.timezone.utc), 3, 7, '12', 'Total Water Consumption for test888 at 2025-07-01 00:25:35.559268+00:00: 100000.0L', 1, '[{"added": {}}]'); alias=default
(0.003) COMMIT; args=None; alias=default
(0.001) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:25:35.584135+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 25, 35, 584135, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.004) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.001) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser"; args=(); alias=default
(0.001) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.000) SELECT COUNT(*) AS "__count" FROM "core_waterconsumption"; args=(); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_waterconsumption" INNER JOIN "core_customuser" ON ("core_waterconsumption"."user_id" = "core_customuser"."id") ORDER BY "core_waterconsumption"."timestamp" DESC, "core_waterconsumption"."id" DESC; args=(); alias=default
(0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-07-01T00:25:35.704774+00:00'::timestamptz AND "django_session"."session_key" = 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx') LIMIT 21; args=(datetime.datetime(2025, 7, 1, 0, 25, 35, 704774, tzinfo=datetime.timezone.utc), 'ptsrfjkqf5yxmnnbbrjdwt2213ki85gx'); alias=default
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 3 LIMIT 21; args=(3,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 13 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 13 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 13 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 13 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 13 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 13 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 13 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 13 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 13 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 13 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(13,); alias=default
Unauthorized: /api/logout/
(0.002) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."username" = 'test888' LIMIT 21; args=('test888',); alias=default
(0.001) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created" FROM "authtoken_token" WHERE "authtoken_token"."user_id" = 13 LIMIT 21; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_waterconsumption"."id", "core_waterconsumption"."user_id", "core_waterconsumption"."consumption", "core_waterconsumption"."period", "core_waterconsumption"."timestamp", "core_waterconsumption"."sensor_id" FROM "core_waterconsumption" WHERE "core_waterconsumption"."user_id" = 13 ORDER BY "core_waterconsumption"."timestamp" DESC; args=(13,); alias=default
(0.003) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_tankflowmetric"."id", "core_tankflowmetric"."user_id", "core_tankflowmetric"."value", "core_tankflowmetric"."metric_type", "core_tankflowmetric"."timestamp", "core_tankflowmetric"."sensor_id" FROM "core_tankflowmetric" WHERE "core_tankflowmetric"."user_id" = 13 ORDER BY "core_tankflowmetric"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_leakagedetection"."id", "core_leakagedetection"."user_id", "core_leakagedetection"."is_active", "core_leakagedetection"."detection_type", "core_leakagedetection"."timestamp", "core_leakagedetection"."sensor_id" FROM "core_leakagedetection" WHERE "core_leakagedetection"."user_id" = 13 ORDER BY "core_leakagedetection"."timestamp" DESC; args=(13,); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'daily' AND "core_waterconsumptionthreshold"."user_id" = 13) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('daily', 13); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 21; args=(13,); alias=default
(0.003) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 13, "threshold" = 5000.0, "period" = 'daily' WHERE "core_waterconsumptionthreshold"."id" = 10; args=(13, 5000.0, 'daily', 10); alias=default
(0.002) SELECT "authtoken_token"."key", "authtoken_token"."user_id", "authtoken_token"."created", "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "authtoken_token" INNER JOIN "core_customuser" ON ("authtoken_token"."user_id" = "core_customuser"."id") WHERE "authtoken_token"."key" = '51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7' LIMIT 21; args=('51fb6724653f7d3fb16f5a8afcaabdb7d640fbc7',); alias=default
(0.001) SELECT "core_waterconsumptionthreshold"."id", "core_waterconsumptionthreshold"."user_id", "core_waterconsumptionthreshold"."threshold", "core_waterconsumptionthreshold"."period" FROM "core_waterconsumptionthreshold" WHERE ("core_waterconsumptionthreshold"."period" = 'weekly' AND "core_waterconsumptionthreshold"."user_id" = 13) ORDER BY "core_waterconsumptionthreshold"."id" ASC LIMIT 1; args=('weekly', 13); alias=default
(0.000) SELECT "core_customuser"."id", "core_customuser"."password", "core_customuser"."last_login", "core_customuser"."is_superuser", "core_customuser"."username", "core_customuser"."first_name", "core_customuser"."last_name", "core_customuser"."email", "core_customuser"."is_staff", "core_customuser"."is_active", "core_customuser"."date_joined", "core_customuser"."role", "core_customuser"."full_name", "core_customuser"."home_address", "core_customuser"."phone_number", "core_customuser"."created_at" FROM "core_customuser" WHERE "core_customuser"."id" = 13 LIMIT 21; args=(13,); alias=default
(0.002) UPDATE "core_waterconsumptionthreshold" SET "user_id" = 13, "threshold" = 50000.0, "period" = 'weekly' WHERE "core_waterconsumptionthreshold"."id" = 11; args=(13, 50000.0, 'weekly', 11); alias=default
Unauthorized: /api/logout/
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
Asynchronous handler adapted for middleware whitenoise.middleware.WhiteNoiseMiddleware.
